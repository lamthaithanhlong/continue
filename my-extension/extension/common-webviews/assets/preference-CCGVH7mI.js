import{ak as be,t as V,u as I,x as g,I as j,E as r,J as a,K as N,L as P,n as c,F as X,a0 as te,$ as me,al as fe,aG as x,O as B,a8 as he,N as ye,W as Q,C as t,G as q,P as ke,Q as ne,A as oe,z as ge,M as _e,an as we,aa as qe,aE as Ae}from"./TextAugment-CCgoKCVh.js";import{aL as ie}from"./AugmentMessage-BHgnxRkx.js";import{b as De,a as Be}from"./BaseTextInput-CKEk7GUD.js";import{C as Ie}from"./chat-model-DaVfYv7o.js";import{M as xe}from"./message-broker-CppRv-qk.js";import{s as $e}from"./chat-model-context-DwFUhpQk.js";import{d as Ce,S as Me,F as Re}from"./Store-CzuxPCq8.js";import{M as Ee}from"./index-BuNY6jLF.js";import"./index-B9uIMiyK.js";import"./preload-helper-iZIsTGZK.js";import"./await-Bft3-TRy.js";import"./index-B4NDmpYR.js";import"./IconButtonAugment-CsdawHyK.js";/* empty css                                                */import"./index-Bz1AJAWu.js";import"./Markdown-F1hzawoT.js";import"./CardAugment-Bqwu5ahx.js";import"./CollapseButtonAugment-CdECN-QQ.js";import"./toggleHighContrast-BIKVVoPO.js";import"./ButtonAugment-dm8Gq3Cq.js";import"./Filespan-DQTy5qup.js";import"./focusTrapStack-9JCo5vKi.js";import"./OpenFileButton-DcM9qoQQ.js";import"./index-Czcl53hR.js";import"./remote-agents-client-3ykFyqEs.js";import"./types-DGsjtdxm.js";import"./SuccessfulButton-CqblPP5m.js";import"./CopyButton-CYoKSKPU.js";import"./Chevron-Cl2ZClCm.js";import"./LanguageIcon-BRHvdy0u.js";import"./keypress-fD7XHdyk.js";import"./TextAreaAugment-Pjr5jpcU.js";import"./partner-mcp-utils-8KSbNsEE.js";import"./augment-logo-CnRinIIJ.js";import"./utils-BOGwHecm.js";import"./CalloutAugment-BUb-HAQ6.js";import"./file-type-utils-CBkYZ4gj.js";try{G=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(ve=new G.Error().stack)&&(G._sentryDebugIds=G._sentryDebugIds||{},G._sentryDebugIds[ve]="1da3b0aa-d55e-48a8-af78-fd797deeae7f",G._sentryDebugIdIdentifier="sentry-dbid-1da3b0aa-d55e-48a8-af78-fd797deeae7f")}catch{}var G,ve,We=g('<div class="header svelte-1e21l2h"> </div>'),Le=(o,e)=>e("A3"),Pe=(o,e)=>e("A2"),Se=(o,e)=>e("A1"),ze=(o,e)=>e("="),Fe=(o,e)=>e("B1"),Oe=(o,e)=>e("B2"),Ge=(o,e)=>e("B3"),Ne=g('<div class="container svelte-1e21l2h"><!> <div class="buttons svelte-1e21l2h"><button type="button">A</button> <button type="button">A</button> <button type="button">A</button> <button type="button">=</button> <button type="button">B</button> <button type="button">B</button> <button type="button">B</button></div></div>');function re(o,e){V(e,!0);let s=I(e,"selected",15,null),S=I(e,"question",3,null);function u(_){s(_)}var b=Ne(),$=r(b),n=_=>{var F=We(),K=r(F);N(()=>te(K,S())),c(_,F)};j($,_=>{S()&&_(n)});var p=a($,2),m=r(p);let v;m.__click=[Le,u];var f=a(m,2);let H;f.__click=[Pe,u];var C=a(f,2);let J;C.__click=[Se,u];var A=a(C,2);let M;A.__click=[ze,u];var R=a(A,2);let y;R.__click=[Fe,u];var k=a(R,2);let E;k.__click=[Oe,u];var z=a(k,2);let D;z.__click=[Ge,u],N((_,F,K,ae,l,d,Y)=>{v=P(m,1,"button large svelte-1e21l2h",null,v,_),H=P(f,1,"button medium svelte-1e21l2h",null,H,F),J=P(C,1,"button small svelte-1e21l2h",null,J,K),M=P(A,1,"button equal svelte-1e21l2h",null,M,ae),y=P(R,1,"button small svelte-1e21l2h",null,y,l),E=P(k,1,"button medium svelte-1e21l2h",null,E,d),D=P(z,1,"button large svelte-1e21l2h",null,D,Y)},[()=>({highlighted:s()==="A3"}),()=>({highlighted:s()==="A2"}),()=>({highlighted:s()==="A1"}),()=>({highlighted:s()==="="}),()=>({highlighted:s()==="B1"}),()=>({highlighted:s()==="B2"}),()=>({highlighted:s()==="B3"})]),c(o,b),X()}be(["click"]);var Qe=g('<div class="question svelte-bdbnck"> </div>'),je=g('<div class="container svelte-bdbnck"><!> <textarea class="input svelte-bdbnck" rows="3"></textarea></div>'),He=g('<button class="button svelte-yv75jl"> </button>');be(["click"]);var Je=g("<div> </div>"),Ke=g('<div class="container svelte-1asql96"><!> <label class="custom-checkbox svelte-1asql96"><input type="checkbox" class="svelte-1asql96"/> <span class="svelte-1asql96"></span></label></div>'),Te=g("<!> <!> <!> <!> <!> <!>",1),Ue=g("<p>Streaming in progress... Please wait for both responses to complete.</p>"),Ve=g('<main><div class="l-pref svelte-ghgusd"><h1 class="svelte-ghgusd">Input message</h1> <!> <hr class="l-side-by-side svelte-ghgusd"/> <div class="l-side-by-side svelte-ghgusd"><div class="l-side-by-side__child svelte-ghgusd"><h1 class="svelte-ghgusd">Option A</h1> <!></div> <div class="divider svelte-ghgusd"></div> <div class="l-side-by-side__child svelte-ghgusd"><h1 class="svelte-ghgusd">Option B</h1> <!></div></div> <hr class="svelte-ghgusd"/> <!></div></main>');function Xe(o,e){V(e,!0);const s=fe();let S=new Ie(new xe(x),x,Ce().store,{});$e(S);let u=B(null),b=B(null),$=null,n=B(null),p=B(""),m=B(!1),v=B(he({a:null,b:null})),f=B(he(e.inputData.data.a.response.length>0&&e.inputData.data.b.response.length>0));function H(){if($="=",t(n)===null)return void s("notify","Overall rating is required");const l={overallRating:t(n),formattingRating:t(u)||"=",hallucinationRating:$||"=",instructionFollowingRating:t(b)||"=",isHighQuality:t(m),textFeedback:t(p)};s("result",l)}ye(()=>{window.addEventListener("message",l=>{const d=l.data;d.type===Q.chatModelReply?(d.stream==="A"?t(v).a=d.data.text:d.stream==="B"&&(t(v).b=d.data.text),q(v,t(v),!0)):d.type===Q.chatStreamDone&&q(f,!0)})});let C=ne(()=>{return(l=t(n))==="="||l===null?"Is this a high quality comparison?":`Are you completely happy with response '${l.startsWith("A")?"A":"B"}'?`;var l}),J=ne(()=>t(v).a!==null?t(v).a:e.inputData.data.a.response),A=ne(()=>t(v).b!==null?t(v).b:e.inputData.data.b.response);ke(()=>{q(f,e.inputData.data.a.response.length>0&&e.inputData.data.b.response.length>0,!0)});var M=Ve(),R=r(M),y=a(r(R),2);ie(y,{get markdown(){return e.inputData.data.a.message}});var k=a(y,4),E=r(k),z=a(r(E),2);ie(z,{get markdown(){return t(J)}});var D=a(E,4),_=a(r(D),2);ie(_,{get markdown(){return t(A)}});var F=a(k,4),K=l=>{var d=Te(),Y=oe(d);re(Y,{question:"Which response is formatted better? (e.g. level of detail style, structure)?",get selected(){return t(u)},set selected(i){q(u,i,!0)}});var ue=a(Y,2);re(ue,{question:"Which response follows your instruction better?",get selected(){return t(b)},set selected(i){q(b,i,!0)}});var de=a(ue,2);re(de,{question:"Which response is better overall?",get selected(){return t(n)},set selected(i){q(n,i,!0)}});var ce=a(de,2);(function(i,h){V(h,!0);let T=I(h,"isChecked",15,!1),w=I(h,"question",3,null);var O=Ke(),W=r(O),Z=L=>{var U=Je(),le=r(U);N(()=>te(le,w())),c(L,U)};j(W,L=>{w()&&L(Z)});var se=a(W,2),ee=r(se);Be(ee,T),c(i,O),X()})(ce,{get question(){return t(C)},get isChecked(){return t(m)},set isChecked(i){q(m,i,!0)}});var pe=a(ce,2);(function(i,h){V(h,!0);let T=I(h,"value",15,""),w=I(h,"question",3,null),O=I(h,"placeholder",3,"");var W=je(),Z=r(W),se=L=>{var U=Qe(),le=r(U);N(()=>te(le,w())),c(L,U)};j(Z,L=>{w()&&L(se)});var ee=a(Z,2);N(()=>me(ee,"placeholder",O())),De(ee,T),c(i,W),X()})(pe,{question:"Any additional feedback?",placeholder:"Please explain your answers to the above questions.",get value(){return t(p)},set value(i){q(p,i,!0)}}),function(i,h){let T=I(h,"label",3,"Submit");var w=He();w.__click=function(...W){h.onClick?.apply(this,W)};var O=r(w);N(()=>te(O,T())),c(i,w)}(a(pe,2),{label:"Submit",onClick:H}),c(l,d)},ae=l=>{var d=Ue();c(l,d)};j(F,l=>{t(f)?l(K):l(ae,!1)}),c(o,M),X()}var Ye=g("<main><!></main>");function Ze(o,e){V(e,!0);let s=B(void 0);function S(n){const p=n.detail;x.postMessage({type:Q.preferenceResultMessage,data:p})}function u(n){x.postMessage({type:Q.preferenceNotify,data:n.detail})}x.postMessage({type:Q.preferencePanelLoaded});var b=ge();_e("message",we,function(n){const p=n.data;p.type===Q.preferenceInit&&q(s,p.data,!0)});var $=oe(b);qe($,()=>Ee.Root,(n,p)=>{p(n,{children:(m,v)=>{Me(m,{children:(f,H)=>{Re(f,{children:(C,J)=>{var A=Ye(),M=r(A),R=y=>{var k=ge(),E=oe(k),z=D=>{Xe(D,{get inputData(){return t(s)},$$events:{result:S,notify:u}})};j(E,D=>{t(s).type==="Chat"&&D(z)}),c(y,k)};j(M,y=>{t(s)&&y(R)}),c(C,A)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}),c(o,b),X()}(async function(){x&&x.initialize&&await x.initialize(),Ae(Ze,{target:document.getElementById("app")})})();
//# sourceMappingURL=preference-CCGVH7mI.js.map
