import{t as oe,u as O,a1 as p,a2 as U,C as e,m as r,a3 as ie,v as re,z as de,A,I as P,y as b,n as s,F as ce,a4 as ue,a5 as T,x as I,K as k,E as fe,J as q,a6 as ve,a7 as ge,G as d,a0 as M,D as he}from"./TextAugment-CCgoKCVh.js";import{I as pe,e as be,i as me}from"./IconButtonAugment-CsdawHyK.js";import{B as V}from"./ButtonAugment-dm8Gq3Cq.js";import{A as ye,D as v}from"./Store-CzuxPCq8.js";import{T as $e}from"./CardAugment-Bqwu5ahx.js";import{R as E}from"./message-broker-CppRv-qk.js";try{f=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(j=new f.Error().stack)&&(f._sentryDebugIds=f._sentryDebugIds||{},f._sentryDebugIds[j]="c1f368cf-0c9d-4d4f-b51e-65279950fa95",f._sentryDebugIdIdentifier="sentry-dbid-c1f368cf-0c9d-4d4f-b51e-65279950fa95")}catch{}var f,j,we=I('<div class="c-dropdown-label svelte-xm5ow9"><!></div>'),Ae=I("<!> <!>",1),Te=I("<!> <!>",1),Ee=I("<!> <!>",1);function Ce(W,R){oe(R,!1);const m=()=>ve(e(_),"$focusedIndex",Y),[Y,X]=ue(),D=r(),x=r(),S=r(),c=r(),t=r();let Z=O(R,"onSave",8),l=O(R,"rule",8);const B={label:"Always",value:E.ALWAYS_ATTACHED,description:"These Rules will be included in every message you send to the agent."},F={label:"Manual",value:E.MANUAL,description:"These Rules will be included when manually tagged in your message. You can tag Rules by @-mentioning them."},ee={label:"Auto",value:E.AGENT_REQUESTED,description:"These Rules will be included when the Agent decides to fetch them based on this file's description."};let _=r(void 0),C=r(()=>{});p(()=>U(l()),()=>{d(D,l().path)}),p(()=>U(l()),()=>{d(x,l().type)}),p(()=>U(l()),()=>{d(S,l().settingsStored)}),p(()=>e(S),()=>{d(c,e(S)?[B,F]:[B,F,ee])}),p(()=>(e(c),e(x)),()=>{d(t,e(c).find(n=>n.value===e(x)))}),ie(),re();var H=de(),ae=A(H),se=n=>{$e(n,{content:"Workspace guidelines are always applied",children:(a,le)=>{V(a,{color:"accent",size:1,disabled:!0,children:(y,z)=>{var G=T("Always");s(y,G)},$$slots:{default:!0}})},$$slots:{default:!0}})},te=n=>{v.Root(n,{get requestClose(){return e(C)},set requestClose(a){d(C,a)},get focusedIndex(){return e(_)},set focusedIndex(a){ge(d(_,a),"$focusedIndex",Y)},children:(a,le)=>{var y=Ee(),z=A(y);v.Trigger(z,{children:(L,ne)=>{var g=we(),$=fe(g);V($,{color:"neutral",size:1,variant:"soft",children:(h,N)=>{var o=T();k(()=>M(o,(e(t),b(()=>e(t).label)))),s(h,o)},$$slots:{default:!0,iconRight:(h,N)=>{pe(h,{slot:"iconRight",name:"chevron-down"})}}}),s(L,g)},$$slots:{default:!0}});var G=q(z,2);v.Content(G,{side:"bottom",align:"start",children:(L,ne)=>{var g=Te(),$=A(g);be($,1,()=>e(c),me,(o,i)=>{{let w=he(()=>(e(t),e(i),b(()=>e(t).label===e(i).label)));v.Item(o,{onSelect:()=>async function(u){e(C)(),Z()(u.value,u.value!==E.AGENT_REQUESTED||l().description?l().description:"Example description")}(e(i)),get highlight(){return e(w)},children:(u,J)=>{var Q=T();k(()=>M(Q,(e(i),b(()=>e(i).label)))),s(u,Q)},$$slots:{default:!0}})}});var h=q($,2),N=o=>{var i=Ae(),w=A(i);v.Separator(w,{});var u=q(w,2);v.Label(u,{children:(J,Q)=>{var K=T();k(()=>M(K,(m(),e(c),e(t),b(()=>m()!==void 0?e(c)[m()].description:e(t).description)))),s(J,K)},$$slots:{default:!0}}),s(o,i)};P(h,o=>{(m()!==void 0||e(t))&&o(N)}),s(L,g)},$$slots:{default:!0}}),s(a,y)},$$slots:{default:!0},$$legacy:!0})};P(ae,n=>{e(D),b(()=>{return a=e(D),ye===a;var a})?n(se):n(te,!1)}),s(W,H),ce(),X()}export{Ce as R};
//# sourceMappingURL=RulesModeSelector-CMEKpeTG.js.map
