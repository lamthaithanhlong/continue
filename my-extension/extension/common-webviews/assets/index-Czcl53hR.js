try{s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(r=new s.Error().stack)&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[r]="e124ce4d-eef1-4cb9-8762-bc1a8d8dc85d",s._sentryDebugIdIdentifier="sentry-dbid-e124ce4d-eef1-4cb9-8762-bc1a8d8dc85d")}catch{}var s,r,g=(n=>(n[n.agentUnspecified=0]="agentUnspecified",n[n.agentPending=5]="agentPending",n[n.agentStarting=1]="agentStarting",n[n.agentRunning=2]="agentRunning",n[n.agentIdle=3]="agentIdle",n[n.agentFailed=4]="agentFailed",n))(g||{}),l=(n=>(n[n.workspaceUnspecified=0]="workspaceUnspecified",n[n.workspaceRunning=1]="workspaceRunning",n[n.workspacePausing=2]="workspacePausing",n[n.workspacePaused=3]="workspacePaused",n[n.workspaceResuming=4]="workspaceResuming",n))(l||{}),f=(n=>(n[n.AGENT_HISTORY_UPDATE_TYPE_UNSPECIFIED=0]="AGENT_HISTORY_UPDATE_TYPE_UNSPECIFIED",n[n.AGENT_HISTORY_EXCHANGE=1]="AGENT_HISTORY_EXCHANGE",n[n.AGENT_HISTORY_EXCHANGE_UPDATE=2]="AGENT_HISTORY_EXCHANGE_UPDATE",n[n.AGENT_HISTORY_AGENT_STATUS=3]="AGENT_HISTORY_AGENT_STATUS",n))(f||{}),u=(n=>(n[n.added=0]="added",n[n.deleted=1]="deleted",n[n.modified=2]="modified",n[n.renamed=3]="renamed",n))(u||{}),N=(n=>(n[n.unknown=0]="unknown",n[n.running=1]="running",n[n.success=2]="success",n[n.failure=3]="failure",n[n.skipped=4]="skipped",n))(N||{}),I=(n=>(n[n.AGENT_LIST_UPDATE_TYPE_UNSPECIFIED=0]="AGENT_LIST_UPDATE_TYPE_UNSPECIFIED",n[n.AGENT_LIST_AGENT_ADDED=1]="AGENT_LIST_AGENT_ADDED",n[n.AGENT_LIST_AGENT_UPDATED=2]="AGENT_LIST_AGENT_UPDATED",n[n.AGENT_LIST_AGENT_DELETED=3]="AGENT_LIST_AGENT_DELETED",n[n.AGENT_LIST_ALL_AGENTS=4]="AGENT_LIST_ALL_AGENTS",n))(I||{});function G(n){const d=new Set;return n&&n.length>0&&n.flatMap(a=>a.sections||[]).flatMap(a=>a.changes).forEach(a=>{d.add(a.path)}),d}function S(n,d,a={},i={}){const A=G(n),_=Array.from(A);_.length===0&&_.push(...d.map(e=>e.new_path||e.old_path).filter(Boolean));const c=_.every(e=>i[e]==="applied"),p=_.filter(e=>!i[e]||i[e]==="none"),T=[];return p.forEach(e=>{const E=n.flatMap(t=>t.sections||[]).flatMap(t=>t.changes).find(t=>t.path===e);if(E)T.push({path:e,originalCode:E.originalCode,newCode:a[e]||E.modifiedCode});else{const t=d.find(o=>(o.new_path||o.old_path)===e);t&&T.push({path:e,originalCode:t.old_contents||"",newCode:a[e]||t.new_contents||""})}}),{filesToApply:T,allPaths:_,areAllPathsApplied:c}}async function D(n,d){n.length&&d&&await Promise.all(n.map(async a=>await d(a.path,a.originalCode,a.newCode)))}function w(n){return n.sort((d,a)=>{const i=new Date(d.updated_at||d.started_at);return new Date(a.updated_at||a.started_at).getTime()-i.getTime()})}export{f as A,u as F,l as R,g as a,N as b,I as c,D as d,G as g,S as p,w as s};
//# sourceMappingURL=index-Czcl53hR.js.map
