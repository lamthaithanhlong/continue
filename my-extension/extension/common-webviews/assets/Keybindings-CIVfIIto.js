import{H as b1,w as l1,aU as X,aR as nt,y as N,ab as g1,t as u1,u as $,N as ot,a9 as se,a1 as I1,C as k,m as V1,G as T1,a2 as y,a3 as W1,v as A1,z as S,A as b,I as P,a6 as L1,n as f,F as p1,a4 as K1,x as H,a5 as E1,K as c1,a0 as m1,E as B,b3 as de,o as Re,ac as Fe,a7 as it,J,B as M1,M as F1,L as ye,Y as pe,D as X1,Z as qe,_ as rt,b6 as xe,l as Q1,aa as Ce,ak as st,T as q1,bd as at,Q as B1,am as lt,be as dt,P as ze}from"./TextAugment-CCgoKCVh.js";import{C as ct}from"./CalloutAugment-BUb-HAQ6.js";import{I as i1,d as ht,b as Ie,e as ut,i as pt}from"./IconButtonAugment-CsdawHyK.js";import{C as Ct,b as s1,T as mt}from"./CardAugment-Bqwu5ahx.js";import{N as J1,m as U1,P as j1,a as P1,M as gt,E as we,b as ft,D as Be,c as Ue,e as vt,k as _t}from"./chat-model-DaVfYv7o.js";import{D as x1,ac as Lt,ad as bt,ae as Mt,af as Ze,ag as Ke,ah as yt,ai as z1,aj as me,ak as wt,al as Et,am as xt,N as ge,an as fe,ao as ve,P as _e,O as Le,ap as Te,aq as be,a1 as Me,ar as Pe,as as It,a3 as Tt,m as Pt,n as $t,g as St,at as kt}from"./Store-CzuxPCq8.js";import{P as te}from"./message-broker-CppRv-qk.js";import{F as h1}from"./Filespan-DQTy5qup.js";import{T as At}from"./TextCombo-BcswIAtX.js";import{A as Nt}from"./augment-logo-CnRinIIJ.js";try{R1=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(Ee=new R1.Error().stack)&&(R1._sentryDebugIds=R1._sentryDebugIds||{},R1._sentryDebugIds[Ee]="8362d15b-8cac-44f1-995a-9dc3554b9bb1",R1._sentryDebugIdIdentifier="sentry-dbid-8362d15b-8cac-44f1-995a-9dc3554b9bb1")}catch{}var R1,Ee;const Dt=J1.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:o}){return["p",U1(this.options.HTMLAttributes,o),0]},addCommands(){return{setParagraph:()=>({commands:o})=>o.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Ht=J1.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:o}){return["br",U1(this.options.HTMLAttributes,o)]},renderText:()=>`
`,addCommands(){return{setHardBreak:()=>({commands:o,chain:e,state:t,editor:n})=>o.first([()=>o.exitCode(),()=>o.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:r}=this.options,{splittableMarks:a}=n.extensionManager,h=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:m,dispatch:g})=>{if(g&&h&&r){const l=h.filter(u=>a.includes(u.type.name));m.ensureMarks(l)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Ot=J1.create({name:"text",group:"inline"}),Rt=J1.create({name:"doc",topNode:!0,content:"block+"});var ie=200,Q=function(){};Q.prototype.append=function(o){return o.length?(o=Q.from(o),!this.length&&o||o.length<ie&&this.leafAppend(o)||this.length<ie&&o.leafPrepend(this)||this.appendInner(o)):this},Q.prototype.prepend=function(o){return o.length?Q.from(o).append(this):this},Q.prototype.appendInner=function(o){return new Ft(this,o)},Q.prototype.slice=function(o,e){return o===void 0&&(o=0),e===void 0&&(e=this.length),o>=e?Q.empty:this.sliceInner(Math.max(0,o),Math.min(this.length,e))},Q.prototype.get=function(o){if(!(o<0||o>=this.length))return this.getInner(o)},Q.prototype.forEach=function(o,e,t){e===void 0&&(e=0),t===void 0&&(t=this.length),e<=t?this.forEachInner(o,e,t,0):this.forEachInvertedInner(o,e,t,0)},Q.prototype.map=function(o,e,t){e===void 0&&(e=0),t===void 0&&(t=this.length);var n=[];return this.forEach(function(i,s){return n.push(o(i,s))},e,t),n},Q.from=function(o){return o instanceof Q?o:o&&o.length?new Ve(o):Q.empty};var Ve=function(o){function e(n){o.call(this),this.values=n}o&&(e.__proto__=o),e.prototype=Object.create(o&&o.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(n,i){return n==0&&i==this.length?this:new e(this.values.slice(n,i))},e.prototype.getInner=function(n){return this.values[n]},e.prototype.forEachInner=function(n,i,s,r){for(var a=i;a<s;a++)if(n(this.values[a],r+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,s,r){for(var a=i-1;a>=s;a--)if(n(this.values[a],r+a)===!1)return!1},e.prototype.leafAppend=function(n){if(this.length+n.length<=ie)return new e(this.values.concat(n.flatten()))},e.prototype.leafPrepend=function(n){if(this.length+n.length<=ie)return new e(n.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Q);Q.empty=new Ve([]);var Ft=function(o){function e(t,n){o.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return o&&(e.__proto__=o),e.prototype=Object.create(o&&o.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,n,i,s){var r=this.left.length;return!(n<r&&this.left.forEachInner(t,n,Math.min(i,r),s)===!1)&&!(i>r&&this.right.forEachInner(t,Math.max(n-r,0),Math.min(this.length,i)-r,s+r)===!1)&&void 0},e.prototype.forEachInvertedInner=function(t,n,i,s){var r=this.left.length;return!(n>r&&this.right.forEachInvertedInner(t,n-r,Math.max(i,r)-r,s+r)===!1)&&!(i<r&&this.left.forEachInvertedInner(t,Math.min(n,r),i,s)===!1)&&void 0},e.prototype.sliceInner=function(t,n){if(t==0&&n==this.length)return this;var i=this.left.length;return n<=i?this.left.slice(t,n):t>=i?this.right.slice(t-i,n-i):this.left.slice(t,i).append(this.right.slice(0,n-i))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(Q);class f1{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n,i,s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}t&&(n=this.remapping(s,this.items.length),i=n.maps.length);let r,a,h=e.tr,m=[],g=[];return this.items.forEach((l,u)=>{if(!l.step)return n||(n=this.remapping(s,u+1),i=n.maps.length),i--,void g.push(l);if(n){g.push(new _1(l.map));let c,C=l.step.map(n.slice(i));C&&h.maybeStep(C).doc&&(c=h.mapping.maps[h.mapping.maps.length-1],m.push(new _1(c,void 0,void 0,m.length+g.length))),i--,c&&n.appendMap(c,i)}else h.maybeStep(l.step);return l.selection?(r=n?l.selection.map(n.slice(i)):l.selection,a=new f1(this.items.slice(0,s).append(g.reverse().concat(m)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:a,transform:h,selection:r}}addTransform(e,t,n,i){let s=[],r=this.eventCount,a=this.items,h=!i&&a.length?a.get(a.length-1):null;for(let g=0;g<e.steps.length;g++){let l,u=e.steps[g].invert(e.docs[g]),c=new _1(e.mapping.maps[g],u,t);(l=h&&h.merge(c))&&(c=l,g?s.pop():a=a.slice(0,a.length-1)),s.push(c),t&&(r++,t=void 0),i||(h=c)}let m=r-n.depth;return m>qt&&(a=function(g,l){let u;return g.forEach((c,C)=>{if(c.selection&&l--==0)return u=C,!1}),g.slice(u)}(a,m),r-=m),new f1(a.append(s),r)}remapping(e,t){let n=new gt;return this.items.forEach((i,s)=>{let r=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,r)},e,t),n}addMaps(e){return this.eventCount==0?this:new f1(this.items.append(e.map(t=>new _1(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),s=e.mapping,r=e.steps.length,a=this.eventCount;this.items.forEach(u=>{u.selection&&a--},i);let h=t;this.items.forEach(u=>{let c=s.getMirror(--h);if(c==null)return;r=Math.min(r,c);let C=s.maps[c];if(u.step){let L=e.steps[c].invert(e.docs[c]),d=u.selection&&u.selection.map(s.slice(h+1,c));d&&a++,n.push(new _1(C,L,d))}else n.push(new _1(C))},i);let m=[];for(let u=t;u<r;u++)m.push(new _1(s.maps[u]));let g=this.items.slice(0,i).append(m).append(n),l=new f1(g,a);return l.emptyItemCount()>500&&(l=l.compress(this.items.length-n.length)),l}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,i=[],s=0;return this.items.forEach((r,a)=>{if(a>=e)i.push(r),r.selection&&s++;else if(r.step){let h=r.step.map(t.slice(n)),m=h&&h.getMap();if(n--,m&&t.appendMap(m,n),h){let g=r.selection&&r.selection.map(t.slice(n));g&&s++;let l,u=new _1(m.invert(),h,g),c=i.length-1;(l=i.length&&i[c].merge(u))?i[c]=l:i.push(u)}}else r.map&&n--},this.items.length,0),new f1(Q.from(i.reverse()),s)}}f1.empty=new f1(Q.empty,0);class _1{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new _1(t.getMap().invert(),t,this.selection)}}}class w1{constructor(e,t,n,i,s){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i,this.prevComposition=s}}const qt=20;function $e(o){let e=[];return o.forEach((t,n,i,s)=>e.push(i,s)),e}function ce(o,e){if(!o)return null;let t=[];for(let n=0;n<o.length;n+=2){let i=e.map(o[n],1),s=e.map(o[n+1],-1);i<=s&&t.push(i,s)}return t}let he=!1,Se=null;function oe(o){let e=o.plugins;if(Se!=e){he=!1,Se=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){he=!0;break}}return he}const k1=new P1("history"),zt=new P1("closeHistory");function Bt(o={}){return o={depth:o.depth||100,newGroupDelay:o.newGroupDelay||500},new j1({key:k1,state:{init:()=>new w1(f1.empty,f1.empty,null,0,-1),apply:(e,t,n)=>function(i,s,r,a){let h,m=r.getMeta(k1);if(m)return m.historyState;r.getMeta(zt)&&(i=new w1(i.done,i.undone,null,0,-1));let g=r.getMeta("appendedTransaction");if(r.steps.length==0)return i;if(g&&g.getMeta(k1))return g.getMeta(k1).redo?new w1(i.done.addTransform(r,void 0,a,oe(s)),i.undone,$e(r.mapping.maps[r.steps.length-1]),i.prevTime,i.prevComposition):new w1(i.done,i.undone.addTransform(r,void 0,a,oe(s)),null,i.prevTime,i.prevComposition);if(r.getMeta("addToHistory")===!1||g&&g.getMeta("addToHistory")===!1)return(h=r.getMeta("rebased"))?new w1(i.done.rebased(r,h),i.undone.rebased(r,h),ce(i.prevRanges,r.mapping),i.prevTime,i.prevComposition):new w1(i.done.addMaps(r.mapping.maps),i.undone.addMaps(r.mapping.maps),ce(i.prevRanges,r.mapping),i.prevTime,i.prevComposition);{let l=r.getMeta("composition"),u=i.prevTime==0||!g&&i.prevComposition!=l&&(i.prevTime<(r.time||0)-a.newGroupDelay||!function(C,L){if(!L)return!1;if(!C.docChanged)return!0;let d=!1;return C.mapping.maps[0].forEach((p,_)=>{for(let v=0;v<L.length;v+=2)p<=L[v+1]&&_>=L[v]&&(d=!0)}),d}(r,i.prevRanges)),c=g?ce(i.prevRanges,r.mapping):$e(r.mapping.maps[r.steps.length-1]);return new w1(i.done.addTransform(r,u?s.selection.getBookmark():void 0,a,oe(s)),f1.empty,c,r.time,l??i.prevComposition)}}(t,n,e,o)},config:o,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i=n=="historyUndo"?Ye:n=="historyRedo"?Xe:null;return!!i&&(t.preventDefault(),i(e.state,e.dispatch))}}}})}function Ge(o,e){return(t,n)=>{let i=k1.getState(t);if(!i||(o?i.undone:i.done).eventCount==0)return!1;if(n){let s=function(r,a,h){let m=oe(a),g=k1.get(a).spec.config,l=(h?r.undone:r.done).popEvent(a,m);if(!l)return null;let u=l.selection.resolve(l.transform.doc),c=(h?r.done:r.undone).addTransform(l.transform,a.selection.getBookmark(),g,m),C=new w1(h?c:l.remaining,h?l.remaining:c,null,0,-1);return l.transform.setSelection(u).setMeta(k1,{redo:h,historyState:C})}(i,t,o);s&&n(e?s.scrollIntoView():s)}return!0}}const Ye=Ge(!1,!0),Xe=Ge(!0,!0),Ut=we.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:o,dispatch:e})=>Ye(o,e),redo:()=>({state:o,dispatch:e})=>Xe(o,e)}),addProseMirrorPlugins(){return[Bt(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}});class Zt{constructor(e){this._opts=e,this._defaultPlugins=b1(this._opts,this._getDefaultPlugins),this._allPlugins=b1([this._defaultPlugins,this._registeredPlugins],([t,n])=>[...t,...n])}_registeredPlugins=l1([]);_defaultPlugins;_allPlugins;_getDefaultPlugins=e=>[Rt.extend({addKeyboardShortcuts:()=>({...e.keyboardShortcuts})}),Dt,Ot,Ht,Ut.configure({depth:100})].map(t=>({tipTapExtension:t}));registerPlugin=e=>(this._registeredPlugins.update(t=>[...t,e]),()=>{this._registeredPlugins.update(t=>t.filter(n=>n!==e))});onPluginsChanged=e=>this._allPlugins.subscribe(e);get tipTapExtensions(){return X(this._allPlugins).map(e=>e.tipTapExtension)}}function jn(o){let e;return e=o.selection.empty?o.selection.anchor:Math.min(o.selection.anchor,o.selection.head),{prefix:o.doc.textBetween(0,e),offsetStart:0,offsetEnd:e}}function e9(o){let e;return e=o.selection.empty?o.selection.anchor:Math.min(o.selection.anchor,o.selection.head),{suffix:o.doc.textBetween(e,o.doc.nodeSize-2),offsetStart:e,offsetEnd:o.doc.nodeSize-2}}function ke(o){return o.length===0?[]:[{type:"text",text:o}]}function Ae(o){if(o!==void 0){if(typeof o=="string"){const e=o.split(`
`).map((t,n)=>n===0?ke(t):[{type:"hardBreak"},...ke(t)]).flat();return e.length>0?e:void 0}return Array.isArray(o)?o.length>0?o:void 0:o}}class Kt{constructor(e){this._opts=e}_setupFns=[];_editor;registerEditor=e=>{this._editor=e,this._runSetupFns()};unregisterEditor=()=>{this._editor=void 0};can=()=>this._editor?.can();chain=()=>this._editor?.chain();get commands(){return this._editor?.commands}_queueOrRun=e=>{this._editor?e():this._setupFns.push(e)};_runSetupFns=()=>{this._setupFns.forEach(e=>{e()}),this._setupFns=[]};hide=()=>this._queueOrRun(this._hide);show=()=>this._queueOrRun(this._show);focus=()=>this._queueOrRun(this._focus);requestFocus=()=>this._queueOrRun(this._requestFocus);blur=()=>this._queueOrRun(this._blur);scrollToCursor=()=>this._queueOrRun(this._scrollToCursor);setEditable=e=>this._queueOrRun(()=>this._setEditable(e));clearContent=()=>this._queueOrRun(this._clearContent);setContent=(e,t)=>this._queueOrRun(()=>this._setContent(e,t));insertContent=e=>this._queueOrRun(()=>this._insertContent(e));_hide=()=>{this._editor&&(this._editor.view.dom.style.display="none")};_show=()=>{this._editor&&this._editor.view.dom.style.removeProperty("display")};_focus=()=>this._editor?.commands.focus();_requestFocus=async()=>{await nt(),this._editor&&this._editor.commands.focus()};_blur=()=>this._editor?.commands.blur();_scrollToCursor=()=>this._editor?.commands.scrollIntoView();_setEditable=e=>{this._editor?.setEditable(e),e&&this._editor?.commands.setTextSelection(this._editor.state.doc.content.size)};_clearContent=()=>{const e=X(this._opts.content);e&&e.rawText!==""&&this._editor?.commands.clearContent(!0)};_setContent=(e,t)=>{const n=X(this._opts.content);e!==n?.rawText&&e!==n?.richTextJsonRepr&&((e=Ae(e??[]))!==void 0?this._editor?.chain().setContent(e,!0,{preserveWhitespace:!0}).setTextSelection(t?.cursorPosition==="start"?0:1e20).run():this._clearContent())};_insertContent=e=>{const t=Ae(e);t!==void 0&&this._editor?.commands.insertContent(t,{parseOptions:{preserveWhitespace:!0}})}}class Vt{_isFocused=l1(!1);_isEditable=l1(!1);_content=l1(void 0);_disposers=[];_isFooterClicked=!1;_footerClickTimeout;_footerAwareFocused=l1(!1);registerEditor=e=>{this._isFocused.set(e.isFocused),this._isEditable.set(e.isEditable),this._content.set({richTextJsonRepr:e.getJSON(),rawText:e.getText()}),this._footerAwareFocused.set(e.isFocused);const t=()=>{this._isFocused.set(!0),this._isFooterClicked||this._footerAwareFocused.set(!0)},n=()=>{N(()=>{this._isFocused.set(!1),this._isFooterClicked||this._footerAwareFocused.set(!1)})},i=()=>this._isEditable.set(e.isEditable),s=()=>{this._content.set({richTextJsonRepr:e.getJSON(),rawText:e.getText()})};e.on("focus",t),e.on("blur",n),e.on("update",i),e.on("update",s),this._disposers.push(()=>e.off("focus",t),()=>e.off("blur",n),()=>e.off("update",i),()=>e.off("update",s))};unregisterEditor=()=>{this._isFocused.set(!1),this._isEditable.set(!1),this._footerAwareFocused.set(!1),this._footerClickTimeout&&(clearTimeout(this._footerClickTimeout),this._footerClickTimeout=void 0),this._disposers.forEach(e=>e()),this._disposers=[]};handleFooterClick=()=>{this._isFooterClicked=!0,this._footerClickTimeout&&clearTimeout(this._footerClickTimeout),this._footerClickTimeout=setTimeout(()=>{this._isFooterClicked=!1,this._footerClickTimeout=void 0},200)};onFocus=e=>this.onFocusChanged(t=>{t&&e()});onBlur=e=>this.onFocusChanged(t=>{t||e()});onFocusChanged=e=>this._isFocused.subscribe(e);onEditableChanged=e=>this._isEditable.subscribe(e);onContentChanged=e=>this._content.subscribe(t=>t&&e(t));get isFocused(){return this._isFocused}get footerAwareFocused(){return this._footerAwareFocused}get isEditable(){return this._isEditable}get content(){return this._content}}class C1{static CONTEXT_KEY="augment-rich-text-editor";static INSTANCE_IDX=0;static _getNextInstanceIdx=()=>C1.INSTANCE_IDX++;_opts=l1({});_editor=void 0;_rootNode=void 0;pluginManager=new Zt(this._opts);eventManager=new Vt;commandManager=new Kt({content:this.eventManager.content});instanceId=`augment-rich-text-editor-${C1._getNextInstanceIdx()}`;constructor(){this.pluginManager.onPluginsChanged(this._reinitializeEditor)}registerRoot=(e,t)=>(this._destroyEditor(),this._rootNode=e,this._opts.set(t),this._initializeEditor(),{update:n=>{this._opts.set(n)},destroy:()=>{this._destroyEditor()}});get rootNode(){return this._editor?.view.dom}get editor(){return this._editor}_registerEditorWithManagers=e=>{this.eventManager.registerEditor(e),this.commandManager.registerEditor(e)};_unregisterEditorFromManagers=()=>{this.commandManager.unregisterEditor(),this.eventManager.unregisterEditor()};_reinitializeEditor=()=>{const e=X(this.eventManager.content);this._destroyEditor(),this._initializeEditor(),e!==void 0&&this.commandManager.setContent(e.richTextJsonRepr)};_initializeEditor=()=>{if(this._rootNode===void 0||this._editor!==void 0)return;const e=X(this._opts),t={element:document.createElement("div"),editable:e.editable??!0,injectCSS:!0,extensions:this.pluginManager.tipTapExtensions,onCreate:({editor:n})=>{this._registerEditorWithManagers(n),X(this._opts).focusOnInit&&this.commandManager.focus();const i=this._attachCopyHandler();n.on("destroy",i);const s=X(this._opts).onFocus;s&&n.on("focus",s);const r=X(this._opts).onBlur;r&&n.on("blur",r)},onDestroy:()=>{this._unregisterEditorFromManagers()},onSelectionUpdate:()=>{(X(this._opts).editable??1)&&this.commandManager.scrollToCursor()},editorProps:{handlePaste:(n,i)=>{if(this._isEventFromRichTextEditor(i))return!1;const s=i.clipboardData?.getData("text/plain");return!!s&&(this.commandManager.insertContent(s),!0)},attributes:{style:"min-height: 100%; outline: none;","data-testid":"design-system-rich-text-editor-tiptap"}}};return this._editor=new ft(t),this._rootNode.appendChild(this._editor.view.dom),this._rootNode.addEventListener("keydown",n=>{n.key==="z"&&n.metaKey===!0&&n.stopPropagation()}),this._editor};_attachCopyHandler=()=>(this._rootNode?.addEventListener("copy",this._copyHandler),this._rootNode?.addEventListener("cut",this._copyHandler),()=>{this._rootNode?.removeEventListener("copy",this._copyHandler),this._rootNode?.removeEventListener("cut",this._copyHandler)});_copyHandler=e=>{e.clipboardData?.setData("application/x-augment/rich-text","true")};_isEventFromRichTextEditor=e=>e.clipboardData?.getData("application/x-augment/rich-text")==="true";_destroyEditor=()=>{this._unregisterEditorFromManagers(),this._editor?.view.dom.remove(),this._editor?.destroy(),this._editor=void 0}}function t9(){const o=g1(C1.CONTEXT_KEY);if(!o)throw new Error(`No editor context '${C1.CONTEXT_KEY}' found.`);return o}var Gt=H('<div class="paste-error-container svelte-1pdsp8g"><!></div>'),Yt=H('<div class="c-rich-text-editor-augment__banner svelte-1pglayp"><!></div>'),Xt=H('<div class="c-rich-text-editor-augment__active-button svelte-1pglayp"><!></div>'),Wt=H('<div class="c-rich-text-editor-augment__footer-wrapper svelte-1pglayp"><!></div>'),Qt=H('<div class="l-rich-text-editor-augment svelte-1pglayp" role="button" tabindex="-1"><!> <div class="c-rich-text-editor-augment__editor svelte-1pglayp"><!></div>  <!></div>'),Jt=H("<!> <!>",1),jt=H("<div><!></div>");const n9={Content:function(o,e){u1(e,!1);const[t,n]=K1();let i=$(e,"onContentChanged",8,()=>{}),s=$(e,"content",8,"");const r=l1(!1),a=l1("");let h;const m=g1(C1.CONTEXT_KEY);let g,l=V1(void 0);ot(()=>{g=function(L={}){const d=L.maxPasteSize??1e5,p=L.onExceedsPasteLimit,_=function(v){const D=v.clipboardData||window.clipboardData;if(!D)return;const w=D.getData("text/plain");!w||w.length<=d||(v.preventDefault(),console.warn(`Paste operation blocked: Content exceeds ${d} character limit (${w.length} characters)`),p&&p(w.length,d))};return document.addEventListener("paste",_,!0),()=>{document.removeEventListener("paste",_,!0)}}({onExceedsPasteLimit:(L,d)=>{de(a,`Cannot paste: Content exceeds ${d.toLocaleString()} character limit (${L.toLocaleString()} characters)`),de(r,!0),h&&clearTimeout(h),h=window.setTimeout(()=>{de(r,!1)},3e3)}})}),se(()=>{g&&g(),clearTimeout(h)}),I1(()=>(k(l),y(i())),()=>{k(l)?.(),T1(l,m.eventManager.onContentChanged(i()))}),I1(()=>y(s()),()=>{m.commandManager.setContent(s())}),W1(),A1();var u=S(),c=b(u),C=L=>{var d=Gt(),p=B(d);ct(p,{variant:"soft",color:"error",size:1,icon:v=>{i1(v,{name:"circle-alert"})},children:(v,D)=>{var w=E1();c1(()=>m1(w,L1(a,"$pasteErrorMessage",t))),f(v,w)},$$slots:{icon:!0,default:!0}}),f(L,d)};P(c,L=>{L1(r,"$showPasteError",t)&&L(C)}),f(o,u),p1(),n()},Root:function(o,e){const t=Re(e);u1(e,!1);const[n,i]=K1(),s=V1();let r=$(e,"alwaysShowBorder",8,!1),a=$(e,"editable",24,()=>{}),h=$(e,"focusOnInit",24,()=>{}),m=$(e,"onFocus",24,()=>{}),g=$(e,"onBlur",24,()=>{}),l=$(e,"size",8,1),u=$(e,"variant",8,"default"),c=$(e,"showActionButton",8,!1);const C=new C1;Fe(C1.CONTEXT_KEY,C),h()&&C.commandManager.requestFocus();const L=()=>C.commandManager.requestFocus(),d=()=>C.commandManager.focus(),p=()=>C.commandManager.blur(),_=()=>C.commandManager.clearContent(),v=()=>C.eventManager.footerAwareFocused,D=()=>C.editor,w=void 0,x=void 0,Z=void 0,O=void 0;function M(){C.eventManager.handleFooterClick()}I1(()=>{},()=>{it(T1(s,C.eventManager.footerAwareFocused),"$isFocusedState",n)}),W1();var E={requestFocus:L,forceFocus:d,blur:p,clearContent:_,isFocused:v,getEditor:D,banner:w,activeButton:x,header:Z,footer:O};A1();var I=jt();let W;var j=B(I);Ct(j,{class:"c-rich-text-editor-augment__card",insetContent:!0,variant:"ghost",get size(){return l()},children:(A,K)=>{var F=Jt(),e1=b(F),t1=o1=>{var G=Yt(),z=B(G);M1(z,e,"banner",{},null),f(o1,G)};P(e1,o1=>{N(()=>t.banner)&&o1(t1)});var q=J(e1,2),V=o1=>{var G=Xt(),z=B(G);M1(z,e,"activeButton",{},null),f(o1,G)},n1=o1=>{var G=Qt(),z=B(G);M1(z,e,"header",{},null);var Y=J(z,2),d1=B(Y);M1(d1,e,"default",{},null),ht(Y,(T,U)=>C.registerRoot?.(T,U),()=>({editable:a(),focusOnInit:h(),onFocus:m(),onBlur:g()}));var r1=J(Y,2),v1=T=>{var U=Wt(),a1=B(U);M1(a1,e,"footer",{},null),F1("click",U,M),F1("mousedown",U,M),f(T,U)};P(r1,T=>{N(()=>t.footer)&&T(v1)}),F1("keydown",G,d),F1("click",G,d),F1("click",G,function(T){Ie.call(this,e,T)}),F1("dblclick",G,function(T){Ie.call(this,e,T)}),f(o1,G)};P(q,o1=>{c()?o1(V):o1(n1,!1)}),f(A,F)},$$slots:{default:!0}}),c1(A=>W=ye(I,1,`c-rich-text-editor-augment c-rich-text-editor-augment--${u()}`,"svelte-1pglayp",W,A),[()=>({"c-rich-text-editor-augment--editable":a(),"c-rich-text-editor-augment--focused":L1(k(s),"$isFocusedState",n),"c-rich-text-editor-augment--always-show-border":r()})]),f(o,I),s1(e,"requestFocus",L),s1(e,"forceFocus",d),s1(e,"blur",p),s1(e,"clearContent",_),s1(e,"isFocused",v),s1(e,"getEditor",D),s1(e,"banner",w),s1(e,"activeButton",x),s1(e,"header",Z),s1(e,"footer",O);var R=p1(E);return i(),R}};function en(o){var e;const{char:t,allowSpaces:n,allowedPrefixes:i,startOfLine:s,$position:r}=o,a=vt(t),h=new RegExp(`\\s${a}$`),m=s?"^":"",g=n?new RegExp(`${m}${a}.*?(?=\\s${a}|$)`,"gm"):new RegExp(`${m}(?:^)?${a}[^\\s${a}]*`,"gm"),l=((e=r.nodeBefore)===null||e===void 0?void 0:e.isText)&&r.nodeBefore.text;if(!l)return null;const u=r.pos-l.length,c=Array.from(l.matchAll(g)).pop();if(!c||c.input===void 0||c.index===void 0)return null;const C=c.input.slice(Math.max(0,c.index-1),c.index),L=new RegExp(`^[${i?.join("")}\0]?$`).test(C);if(i!==null&&!L)return null;const d=u+c.index;let p=d+c[0].length;return n&&h.test(l.slice(p-1,p+1))&&(c[0]+=" ",p+=1),d<r.pos&&p>=r.pos?{range:{from:d,to:p},query:c[0].slice(t.length),text:c[0]}:null}const tn=new P1("suggestion");function nn({pluginKey:o=tn,editor:e,char:t="@",allowSpaces:n=!1,allowedPrefixes:i=[" "],startOfLine:s=!1,decorationTag:r="span",decorationClass:a="suggestion",command:h=()=>null,items:m=()=>[],render:g=()=>({}),allow:l=()=>!0,findSuggestionMatch:u=en}){let c;const C=g?.(),L=new j1({key:o,view(){return{update:async(d,p)=>{var _,v,D,w,x,Z,O;const M=(_=this.key)===null||_===void 0?void 0:_.getState(p),E=(v=this.key)===null||v===void 0?void 0:v.getState(d.state),I=M.active&&E.active&&M.range.from!==E.range.from,W=!M.active&&E.active,j=M.active&&!E.active,R=W||I,A=!W&&!j&&M.query!==E.query&&!I,K=j||I;if(!R&&!A&&!K)return;const F=K&&!R?M:E,e1=d.dom.querySelector(`[data-decoration-id="${F.decorationId}"]`);c={editor:e,range:F.range,query:F.query,text:F.text,items:[],command:t1=>h({editor:e,range:F.range,props:t1}),decorationNode:e1,clientRect:e1?()=>{var t1;const{decorationId:q}=(t1=this.key)===null||t1===void 0?void 0:t1.getState(e.state),V=d.dom.querySelector(`[data-decoration-id="${q}"]`);return V?.getBoundingClientRect()||null}:null},R&&((D=C?.onBeforeStart)===null||D===void 0||D.call(C,c)),A&&((w=C?.onBeforeUpdate)===null||w===void 0||w.call(C,c)),(A||R)&&(c.items=await m({editor:e,query:F.query})),K&&((x=C?.onExit)===null||x===void 0||x.call(C,c)),A&&((Z=C?.onUpdate)===null||Z===void 0||Z.call(C,c)),R&&((O=C?.onStart)===null||O===void 0||O.call(C,c))},destroy:()=>{var d;c&&((d=C?.onExit)===null||d===void 0||d.call(C,c))}}},state:{init:()=>({active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}),apply(d,p,_,v){const{isEditable:D}=e,{composing:w}=e.view,{selection:x}=d,{empty:Z,from:O}=x,M={...p};if(M.composing=w,D&&(Z||e.view.composing)){!(O<p.range.from||O>p.range.to)||w||p.composing||(M.active=!1);const E=u({char:t,allowSpaces:n,allowedPrefixes:i,startOfLine:s,$position:x.$from}),I=`id_${Math.floor(4294967295*Math.random())}`;E&&l({editor:e,state:v,range:E.range})?(M.active=!0,M.decorationId=p.decorationId?p.decorationId:I,M.range=E.range,M.query=E.query,M.text=E.text):M.active=!1}else M.active=!1;return M.active||(M.decorationId=null,M.range={from:0,to:0},M.query=null,M.text=null),M}},props:{handleKeyDown(d,p){var _;const{active:v,range:D}=L.getState(d.state);return v&&((_=C?.onKeyDown)===null||_===void 0?void 0:_.call(C,{view:d,event:p,range:D}))||!1},decorations(d){const{active:p,range:_,decorationId:v}=L.getState(d);return p?Be.create(d.doc,[Ue.inline(_.from,_.to,{nodeName:r,class:a,"data-decoration-id":v})]):null}}});return L}const on=new P1("mention"),rn=J1.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderText({options:o,node:e}){var t;return`${o.suggestion.char}${(t=e.attrs.label)!==null&&t!==void 0?t:e.attrs.id}`},deleteTriggerWithBackspace:!1,renderHTML({options:o,node:e}){var t;return["span",U1(this.HTMLAttributes,o.HTMLAttributes),`${o.suggestion.char}${(t=e.attrs.label)!==null&&t!==void 0?t:e.attrs.id}`]},suggestion:{char:"@",pluginKey:on,command:({editor:o,range:e,props:t})=>{var n,i;const s=o.view.state.selection.$to.nodeAfter;!((n=s?.text)===null||n===void 0)&&n.startsWith(" ")&&(e.to+=1),o.chain().focus().insertContentAt(e,[{type:this.name,attrs:t},{type:"text",text:" "}]).run(),(i=window.getSelection())===null||i===void 0||i.collapseToEnd()},allow:({state:o,range:e})=>{const t=o.doc.resolve(e.from),n=o.schema.nodes[this.name];return!!t.parent.type.contentMatch.matchType(n)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:o=>o.getAttribute("data-id"),renderHTML:o=>o.id?{"data-id":o.id}:{}},label:{default:null,parseHTML:o=>o.getAttribute("data-label"),renderHTML:o=>o.label?{"data-label":o.label}:{}}}),parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:o,HTMLAttributes:e}){if(this.options.renderLabel!==void 0)return console.warn("renderLabel is deprecated use renderText and renderHTML instead"),["span",U1({"data-type":this.name},this.options.HTMLAttributes,e),this.options.renderLabel({options:this.options,node:o})];const t={...this.options};t.HTMLAttributes=U1({"data-type":this.name},this.options.HTMLAttributes,e);const n=this.options.renderHTML({options:t,node:o});return typeof n=="string"?["span",U1({"data-type":this.name},this.options.HTMLAttributes,e),n]:n},renderText({node:o}){return this.options.renderLabel!==void 0?(console.warn("renderLabel is deprecated use renderText and renderHTML instead"),this.options.renderLabel({options:this.options,node:o})):this.options.renderText({options:this.options,node:o})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:o,state:e})=>{let t=!1;const{selection:n}=e,{empty:i,anchor:s}=n;return!!i&&(e.doc.nodesBetween(s-1,s,(r,a)=>{if(r.type.name===this.name)return t=!0,o.insertText(this.options.deleteTriggerWithBackspace?"":this.options.suggestion.char||"",a,a+r.nodeSize),!1}),t)})}},addProseMirrorPlugins(){return[nn({editor:this.editor,...this.options.suggestion})]}});function Ne(o,e){const t=[];return e.$doc.content.descendants(n=>{n.type.name===o&&t.push(n)}),t}function De(o,e,t,n={}){const i=[],s=(r,a)=>{n.onNewMention?.(r,a),i.push(r)};return e.descendants((r,a)=>{if(r.type.name!==o)return;if(t===null)return void s(r,a);const h=Math.abs(e.nodeSize-t.nodeSize),m=t.nodeSize-2,g=h+r.nodeSize+1,l=Math.max(0,a-g),u=Math.min(m,a+g);let c=!1;t.nodesBetween(l,u,C=>{if(C.type.name===o&&C.attrs.id===r.attrs.id)return c=!0,n.onExistingMention?.(C,a),!1}),c||s(r,a)}),i}function We(o,e){const t=new MutationObserver(n=>{for(const i of n)if(e.shouldTrigger(i))return e.callback(),void t.disconnect()});return t.observe(o,{childList:!0,subtree:!0,...e.mutationObserverInit}),e.timeout&&setTimeout(()=>t.disconnect(),e.timeout),()=>t.disconnect()}function He(o,e,t,n){return We(o,{shouldTrigger:i=>new Set(i.addedNodes).has(e),callback:t,timeout:n})}class ne{constructor(e){this._mentionPluginId=e}static CHIP_CLASS_NAME="c-mention-chip";static CHIP_DATA_ATTR_KEY="data-augment-mention-chip-tooltip";_disposers=[];_editor;_tooltipData=l1(void 0);get tooltipData(){return this._tooltipData}onCreate=e=>{this._editor=e};onDispose=()=>{this._editor=void 0,this._disposers.forEach(e=>e()),this._disposers=[]};_attachChipEventListeners(e,t){e.addEventListener("mouseenter",t),e.addEventListener("mouseover",t),e.addEventListener("mouseleave",this.hideTooltip)}_detachChipEventListeners(e,t){e.removeEventListener("mouseenter",t),e.removeEventListener("mouseover",t),e.removeEventListener("mouseleave",this.hideTooltip)}_removeFromDisposers(e){e&&(this._disposers=this._disposers.filter(t=>t!==e))}_setupMountUnmountCycle(e,t,n){let i,s;const r=()=>{this._removeFromDisposers(i),this._detachChipEventListeners(t,n),s=He(e,t,a),this._disposers.push(s)},a=()=>{var h,m;this._removeFromDisposers(s),this._attachChipEventListeners(t,n),h=t,i=We(e,{shouldTrigger:g=>new Set(g.removedNodes).has(h),callback:r,timeout:m}),this._disposers.push(i)};He(e,t,a)}createMentionChip=({options:e,node:t})=>{if(t.type.name!==this._mentionPluginId)throw new Error("Expected a mention node");const n=document.createElement("span");n.innerText=`${e.suggestion?.char??"@"}${t.attrs.label}`;for(const[s,r]of Object.entries(e.HTMLAttributes))typeof r=="string"?n.setAttribute(s,r.toString()):console.warn(`Unexpected HTML attribute value type: [${s}] = ${r}`);const i=this._editor?.view.dom;return i&&this._setupMountUnmountCycle(i,n,()=>{this._tooltipData.set({data:t.attrs.data,anchorElement:n})}),n};hideTooltip=()=>{this._tooltipData.set(void 0)}}class sn{constructor(e={}){this._opts=e}_menuData=l1(void 0);_mentionables=l1([]);query=b1(this._menuData,e=>e?.tiptapExtensionProps.query);activeIdx=b1([this._mentionables,this._menuData],ln);activeItem=b1([this._mentionables,this.activeIdx],an);referenceClientRect=b1(this._menuData,e=>e?.referenceClientRect);tiptapExtensionProps=b1(this._menuData,e=>e?.tiptapExtensionProps);isMenuActive=b1(this._menuData,e=>e!==void 0);mentionables=this._mentionables;updateOptions=e=>{this._opts={...this._opts,...e}};updateMentionables=e=>{this._mentionables.set(e)};replaceQueryWithMentionNode=e=>{const t=X(this.isMenuActive),n=X(this.tiptapExtensionProps)?.command;return!(!t||!n)&&(n(e),!0)};selectItem=e=>!(X(this._mentionables).findIndex(t=>t.id===e.id)===-1||!this._opts.onSelectMentionable)&&(this._opts.onSelectMentionable?.(e),!0);_incrementActiveIdx=()=>{const e=X(this.activeIdx)??0;this._setActiveIdx(e+1)};_decrementActiveIdx=()=>{const e=X(this.activeIdx)??0;this._setActiveIdx(e-1)};_setActiveIdx=e=>{this._menuData.update(t=>t&&{...t,activeIdx:e})};onUpdateSuggestion=e=>{const t=e.clientRect?.();t&&this._menuData.update(n=>({referenceClientRect:t,tiptapExtensionProps:e,activeIdx:n?.activeIdx??0}))};exitMenu=()=>{this._menuData.set(void 0),this._mentionables.set([])};_handleKeyIfActive=e=>()=>!!X(this.isMenuActive)&&(e(),!0);onArrowUp=this._handleKeyIfActive(this._decrementActiveIdx);onArrowDown=this._handleKeyIfActive(this._incrementActiveIdx);selectActiveItem=this._handleKeyIfActive(()=>{const e=X(this.activeItem);return!!e&&this.selectItem(e)})}function an([o,e]){if(e!==void 0&&o.length!==0)return o[e]}function ln([o,e]){if(!(e?.activeIdx===void 0||o.length===0))return(e.activeIdx%o.length+o.length)%o.length%o.length}class y1{constructor(e){this._options=e;const t=e.triggerCharacter??"@";this._triggerCharacter=t;const n=new P1(this._mentionListenerPluginId),i=new P1(this._mentionPluginId),s=e.allowedPrefixes??[" ","	",`
`],r=e.renderText??(d=>`${t}${d.name??d.id}`);this._chipController=new ne(this._mentionPluginId);const a=this._onCreate.bind(this),h=this._onProseMirrorUpdate.bind(this),m=this._onDestroy.bind(this),g=this._chipController.createMentionChip,l=this._mentionableMenuContext.onUpdateSuggestion,u=this._mentionableMenuContext.exitMenu,c=this._mentionableMenuContext.onArrowUp,C=this._mentionableMenuContext.onArrowDown,L=this._mentionableMenuContext.selectActiveItem;this._mention=rn.extend({name:this._mentionPluginId,onCreate(){a(this.editor)},onDestroy(){m()},addKeyboardShortcuts:()=>({ArrowUp:c,ArrowDown:C,Enter:L,Tab:L}),addAttributes(){return{...this.parent?.(),data:{default:null,keepOnSplit:!1,parseHTML:d=>{const p=d.getAttribute(ne.CHIP_DATA_ATTR_KEY);return p?JSON.parse(p):null},renderHTML:d=>d.data?{[ne.CHIP_DATA_ATTR_KEY]:JSON.stringify(d.data)}:{}}}},addProseMirrorPlugins(){return[...this.parent?.()??[],new j1({key:n,view:()=>({update:(d,p)=>{h(p.doc,d.state.doc)}})})]},addOptions(){const d=this.parent?.();return{...d,HTMLAttributes:{class:ne.CHIP_CLASS_NAME},renderHTML:g,renderText:({node:p})=>{const _=p.attrs.data;if(!_){const v={id:p.attrs.id||"unknown",label:p.attrs.label||"Unknown mention",name:p.attrs.label||p.attrs.id||"unknown"};return console.warn("Mention data missing, using fallback:",v),r(v)}return r(_)},suggestion:{...d?.suggestion,pluginKey:i,char:t,allowedPrefixes:s,command:({editor:p,range:_,props:v})=>{p&&_&&d.suggestion?.command?.({editor:p,range:_,props:{id:v.id,name:v.name??v.id,label:v.label,data:v}})},render:()=>({onStart:l,onUpdate:l,onExit:u})}}}})}static CONTEXT_KEY="augment-svelte-mention-plugin";static MENTION_LISTENER_PLUGIN_ID_BASE="{}-listener";static MENTION_PLUGIN_ID_BASE="augment-prosemirror-mention-{}";static DEFAULT_MENTION_PLUGIN_ID="mention";_triggerCharacter;_editor;_mention;_chipController;_mentionableMenuContext=new sn;get chipController(){return this._chipController}get mentionableMenuContext(){return this._mentionableMenuContext}insertMentionNode=e=>!!this._editor&&(this._mentionableMenuContext.replaceQueryWithMentionNode(e.data)||this._editor.commands.insertContent({type:this._mentionPluginId,attrs:e}),!0);get _mentionPluginId(){return this._options.pluginId?this._options.pluginId:this._triggerCharacter==="@"?y1.DEFAULT_MENTION_PLUGIN_ID:y1.MENTION_PLUGIN_ID_BASE.replace("{}",this._triggerCharacter)}get _mentionListenerPluginId(){return y1.MENTION_LISTENER_PLUGIN_ID_BASE.replace("{}",this._mentionPluginId)}_onCreate=e=>{const t=Ne(this._mentionPluginId,e).map(n=>n.attrs.data);this._options.onMentionItemsUpdated?.({added:t,removed:[],current:t}),this._editor=e,this._chipController.onCreate(e)};_onDestroy=()=>{if(this._editor){const e=Ne(this._mentionPluginId,this._editor).map(t=>t.attrs.data);this._options.onMentionItemsUpdated?.({added:[],removed:e,current:[]}),this._editor=void 0,this._chipController.onDispose()}this._chipController.hideTooltip(),this._mentionableMenuContext.exitMenu()};_onProseMirrorUpdate=(e,t)=>{if(e===t)return;const n=a=>a.attrs.data,i=[],s=De(this._mentionPluginId,e,t).map(n),r=De(this._mentionPluginId,t,e,{onNewMention:a=>i.push(n(a)),onExistingMention:a=>i.push(n(a))}).map(n);this._options.onMentionItemsUpdated?.({added:r,removed:s,current:i})};get tipTapExtension(){return this._mention}}var dn=H("<!> <!>",1),cn=H("<!> <!>",1);const ue={ChipTooltip:function(o,e){const t=Re(e);u1(e,!1);const n=()=>L1(r,"$chipTooltipData",i),[i,s]=K1(),r=g1(y1.CONTEXT_KEY).chipController.tooltipData;let a=V1(void 0);I1(()=>(n(),k(a)),()=>{n()===void 0?k(a)?.requestClose():k(a)?.requestOpen()}),W1(),A1();{let h=X1(()=>(n(),N(()=>n()?.anchorElement.getBoundingClientRect())));pe(mt(o,{triggerOn:[],get referenceClientRect(){return k(h)},$$slots:{content:(m,g)=>{var l=dn(),u=b(l),c=d=>{var p=S(),_=b(p);M1(_,e,"mentionable",{get mentionable(){return n(),N(()=>n().data)}},null),f(d,p)};P(u,d=>{n(),N(()=>n()&&t.mentionable)&&d(c)});var C=J(u,2),L=d=>{var p=S(),_=b(p);M1(_,e,"default",{get mentionable(){return n(),N(()=>n().data)}},null),f(d,p)};P(C,d=>{n(),N(()=>n()&&t.default)&&d(L)}),f(m,l)}},$$legacy:!0}),m=>T1(a,m),()=>k(a))}p1(),s()},Root:function(o,e){u1(e,!0);let t=$(e,"onMentionItemsUpdated",19,()=>{}),n=$(e,"triggerCharacter",19,()=>{}),i=$(e,"allowedPrefixes",19,()=>{}),s=$(e,"pluginId",19,()=>{}),r=$(e,"renderText",19,()=>{});const a=new y1({onMentionItemsUpdated:u=>t()?.(u),triggerCharacter:n(),allowedPrefixes:i(),pluginId:s(),renderText:r()});Fe(y1.CONTEXT_KEY,a);const h=g1(C1.CONTEXT_KEY).pluginManager.registerPlugin(a);se(h);var m={insertMention:u=>{a.insertMentionNode({id:u.id,label:u.label,data:u})}},g=S(),l=b(g);return qe(l,()=>e.children??rt),f(o,g),p1(m)},Menu:{Root:function(o,e){u1(e,!1);const t=()=>L1(d,"$query",n),[n,i]=K1();let s=$(e,"mentionables",8),r=$(e,"onQueryUpdate",8),a=$(e,"onSelectMentionable",8,x=>(c.insertMentionNode({...x,data:x}),!0)),h=V1();const m=()=>k(h)?.requestOpen(),g=()=>k(h)?.requestClose(),l=x=>k(h)?.focusIdx(x),u=g1(C1.CONTEXT_KEY),c=g1(y1.CONTEXT_KEY),C=c.mentionableMenuContext,{referenceClientRect:L,query:d,activeItem:p,isMenuActive:_,exitMenu:v}=C;I1(()=>(y(r()),t()),()=>{r()(t())}),I1(()=>y(a()),()=>{C.updateOptions({onSelectMentionable:a()})}),I1(()=>y(s()),()=>{C.updateMentionables(s())}),W1();var D={requestOpen:m,requestClose:g,focusIdx:l};A1(),pe(x1.Root(o,{get open(){return L1(_,"$isMenuActive",n)},onOpenChange:async x=>{x||u.commandManager.requestFocus()},nested:!1,children:(x,Z)=>{var O=cn(),M=b(O);x1.Trigger(M,{get referenceClientRect(){return L1(L,"$referenceClientRect",n)}});var E=J(M,2);x1.Content(E,{side:"top",align:"start",size:1,get onClickOutside(){return v},get onEscapeKeyDown(){return v},children:(I,W)=>{var j=S(),R=b(j);M1(R,e,"default",{get activeItem(){return L1(p,"$activeItem",n)},get query(){return t()}},null),f(I,j)},$$slots:{default:!0}}),f(x,O)},$$slots:{default:!0},$$legacy:!0}),x=>T1(h,x),()=>k(h)),s1(e,"requestOpen",m),s1(e,"requestClose",g),s1(e,"focusIdx",l);var w=p1(D);return i(),w},Item:function(o,e){u1(e,!1);const[t,n]=K1(),i=g1(y1.CONTEXT_KEY),{replaceQueryWithMentionNode:s,activeItem:r}=i.mentionableMenuContext;let a=$(e,"mentionable",8);A1();{let h=X1(()=>L1(r,"$activeItem",t)===a());Lt(o,{onSelect:()=>s(a()),get highlight(){return k(h)},children:(m,g)=>{var l=S(),u=b(l);M1(u,e,"default",{},null),f(m,l)},$$slots:{default:!0}})}p1(),n()},Separator:x1.Separator,Label:x1.Label}};class re{constructor(e,t){this._chatModel=e,this._insertMentionNode=t;const n=this._chatModel.reduxStore,i=bt.withStore(n)(this._breadcrumbIds),s=Mt.withStore(n)();this._displayItems=b1([this._active,this._breadcrumbIds,this._userQuery,i,s],([r,a,h,m,g])=>{if(!r)return[];if(a.length>0&&m)return[{...m,type:"breadcrumb-back"},...m.group.items.slice(0,re.SINGLE_GROUP_MAX_ITEMS).map(l=>({...l,type:"item"}))];if(h.length>0){const l=hn(h).map(u=>({...u,type:"item"}));return g.flatMap(u=>[{...u,type:"breadcrumb"},...u.group.items.slice(0,re.MULTI_GROUP_MAX_ITEMS).map(c=>({...c,type:"item"}))]).concat(l)}return[{...Ze,type:"item"},...g.map(l=>({...l,type:"breadcrumb"})),{...Ke,type:"item"}]})}static REFRESH_THROTTLE_MS=600;static SINGLE_GROUP_MAX_ITEMS=12;static MULTI_GROUP_MAX_ITEMS=6;_breadcrumbIds=l1([]);_userQuery=l1("");_active=l1(!1);get breadcrumbIds(){return this._breadcrumbIds}get displayItems(){return this._displayItems}get active(){return this._active}get userQuery(){return this._userQuery}openDropdown=()=>{this._chatModel.dispatchReduxAction(yt()),this._active.set(!0)};closeDropdown=()=>{this._active.set(!1),this._resetState()};toggleDropdown=()=>X(this._active)?(this.closeDropdown(),!1):(this.openDropdown(),!0);pushBreadcrumb=e=>{X(this._active)&&this._breadcrumbIds.update(t=>[...t,e.id])};popBreadcrumb=()=>{X(this._active)&&this._breadcrumbIds.update(e=>e.slice(0,-1))};selectMentionable=e=>{const t=this._chatModel.extensionClient;return z1(e)&&e.type==="breadcrumb"?(this.pushBreadcrumb(e),!0):e.type==="breadcrumb-back"?(this.popBreadcrumb(),!0):me(e)?(this._chatModel.dispatchReduxAction(wt()),this.closeDropdown(),t.reportWebviewClientEvent(xe.chatRestoreDefaultContext),!0):e.clearContext?(this._chatModel.dispatchReduxAction(Et()),this.closeDropdown(),t.reportWebviewClientEvent(xe.chatClearContext),!0):(this._insertMentionNode?.(e),this.closeDropdown(),!0)};_displayItems;_resetState(){this._breadcrumbIds.set([]),this._userQuery.set("")}}const hn=o=>xt({query:o,mentionables:[Ze,Ke],returnAllIfNoResults:!1,threshold:.6});var un=Q1('<svg width="113" height="112" viewBox="0 0 113 112" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M2.08,107.33 C3.82,110.98 6.43,114.11 9.73,115.85 C13.73,118.11 17.73,118.28 20.16,118.28 C20.86,118.28 21.38,118.28 22.08,118.28 C22.6,118.28 22.95,118.28 23.12,118.28 L90.23,118.28 C90.58,118.28 90.92,118.28 91.27,118.28 C91.97,118.28 92.49,118.28 93.18,118.28 C95.62,118.28 99.62,118.11 103.61,115.85 C106.92,113.93 109.53,110.98 111.26,107.33 M111.26,107.33 C112.66,104.02 113.35,100.55 113.35,96.9 L113.35,87.33 C115.09,86.29 116.65,85.07 117.87,83.16 C119.96,80.38 121,76.9 121,73.08 C121,69.25 119.78,65.43 117.52,62.47 C116.31,60.91 114.92,59.86 113.35,59 L113.35,46.13 C113.35,40.22 111.79,34.66 107.96,30.48 C104.31,26.31 99.44,24.57 94.23,24.57 L92.49,24.57 L92.31,24.57 C92.66,24.57 91.27,15.18 91.1,14.31 C90.4,11.01 89.18,7.71 87.45,4.93 C81.19,-5.85 67.97,-4.98 56.5,-4.98 C45.03,-4.98 31.81,-5.68 25.55,4.93 C23.82,7.88 22.77,11.01 21.9,14.31 C21.73,15.18 20.16,24.57 20.69,24.57 L20.51,24.57 L18.77,24.57 C13.56,24.57 8.86,26.31 5.04,30.48 C1.39,34.66 -0.35,40.22 -0.35,46.13 L-0.35,59 C-1.92,59.86 -3.31,61.08 -4.52,62.47 C-6.78,65.43 -8,69.08 -8,73.08 C-8,76.73 -6.96,80.21 -4.87,83.16 C-3.65,84.9 -2.09,86.29 -0.35,87.33 L-0.35,96.9 C-0.35,100.55 0.35,104.02 1.74,107.33" id="Shape" fill-rule="nonzero"></path><path d="M27.29,66.65 L36.86,66.65 C40.86,66.65 43.98,69.78 43.98,73.78 C43.98,77.77 40.86,80.9 36.86,80.9 L27.29,80.9 C23.3,80.9 20.17,77.77 20.17,73.78 C20.17,69.95 23.47,66.65 27.29,66.65 Z" id="Path" fill-rule="nonzero"></path><path d="M75.45,66.65 L85.01,66.65 C89.01,66.65 92.14,69.78 92.14,73.78 C92.14,77.77 89.01,80.9 85.01,80.9 L75.45,80.9 C71.45,80.9 68.32,77.77 68.32,73.78 C68.32,69.95 71.63,66.65 75.45,66.65 Z" id="Path" fill-rule="nonzero"></path><path d="M17.38,110.98 C15.64,110.98 14.08,110.63 12.86,110.11 C11.65,109.41 10.78,108.54 10.08,107.33 C9.39,106.11 9.21,104.55 9.21,102.63 L9.21,84.03 C9.21,81.77 8.69,80.03 7.82,78.99 C6.95,77.95 5.39,77.42 2.95,77.42 C2.26,77.42 1.74,77.08 1.21,76.56 C0.69,76.03 0.52,75.34 0.52,74.64 C0.52,73.95 0.69,73.25 1.21,72.73 C1.74,72.21 2.26,72.03 2.95,71.86 C5.21,71.86 6.78,71.34 7.82,70.3 C8.69,69.25 9.21,67.69 9.21,65.43 L9.21,46.65 C9.21,43.87 9.91,41.78 11.3,40.39 C12.69,39 14.78,38.31 17.56,38.31 L39.46,38.31 C40.33,38.31 41.03,38.48 41.55,39 C42.07,39.52 42.42,40.05 42.42,40.91 C42.42,41.61 42.24,42.31 41.72,42.83 C41.2,43.35 40.68,43.7 39.81,43.7 L19.47,43.7 C18.25,43.7 17.38,44.04 16.86,44.57 C16.34,45.09 15.99,46.13 15.99,47.35 L15.99,66.12 C15.99,67.69 15.64,69.25 14.95,70.64 C14.25,72.03 13.38,73.08 12.34,73.77 C11.3,74.47 9.91,74.99 8.52,74.99 L8.52,74.47 C10.08,74.47 11.3,74.82 12.34,75.69 C13.38,76.38 14.25,77.42 14.95,78.82 C15.64,80.21 15.99,81.6 15.99,83.34 L15.99,102.11 C15.99,103.33 16.34,104.37 16.86,104.89 C17.38,105.59 18.43,105.76 19.47,105.76 L39.81,105.76 C40.51,105.76 41.2,106.11 41.72,106.63 C42.24,107.15 42.42,107.85 42.42,108.54 C42.42,109.24 42.07,109.94 41.55,110.46 C41.03,110.98 40.33,111.33 39.46,111.33 L17.38,110.98 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M74.06,110.98 C73.19,110.98 72.49,110.63 71.97,110.11 C71.45,109.59 71.1,108.89 71.1,108.2 C71.1,107.5 71.28,106.81 71.8,106.29 C72.32,105.76 72.84,105.42 73.71,105.42 L94.05,105.42 C95.27,105.42 96.14,105.07 96.66,104.55 C97.18,104.03 97.53,102.98 97.53,101.77 L97.53,83.16 C97.53,81.6 97.88,80.03 98.57,78.64 C99.27,77.25 100.14,76.21 101.18,75.51 C102.22,74.82 103.61,74.3 105.01,74.3 L105.01,74.64 C103.44,74.64 102.22,74.3 101.18,73.43 C100.14,72.73 99.27,71.51 98.57,70.3 C97.88,68.91 97.53,67.52 97.53,65.78 L97.53,47 C97.53,45.78 97.18,44.74 96.66,44.22 C95.96,43.7 95.1,43.35 94.05,43.35 L73.71,43.35 C73.02,43.35 72.32,43 71.8,42.48 C71.28,41.96 71.1,41.26 71.1,40.57 C71.1,39.87 71.45,39.18 71.97,38.66 C72.49,38.13 73.19,37.96 74.06,37.96 L95.96,37.96 C98.57,37.96 100.66,38.66 102.22,40.05 C103.61,41.44 104.31,43.52 104.31,46.31 L104.31,64.91 C104.31,67.17 104.83,68.73 105.7,69.78 C106.57,70.82 108.13,71.34 110.57,71.34 C111.26,71.34 111.79,71.69 112.31,72.21 C112.83,72.73 113,73.25 113,74.12 C113,74.82 112.83,75.51 112.31,76.04 C111.96,76.56 111.26,76.9 110.57,76.9 C108.31,76.9 106.74,77.43 105.7,78.47 C104.83,79.51 104.31,81.25 104.31,83.51 L104.31,102.11 C104.31,103.85 103.96,105.42 103.44,106.81 C102.75,108.02 101.88,109.07 100.66,109.59 C99.44,110.28 97.88,110.46 96.14,110.46 L74.06,110.98 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M77.88,64.04 L75.1,67.69 C73.19,70.12 72.15,70.82 70.24,70.82 C69.19,70.82 68.32,70.3 68.32,69.43 C68.32,68.73 68.67,68.21 69.02,67.52 L73.36,61.43 C74.41,59.87 75.62,59 77.54,59 L78.06,59 C79.97,59 81.19,59.87 82.23,61.43 L86.58,67.52 C87.1,68.21 87.27,68.91 87.27,69.43 C87.27,70.3 86.4,70.82 85.36,70.82 C83.45,70.82 82.4,70.12 80.49,67.69 L77.88,64.04 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M37.2,64.04 L34.42,67.69 C32.51,70.12 31.46,70.82 29.55,70.82 C28.51,70.82 27.64,70.3 27.64,69.43 C27.64,68.73 27.99,68.21 28.34,67.52 L32.68,61.43 C33.73,59.87 34.94,59 36.85,59 L37.38,59 C39.29,59 40.51,59.87 41.55,61.43 L45.89,67.52 C46.42,68.21 46.59,68.91 46.59,69.43 C46.59,70.3 45.72,70.82 44.68,70.82 C42.77,70.82 41.72,70.12 39.81,67.69 L37.2,64.04 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M81.88,6.84 L75.8,23.01 C75.45,23.88 74.41,24.05 72.67,23.53 C70.93,23.01 70.24,22.14 70.58,21.27 C71.8,17.1 72.67,13.97 73.36,11.71 C74.06,9.45 74.58,7.71 74.93,6.67 C75.28,5.62 75.45,5.1 75.45,4.93 C75.45,4.75 75.62,4.58 75.62,4.58 C75.97,3.36 77.36,3.19 79.45,3.89 C81.36,4.75 82.23,5.62 81.88,6.84 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M30.07,6.84 L36.16,23.01 C36.51,23.88 37.55,24.05 39.29,23.53 C41.03,23.01 41.72,22.14 41.37,21.27 C40.16,17.1 39.29,13.97 38.59,11.71 C37.9,9.45 37.38,7.71 37.03,6.67 C36.68,5.62 36.51,5.1 36.51,4.93 C36.51,4.75 36.33,4.58 36.33,4.58 C35.98,3.36 34.59,3.19 32.51,3.89 C30.42,4.75 29.55,5.62 30.07,6.84 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M59.46,3.01 L58.76,20.4 C58.76,21.44 57.89,21.79 55.98,21.79 C54.07,21.79 53.2,21.27 53.2,20.4 C53.02,16.05 52.85,12.75 52.85,10.32 C52.85,7.88 52.68,6.14 52.68,5.1 C52.68,4.06 52.68,3.54 52.68,3.19 C52.68,2.84 52.68,2.84 52.68,2.84 C52.68,1.62 53.89,0.93 56.15,0.93 C58.41,1.1 59.46,1.62 59.46,3.01 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M42.07,79.6 C41.55,79.08 41.03,78.73 39.99,78.73 C39.29,78.73 38.77,78.91 38.25,79.25 C37.73,79.6 37.55,80.12 37.55,80.64 C37.55,80.99 37.55,81.17 37.73,81.34 C37.73,81.51 37.9,81.69 37.9,81.86 C42.42,88.29 48.51,91.77 56.85,91.77 C65.02,91.77 71.28,88.29 75.8,81.86 C75.97,81.69 75.97,81.51 75.97,81.34 C75.97,81.17 76.15,80.82 76.15,80.64 C76.15,80.12 75.8,79.6 75.45,79.25 C74.93,78.91 74.41,78.73 73.71,78.73 C72.84,78.73 72.15,79.08 71.63,79.6 C69.72,82.04 67.46,83.77 65.02,84.99 C62.59,86.21 59.98,86.73 56.68,86.73 C53.55,86.73 50.77,86.21 48.33,84.99 C45.9,83.77 43.98,82.04 42.07,79.6 Z" id="Path" stroke="currentColor" stroke-width="0.452891" fill="currentColor" fill-rule="nonzero"></path></g></svg>');function Oe(o){var e=un();f(o,e)}var pn=Q1('<svg width="121" height="115" viewBox="0 0 121 115" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.0699 114.34C16.1299 114.34 14.5 114.004 13.17 113.331C11.85 112.659 10.8501 111.637 10.1801 110.286C9.50005 108.934 9.16003 107.284 9.16003 105.34V85.3291C9.16003 82.8631 8.67996 81.0691 7.70996 79.9481C6.73996 78.8331 5.02005 78.2421 2.55005 78.1861C1.79005 78.1861 1.16995 77.8931 0.699951 77.3011C0.229951 76.7161 0 76.0371 0 75.2771C0 74.4551 0.229951 73.7761 0.699951 73.2471C1.16995 72.7171 1.79005 72.4241 2.55005 72.3681C5.02005 72.3061 6.73996 71.7211 7.70996 70.6061C8.67996 69.4911 9.16003 67.7221 9.16003 65.3121V45.3011C9.16003 42.3611 9.92995 40.1251 11.45 38.5991C12.98 37.0731 15.1799 36.3071 18.0699 36.3071H41.59C42.48 36.3071 43.2 36.5751 43.8 37.0981C44.38 37.6281 44.6801 38.3061 44.6801 39.1221C44.6801 39.8881 44.4301 40.5491 43.9301 41.1091C43.4401 41.6701 42.78 41.9501 41.95 41.9501H20.1C18.87 41.9501 17.92 42.2741 17.28 42.9221C16.64 43.5691 16.3101 44.5661 16.3101 45.9241V66.0281C16.3101 67.7911 15.96 69.3911 15.25 70.8301C14.55 72.2751 13.6101 73.4021 12.4301 74.2311C11.2501 75.0531 9.88004 75.4641 8.29004 75.4641V75.1091C9.88004 75.1091 11.2501 75.5201 12.4301 76.3421C13.6101 77.1641 14.55 78.2981 15.25 79.7431C15.96 81.1811 16.3101 82.7821 16.3101 84.5451V104.736C16.3101 106.094 16.64 107.091 17.28 107.738C17.93 108.392 18.87 108.71 20.1 108.71H41.95C42.77 108.71 43.4301 108.99 43.9301 109.551C44.4401 110.111 44.6801 110.771 44.6801 111.538C44.6801 112.304 44.39 112.958 43.8 113.518C43.2 114.079 42.48 114.359 41.59 114.359H18.0699V114.34Z" fill="currentColor"></path><path d="M78.84 114.339C77.95 114.339 77.22 114.059 76.63 113.499C76.04 112.938 75.75 112.278 75.75 111.518C75.75 110.758 76 110.092 76.5 109.531C76.99 108.971 77.65 108.69 78.48 108.69H100.32C101.56 108.69 102.5 108.373 103.15 107.719C103.79 107.071 104.12 106.075 104.12 104.717V84.5251C104.12 82.7621 104.47 81.1621 105.18 79.7231C105.88 78.2781 106.82 77.1511 108 76.3231C109.18 75.5001 110.55 75.0891 112.14 75.0891V75.444C110.55 75.444 109.18 75.0331 108 74.2111C106.82 73.3891 105.88 72.256 105.18 70.811C104.47 69.372 104.12 67.771 104.12 66.009V45.9041C104.12 44.5531 103.79 43.556 103.15 42.902C102.5 42.254 101.56 41.9301 100.32 41.9301H78.48C77.66 41.9301 77 41.6501 76.5 41.0901C76 40.5351 75.75 39.8691 75.75 39.1031C75.75 38.2811 76.04 37.608 76.63 37.079C77.22 36.549 77.95 36.2881 78.84 36.2881H102.36C105.25 36.2881 107.44 37.0541 108.98 38.5801C110.51 40.1061 111.27 42.3421 111.27 45.2811V65.2921C111.27 67.7031 111.75 69.4721 112.72 70.5861C113.69 71.7011 115.41 72.2931 117.88 72.3491C118.64 72.4051 119.26 72.6981 119.73 73.2271C120.2 73.7571 120.43 74.4351 120.43 75.2581C120.43 76.0241 120.2 76.696 119.73 77.282C119.26 77.867 118.64 78.1661 117.88 78.1661C115.41 78.2221 113.69 78.8141 112.72 79.9291C111.75 81.0441 111.27 82.8371 111.27 85.3101V105.321C111.27 107.264 110.93 108.908 110.25 110.266C109.57 111.624 108.58 112.633 107.26 113.312C105.93 113.984 104.3 114.321 102.36 114.321H78.84V114.339Z" fill="currentColor"></path><path d="M79.92 76.025C83.88 76.025 87.09 72.8159 87.09 68.8569C87.09 64.8979 83.88 61.689 79.92 61.689C75.96 61.689 72.75 64.8979 72.75 68.8569C72.75 72.8159 75.96 76.025 79.92 76.025Z" fill="currentColor"></path><path d="M39.8301 76.025C43.7901 76.025 46.9901 72.8159 46.9901 68.8569C46.9901 64.8979 43.7901 61.689 39.8301 61.689C35.8701 61.689 32.6602 64.8979 32.6602 68.8569C32.6602 72.8159 35.8701 76.025 39.8301 76.025Z" fill="currentColor"></path><path d="M59.8701 94.9769C59.7201 94.9769 59.5701 94.9769 59.4301 94.9769C59.1501 94.9769 58.8701 94.9609 58.5901 94.9459H58.5101C57.4801 94.8899 56.45 94.7669 55.45 94.5819L55.0901 94.515C54.9501 94.49 54.8001 94.4589 54.6601 94.4279C49.1801 93.2799 44.1001 90.3729 40.3601 86.2509C39.8101 85.6359 39.85 84.877 40.07 84.369C40.32 83.81 40.8101 83.4669 41.3401 83.4669C41.4701 83.4669 41.5901 83.4869 41.7201 83.5179C47.4801 85.1129 53.4301 86.764 59.3101 86.835H60.4301C66.3101 86.764 72.2501 85.1179 78.0001 83.5229C78.1501 83.4819 78.2801 83.4619 78.4101 83.4619C78.9401 83.4619 79.4301 83.81 79.6801 84.364C79.9001 84.872 79.9401 85.6309 79.3901 86.2459C75.6501 90.3679 70.5701 93.2749 65.0901 94.4229C64.9301 94.4589 64.7601 94.4899 64.6001 94.5259L64.3001 94.5819C63.2901 94.7669 62.2601 94.8839 61.2401 94.9409H61.1601C60.8801 94.9609 60.61 94.9669 60.33 94.9719C60.18 94.9719 60.0301 94.9719 59.8801 94.9719L59.8701 94.9769Z" fill="currentColor"></path><path d="M70.1802 51.6431L70.8801 42.201L62.9901 47.5721C62.4701 47.9181 62.1301 48.0911 61.6101 48.0911C60.6501 48.0911 59.8701 47.225 59.8701 46.272C59.8701 45.493 60.4801 44.8871 61.0901 44.6271L70.0101 40.3821L61.0901 36.1381C60.3901 35.7911 59.8701 35.2721 59.8701 34.4921C59.8701 33.5391 60.6501 32.76 61.6101 32.673C62.2101 32.673 62.4701 32.8461 62.9901 33.1931L70.8801 38.563L70.1802 29.121C70.1002 28.082 70.8802 27.2161 71.9202 27.2161C72.9502 27.2161 73.7301 28.082 73.6501 29.121L72.9501 38.563L80.8401 33.1931C81.3601 32.8461 81.7001 32.673 82.2201 32.673C83.1801 32.673 83.9601 33.5391 83.9601 34.4921C83.9601 35.4451 83.3501 35.8781 82.7401 36.1381L73.8201 40.3821L82.7401 44.6271C83.3501 44.8871 83.9601 45.32 83.9601 46.272C83.9601 47.225 83.1801 48.0911 82.2201 48.0911C81.7001 48.0911 81.3601 47.9181 80.8401 47.5721L72.9501 42.201L73.6501 51.6431C73.7301 52.6821 72.9502 53.5491 71.9202 53.5491C70.8802 53.5491 70.1002 52.6821 70.1802 51.6431Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M73.65 51.6429C73.73 52.6819 72.95 53.5489 71.92 53.5489C70.88 53.5489 70.1001 52.6819 70.1801 51.6429L70.88 42.2009L62.99 47.5719C62.47 47.9179 62.13 48.0909 61.61 48.0909C60.65 48.0909 59.87 47.2249 59.87 46.2719C59.87 45.4929 60.48 44.8869 61.09 44.6269L70.01 40.3819L61.09 36.1379C60.39 35.7909 59.87 35.2719 59.87 34.4919C59.87 33.5389 60.65 32.7599 61.61 32.6729C62.21 32.6729 62.47 32.8459 62.99 33.1929L70.88 38.5629L70.1801 29.1208C70.1001 28.0818 70.88 27.2159 71.92 27.2159C72.95 27.2159 73.73 28.0818 73.65 29.1208L72.95 38.5629L80.84 33.1929C81.36 32.8459 81.7 32.6729 82.22 32.6729C83.18 32.6729 83.96 33.5389 83.96 34.4919C83.96 35.4449 83.35 35.8779 82.74 36.1379L73.8199 40.3819L82.74 44.6269C83.35 44.8869 83.96 45.3199 83.96 46.2719C83.96 47.2249 83.18 48.0909 82.22 48.0909C81.7 48.0909 81.36 47.9179 80.84 47.5719L72.95 42.2009L73.65 51.6429ZM75.04 45.8169L75.46 51.5029C75.62 53.5679 74.04 55.3629 71.92 55.3629C69.79 55.3629 68.21 53.5679 68.37 51.5029L68.79 45.8169L64 49.0809C63.39 49.4879 62.67 49.9059 61.61 49.9059C59.54 49.9059 58.0601 48.1109 58.0601 46.2719C58.0601 44.5309 59.34 43.4159 60.33 42.9759L65.79 40.3819L60.28 37.7609C59.31 37.2759 58.0601 36.2689 58.0601 34.4919C58.0601 32.5089 59.6499 31.0289 61.4399 30.8659L61.52 30.8589H61.61C62.11 30.8589 62.57 30.9339 63.04 31.1309C63.41 31.2859 63.73 31.5049 63.95 31.6519C63.97 31.6629 63.98 31.6729 64 31.6829L64.01 31.6929L68.79 34.9469L68.37 29.2619C68.21 27.1959 69.79 25.4009 71.92 25.4009C74.04 25.4009 75.62 27.1959 75.46 29.2619L75.04 34.9469L79.83 31.6829C80.44 31.2759 81.16 30.8589 82.22 30.8589C84.29 30.8589 85.77 32.6529 85.77 34.4919C85.77 35.3979 85.4699 36.1709 84.9399 36.7699C84.4699 37.3069 83.91 37.6099 83.49 37.7899L78.04 40.3819L83.49 42.9739C83.91 43.1549 84.4699 43.4579 84.9399 43.9949C85.4699 44.5929 85.77 45.3669 85.77 46.2719C85.77 48.1109 84.29 49.9059 82.22 49.9059C81.16 49.9059 80.44 49.4879 79.83 49.0809L79.8199 49.0709L75.04 45.8169Z" fill="currentColor"></path><path d="M41.1499 37.1279L41.8499 27.6859L33.9598 33.0569C33.4398 33.4029 33.0998 33.5759 32.5798 33.5759C31.6198 33.5759 30.8398 32.71 30.8398 31.757C30.8398 30.978 31.4499 30.3709 32.0599 30.1119L40.9799 25.8669L32.0599 21.6229C31.3599 21.2759 30.8398 20.7559 30.8398 19.9769C30.8398 19.0239 31.6198 18.244 32.5798 18.158C33.1798 18.158 33.4398 18.3309 33.9598 18.6779L41.8499 24.0479L41.1499 14.606C41.0699 13.567 41.8499 12.7009 42.8799 12.7009C43.9199 12.7009 44.6999 13.567 44.6199 14.606L43.9199 24.0479L51.8099 18.6779C52.3299 18.3309 52.6698 18.158 53.1898 18.158C54.1498 18.158 54.9299 19.0239 54.9299 19.9769C54.9299 20.9299 54.3198 21.3629 53.7098 21.6229L44.7899 25.8669L53.7098 30.1119C54.3198 30.3709 54.9299 30.805 54.9299 31.757C54.9299 32.71 54.1498 33.5759 53.1898 33.5759C52.6698 33.5759 52.3299 33.4029 51.8099 33.0569L43.9199 27.6859L44.6199 37.1279C44.6999 38.1669 43.9199 39.0339 42.8799 39.0339C41.8499 39.0339 41.0699 38.1669 41.1499 37.1279Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M44.62 37.128C44.7 38.167 43.92 39.034 42.88 39.034C41.85 39.034 41.07 38.167 41.15 37.128L41.85 27.686L33.96 33.057C33.44 33.403 33.1 33.576 32.58 33.576C31.62 33.576 30.84 32.71 30.84 31.757C30.84 30.978 31.4501 30.371 32.0601 30.112L40.98 25.867L32.0601 21.623C31.3601 21.276 30.84 20.756 30.84 19.977C30.84 19.024 31.62 18.244 32.58 18.158C33.18 18.158 33.44 18.331 33.96 18.678L41.85 24.048L41.15 14.606C41.07 13.567 41.85 12.701 42.88 12.701C43.92 12.701 44.7 13.567 44.62 14.606L43.92 24.048L51.8101 18.678C52.3301 18.331 52.6699 18.158 53.1899 18.158C54.1499 18.158 54.9301 19.024 54.9301 19.977C54.9301 20.93 54.32 21.363 53.71 21.623L44.79 25.867L53.71 30.112C54.32 30.371 54.9301 30.805 54.9301 31.757C54.9301 32.71 54.1499 33.576 53.1899 33.576C52.6699 33.576 52.3301 33.403 51.8101 33.057L43.92 27.686L44.62 37.128ZM46.01 31.302L46.4301 36.988C46.5901 39.053 45.01 40.848 42.88 40.848C40.76 40.848 39.18 39.053 39.34 36.988L39.76 31.302L34.97 34.566C34.36 34.973 33.64 35.391 32.58 35.391C30.51 35.391 29.03 33.596 29.03 31.757C29.03 30.016 30.31 28.9 31.3 28.461L36.76 25.867L31.25 23.246C30.28 22.761 29.03 21.754 29.03 19.977C29.03 17.994 30.62 16.514 32.41 16.351L32.49 16.343H32.58C33.08 16.343 33.54 16.419 34.01 16.616C34.38 16.771 34.7 16.99 34.92 17.137C34.94 17.148 34.95 17.158 34.97 17.168L34.98 17.178L39.76 20.432L39.34 14.747C39.18 12.681 40.76 10.886 42.88 10.886C45.01 10.886 46.5901 12.681 46.4301 14.747L46.01 20.432L50.8 17.168C51.41 16.761 52.1299 16.343 53.1899 16.343C55.2599 16.343 56.74 18.138 56.74 19.977C56.74 20.882 56.44 21.656 55.91 22.254C55.44 22.791 54.88 23.095 54.46 23.275L49.01 25.867L54.46 28.459C54.88 28.639 55.44 28.943 55.91 29.48C56.44 30.078 56.74 30.852 56.74 31.757C56.74 33.596 55.2599 35.391 53.1899 35.391C52.1299 35.391 51.41 34.973 50.8 34.566L50.79 34.556L46.01 31.302Z" fill="currentColor"></path><path d="M84.7001 26.2419L85.3901 16.7999L77.5101 22.1699C76.9901 22.5169 76.6401 22.6899 76.1201 22.6899C75.1701 22.6899 74.3901 21.8239 74.3901 20.8709C74.3901 20.0909 75.0001 19.4849 75.6001 19.2249L84.5201 14.981L75.6001 10.736C74.9101 10.39 74.3901 9.86994 74.3901 9.09094C74.3901 8.13794 75.1701 7.35791 76.1201 7.27191C76.7301 7.27191 76.9901 7.44495 77.5101 7.79095L85.3901 13.1619L84.7001 3.71991C84.6101 2.68091 85.3902 1.81396 86.4302 1.81396C87.4702 1.81396 88.2502 2.68091 88.1602 3.71991L87.4701 13.1619L95.3501 7.79095C95.8701 7.44495 96.2201 7.27191 96.7401 7.27191C97.6901 7.27191 98.4701 8.13794 98.4701 9.09094C98.4701 10.0429 97.8601 10.476 97.2601 10.736L88.3401 14.981L97.2601 19.2249C97.8601 19.4849 98.4701 19.9179 98.4701 20.8709C98.4701 21.8239 97.6901 22.6899 96.7401 22.6899C96.2201 22.6899 95.8701 22.5169 95.3501 22.1699L87.4701 16.7999L88.1602 26.2419C88.2502 27.2809 87.4702 28.1469 86.4302 28.1469C85.3902 28.1469 84.6101 27.2809 84.7001 26.2419Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M88.1602 26.242C88.2502 27.281 87.4702 28.147 86.4302 28.147C85.3902 28.147 84.6101 27.281 84.7001 26.242L85.3901 16.8L77.5101 22.17C76.9901 22.517 76.6401 22.69 76.1201 22.69C75.1701 22.69 74.3901 21.824 74.3901 20.871C74.3901 20.091 75.0001 19.485 75.6001 19.225L84.5201 14.981L75.6001 10.736C74.9101 10.39 74.3901 9.87 74.3901 9.091C74.3901 8.138 75.1701 7.35797 76.1201 7.27197C76.7301 7.27197 76.9901 7.44502 77.5101 7.79102L85.3901 13.162L84.7001 3.71997C84.6101 2.68097 85.3902 1.81403 86.4302 1.81403C87.4702 1.81403 88.2502 2.68097 88.1602 3.71997L87.4701 13.162L95.3501 7.79102C95.8701 7.44502 96.2201 7.27197 96.7401 7.27197C97.6901 7.27197 98.4701 8.138 98.4701 9.091C98.4701 10.043 97.8601 10.476 97.2601 10.736L88.3401 14.981L97.2601 19.225C97.8601 19.485 98.4701 19.918 98.4701 20.871C98.4701 21.824 97.6901 22.69 96.7401 22.69C96.2201 22.69 95.8701 22.517 95.3501 22.17L87.4701 16.8L88.1602 26.242ZM89.5502 20.416L89.9701 26.101C90.1401 28.167 88.5502 29.962 86.4302 29.962C84.3102 29.962 82.7201 28.167 82.8901 26.101L83.3102 20.416L78.5101 23.68C77.9001 24.087 77.1901 24.504 76.1201 24.504C74.0601 24.504 72.5801 22.71 72.5801 20.871C72.5801 19.13 73.8601 18.014 74.8501 17.574L80.3002 14.981L74.7902 12.359C73.8202 11.874 72.5801 10.867 72.5801 9.091C72.5801 7.108 74.1601 5.62803 75.9601 5.46503L76.0402 5.45697H76.1201C76.6201 5.45697 77.0902 5.533 77.5502 5.729C77.9202 5.885 78.2501 6.10398 78.4701 6.25098C78.4801 6.26198 78.5001 6.27198 78.5101 6.28198L78.5302 6.29199L83.3102 9.54602L82.8901 3.85999C82.7201 1.79399 84.3102 0 86.4302 0C88.5502 0 90.1401 1.79399 89.9701 3.85999L89.5502 9.54602L94.3501 6.28198C94.9601 5.87498 95.6701 5.45697 96.7401 5.45697C98.8101 5.45697 100.28 7.252 100.28 9.091C100.28 9.996 99.9801 10.77 99.4601 11.368C98.9901 11.905 98.4201 12.208 98.0101 12.389L92.5602 14.981L98.0101 17.573C98.4201 17.753 98.9901 18.056 99.4601 18.593C99.9801 19.192 100.28 19.965 100.28 20.871C100.28 22.71 98.8101 24.504 96.7401 24.504C95.6701 24.504 94.9601 24.087 94.3501 23.68L94.3301 23.67L89.5502 20.416Z" fill="currentColor"></path></svg>');function Cn(o){var e=pn();f(o,e)}var mn=Q1('<svg width="121px" height="116px" viewBox="0 0 121 116" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M18.068,99.825 C16.131,99.825 14.499,99.489 13.173,98.816 C11.852,98.143 10.85,97.122 10.177,95.77 C9.504,94.419 9.162,92.768 9.162,90.825 L9.162,70.814 C9.162,68.348 8.676,66.554 7.711,65.433 C6.739,64.318 5.02,63.726 2.554,63.67 C1.787,63.67 1.171,63.378 0.704,62.786 C0.23,62.2 0,61.522 0,60.762 C0,59.94 0.23,59.261 0.704,58.731 C1.171,58.202 1.794,57.909 2.554,57.853 C5.02,57.791 6.739,57.205 7.711,56.091 C8.682,54.976 9.162,53.207 9.162,50.797 L9.162,30.785 C9.162,27.846 9.928,25.61 11.454,24.084 C12.98,22.558 15.184,21.792 18.068,21.792 L41.592,21.792 C42.476,21.792 43.205,22.06 43.797,22.583 C44.382,23.112 44.681,23.791 44.681,24.607 C44.681,25.373 44.432,26.033 43.934,26.594 C43.435,27.154 42.775,27.435 41.947,27.435 L20.105,27.435 C18.865,27.435 17.925,27.758 17.283,28.406 C16.636,29.054 16.312,30.05 16.312,31.408 L16.312,51.513 C16.312,53.275 15.957,54.876 15.253,56.315 C14.549,57.76 13.609,58.887 12.431,59.715 C11.254,60.537 9.878,60.949 8.29,60.949 L8.29,60.594 C9.878,60.594 11.254,61.005 12.431,61.827 C13.609,62.649 14.549,63.782 15.253,65.227 C15.957,66.666 16.312,68.267 16.312,70.029 L16.312,90.221 C16.312,91.579 16.636,92.575 17.283,93.223 C17.931,93.877 18.871,94.195 20.105,94.195 L41.947,94.195 C42.769,94.195 43.429,94.475 43.934,95.035 C44.438,95.596 44.681,96.256 44.681,97.022 C44.681,97.788 44.388,98.442 43.797,99.003 C43.205,99.563 42.476,99.844 41.592,99.844 L18.068,99.844 L18.068,99.825 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M78.838,99.825 C77.953,99.825 77.224,99.545 76.633,98.984 C76.041,98.424 75.748,97.764 75.748,97.004 C75.748,96.244 75.997,95.578 76.496,95.017 C76.994,94.457 77.654,94.176 78.483,94.176 L100.325,94.176 C101.564,94.176 102.505,93.859 103.146,93.205 C103.794,92.557 104.118,91.56 104.118,90.203 L104.118,70.011 C104.118,68.248 104.473,66.648 105.177,65.209 C105.88,63.764 106.821,62.637 107.998,61.808 C109.175,60.986 110.551,60.575 112.14,60.575 L112.14,60.93 C110.551,60.93 109.175,60.519 107.998,59.697 C106.821,58.875 105.88,57.741 105.177,56.296 C104.473,54.858 104.118,53.257 104.118,51.494 L104.118,31.39 C104.118,30.038 103.794,29.042 103.146,28.388 C102.498,27.74 101.558,27.416 100.325,27.416 L78.483,27.416 C77.66,27.416 77,27.136 76.496,26.575 C75.997,26.021 75.748,25.355 75.748,24.589 C75.748,23.767 76.041,23.094 76.633,22.564 C77.218,22.035 77.953,21.773 78.838,21.773 L102.361,21.773 C105.245,21.773 107.444,22.54 108.976,24.065 C110.508,25.591 111.268,27.827 111.268,30.767 L111.268,50.778 C111.268,53.189 111.754,54.957 112.719,56.072 C113.69,57.187 115.409,57.779 117.876,57.835 C118.642,57.891 119.258,58.184 119.726,58.713 C120.199,59.242 120.429,59.921 120.429,60.743 C120.429,61.509 120.199,62.182 119.726,62.767 C119.258,63.353 118.636,63.652 117.876,63.652 C115.409,63.708 113.69,64.3 112.719,65.414 C111.747,66.529 111.268,68.323 111.268,70.796 L111.268,90.807 C111.268,92.75 110.931,94.394 110.253,95.752 C109.574,97.11 108.577,98.119 107.257,98.798 C105.93,99.47 104.298,99.807 102.361,99.807 L78.838,99.807 L78.838,99.825 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M39.827,61.511 C43.785,61.511 46.995,58.301 46.995,54.343 C46.995,50.384 43.785,47.175 39.827,47.175 C35.868,47.175 32.659,50.384 32.659,54.343 C32.659,58.301 35.868,61.511 39.827,61.511 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M61.599,115.942 C65.558,115.942 68.767,112.733 68.767,108.774 C68.767,104.816 65.558,101.607 61.599,101.607 C57.641,101.607 54.432,104.816 54.432,108.774 C54.432,112.733 57.641,115.942 61.599,115.942 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M59.872,80.462 C59.724,80.462 59.575,80.462 59.426,80.462 C59.149,80.462 58.872,80.447 58.59,80.431 L58.514,80.431 C57.483,80.375 56.453,80.252 55.453,80.067 L55.089,80.001 C54.945,79.975 54.802,79.944 54.658,79.914 C49.178,78.765 44.097,75.858 40.365,71.736 C39.806,71.121 39.847,70.362 40.072,69.855 C40.318,69.296 40.805,68.952 41.344,68.952 C41.467,68.952 41.595,68.973 41.723,69.004 C47.481,70.598 53.433,72.249 59.313,72.321 L60.431,72.321 C66.312,72.249 72.254,70.603 78.001,69.009 C78.149,68.968 78.278,68.947 78.406,68.947 C78.944,68.947 79.431,69.296 79.677,69.85 C79.903,70.357 79.944,71.116 79.385,71.731 C75.648,75.853 70.572,78.76 65.091,79.908 C64.927,79.944 64.763,79.975 64.599,80.011 L64.297,80.067 C63.292,80.252 62.261,80.37 61.236,80.426 L61.159,80.426 C60.882,80.447 60.605,80.452 60.329,80.457 C60.18,80.457 60.031,80.457 59.882,80.457 L59.872,80.462 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M50.388,15.193 C50.342,15.193 50.25,15.171 50.112,15.125 C49.975,15.033 49.654,14.895 49.149,14.712 L37.044,8.934 C36.54,8.659 36.288,8.201 36.288,7.559 C36.288,6.963 36.471,6.298 36.838,5.564 C37.205,4.831 37.617,4.212 38.076,3.707 C38.58,3.157 39.039,2.882 39.451,2.882 C39.818,2.882 40.116,2.974 40.346,3.157 L51.763,10.998 C52.222,11.273 52.451,11.617 52.451,12.03 C52.451,12.58 52.199,13.245 51.694,14.024 C51.19,14.804 50.754,15.193 50.388,15.193 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M73.439,12.312 C73.393,12.312 73.302,12.289 73.164,12.243 C73.027,12.151 72.706,12.014 72.201,11.83 L60.096,6.053 C59.592,5.778 59.339,5.319 59.339,4.677 C59.339,4.081 59.523,3.416 59.89,2.682 C60.256,1.949 60.669,1.33 61.128,0.825 C61.632,0.275 62.091,-1.13686838e-13 62.503,-1.13686838e-13 C62.87,-1.13686838e-13 63.168,0.092 63.397,0.275 L74.815,8.116 C75.273,8.391 75.503,8.735 75.503,9.148 C75.503,9.698 75.25,10.363 74.746,11.142 C74.242,11.922 73.806,12.312 73.439,12.312 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M52.207,112.646 C52.157,112.676 52.043,112.71 51.864,112.748 C51.657,112.737 51.22,112.794 50.556,112.918 L33.73,114.413 C33.007,114.438 32.439,114.102 32.028,113.406 C31.646,112.76 31.418,111.922 31.346,110.891 C31.273,109.861 31.324,108.925 31.498,108.085 C31.692,107.165 32.013,106.573 32.46,106.308 C32.858,106.073 33.24,105.981 33.606,106.033 L51.009,107.216 C51.683,107.221 52.152,107.447 52.416,107.894 C52.769,108.491 52.921,109.373 52.874,110.541 C52.827,111.71 52.604,112.411 52.207,112.646 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M71.184,112.646 C71.234,112.676 71.348,112.71 71.526,112.748 C71.734,112.737 72.17,112.794 72.835,112.918 L89.661,114.413 C90.384,114.438 90.951,114.102 91.363,113.406 C91.745,112.76 91.972,111.922 92.045,110.891 C92.117,109.861 92.067,108.925 91.893,108.085 C91.699,107.165 91.378,106.573 90.93,106.308 C90.533,106.073 90.151,105.981 89.785,106.033 L72.381,107.216 C71.708,107.221 71.239,107.447 70.975,107.894 C70.622,108.491 70.469,109.373 70.516,110.541 C70.564,111.71 70.786,112.411 71.184,112.646 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path><path d="M79.214,52.635 L76.187,56.552 C74.11,59.223 72.983,59.876 70.965,59.876 C69.837,59.876 68.947,59.341 68.947,58.451 C68.947,57.798 69.244,57.086 69.778,56.315 L74.466,49.727 C75.653,48.065 76.9,47.175 78.977,47.175 L79.511,47.175 C81.588,47.175 82.834,48.065 84.021,49.727 L88.71,56.315 C89.244,57.086 89.541,57.798 89.541,58.451 C89.541,59.341 88.651,59.876 87.523,59.876 C85.386,59.876 84.318,59.223 82.241,56.552 L79.214,52.635 Z" id="Path" fill="currentColor" fill-rule="nonzero"></path></g></svg>');function gn(o){var e=mn();f(o,e)}var fn=Q1('<svg width="121" height="111" viewBox="0 0 121 111" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.068 110.71C16.131 110.71 14.499 110.38 13.173 109.7C11.852 109.03 10.85 108.01 10.177 106.66C9.504 105.31 9.16199 103.66 9.16199 101.71V81.7001C9.16199 79.2301 8.676 77.4401 7.711 76.3201C6.739 75.2101 5.02002 74.6102 2.55402 74.5602C1.78702 74.5602 1.17098 74.2602 0.703979 73.6702C0.229979 73.0902 0 72.4102 0 71.6502C0 70.8302 0.229979 70.1502 0.703979 69.6202C1.17098 69.0902 1.79402 68.8002 2.55402 68.7402C5.02002 68.6802 6.739 68.0902 7.711 66.9802C8.682 65.8602 9.16199 64.0902 9.16199 61.6802V41.6702C9.16199 38.7302 9.92798 36.5002 11.454 34.9702C12.98 33.4502 15.184 32.6802 18.068 32.6802H41.592C42.476 32.6802 43.205 32.9502 43.797 33.4702C44.382 34.0002 44.681 34.6802 44.681 35.4902C44.681 36.2602 44.432 36.9202 43.934 37.4802C43.435 38.0402 42.775 38.3202 41.947 38.3202H20.105C18.865 38.3202 17.925 38.6502 17.283 39.2902C16.636 39.9402 16.312 40.9402 16.312 42.3002V62.4002C16.312 64.1602 15.957 65.7601 15.253 67.2001C14.549 68.6501 13.609 69.7702 12.431 70.6002C11.254 71.4202 9.87798 71.8401 8.28998 71.8401V71.4802C9.87798 71.4802 11.254 71.8901 12.431 72.7101C13.609 73.5401 14.549 74.6702 15.253 76.1102C15.957 77.5502 16.312 79.1502 16.312 80.9202V101.11C16.312 102.47 16.636 103.46 17.283 104.11C17.931 104.76 18.871 105.08 20.105 105.08H41.947C42.769 105.08 43.429 105.36 43.934 105.92C44.438 106.48 44.681 107.14 44.681 107.91C44.681 108.68 44.388 109.33 43.797 109.89C43.205 110.45 42.476 110.73 41.592 110.73H18.068V110.71Z" fill="currentColor"></path><path d="M78.838 110.71C77.953 110.71 77.225 110.43 76.633 109.87C76.041 109.31 75.749 108.65 75.749 107.89C75.749 107.13 75.998 106.46 76.496 105.9C76.994 105.34 77.654 105.06 78.483 105.06H100.325C101.564 105.06 102.505 104.74 103.146 104.09C103.794 103.44 104.118 102.45 104.118 101.09V80.9002C104.118 79.1302 104.473 77.5301 105.177 76.0901C105.881 74.6501 106.821 73.5201 107.998 72.6901C109.175 71.8701 110.552 71.4601 112.14 71.4601V71.8201C110.552 71.8201 109.175 71.4101 107.998 70.5801C106.821 69.7601 105.881 68.6302 105.177 67.1802C104.473 65.7402 104.118 64.1402 104.118 62.3802V42.2802C104.118 40.9202 103.794 39.9302 103.146 39.2702C102.499 38.6302 101.558 38.3002 100.325 38.3002H78.483C77.661 38.3002 77 38.0202 76.496 37.4602C75.998 36.9102 75.749 36.2402 75.749 35.4702C75.749 34.6502 76.041 33.9802 76.633 33.4502C77.218 32.9202 77.953 32.6602 78.838 32.6602H102.362C105.245 32.6602 107.444 33.4302 108.976 34.9502C110.508 36.4802 111.268 38.7102 111.268 41.6502V61.6602C111.268 64.0702 111.754 65.8401 112.719 66.9601C113.691 68.0701 115.41 68.6602 117.876 68.7202C118.642 68.7802 119.259 69.0702 119.726 69.6002C120.199 70.1302 120.43 70.8102 120.43 71.6302C120.43 72.4002 120.199 73.0702 119.726 73.6502C119.259 74.2402 118.636 74.5402 117.876 74.5402C115.41 74.5902 113.691 75.1902 112.719 76.3002C111.747 77.4202 111.268 79.2102 111.268 81.6802V101.69C111.268 103.64 110.932 105.28 110.253 106.64C109.574 108 108.577 109 107.257 109.68C105.93 110.36 104.299 110.69 102.362 110.69H78.838V110.71Z" fill="currentColor"></path><path d="M39.827 76.03C43.786 76.03 46.995 72.82 46.995 68.86C46.995 64.9 43.786 61.6899 39.827 61.6899C35.868 61.6899 32.659 64.9 32.659 68.86C32.659 72.82 35.868 76.03 39.827 76.03Z" fill="currentColor"></path><path d="M28.903 57.47L28.908 57.46H28.913C29.272 57.09 29.484 56.58 29.484 55.91C29.484 55.44 29.335 54.98 29.096 54.63C28.866 54.29 28.492 53.98 28.016 53.98C27.811 53.98 27.62 54.02 27.465 54.08C27.332 54.13 27.184 54.2 27.074 54.3C23.331 57.37 21.319 61.57 21.319 67.13C21.319 72.7 23.331 76.89 27.074 79.96C27.184 80.06 27.332 80.1399 27.465 80.1899C27.62 80.2399 27.811 80.29 28.016 80.29C28.492 80.29 28.866 79.97 29.096 79.63C29.335 79.28 29.484 78.83 29.484 78.36C29.484 77.68 29.272 77.1701 28.913 76.8101L28.908 76.8H28.903C26.193 74.21 24.895 71.29 24.895 67.13C24.895 62.98 26.193 60.06 28.903 57.47Z" fill="currentColor" stroke="currentColor" stroke-width="0.907194"></path><path d="M50.931 76.8H50.925L50.92 76.8101C50.562 77.1701 50.349 77.68 50.349 78.36C50.349 78.83 50.498 79.28 50.737 79.63C50.967 79.97 51.342 80.29 51.818 80.29C52.022 80.29 52.213 80.2499 52.368 80.1899C52.501 80.1399 52.649 80.06 52.759 79.96C56.502 76.89 58.514 72.7 58.514 67.13C58.514 61.57 56.502 57.37 52.759 54.3C52.649 54.2 52.501 54.13 52.368 54.08C52.213 54.02 52.022 53.98 51.818 53.98C51.342 53.98 50.967 54.29 50.737 54.63C50.498 54.98 50.349 55.44 50.349 55.91C50.349 56.58 50.562 57.09 50.92 57.46H50.925L50.931 57.47C53.64 60.06 54.938 62.98 54.938 67.13C54.938 71.29 53.64 74.21 50.931 76.8Z" fill="currentColor" stroke="currentColor" stroke-width="0.907194"></path><path d="M68.819 57.47L68.825 57.46H68.83C69.188 57.09 69.4 56.58 69.4 55.91C69.4 55.44 69.251 54.98 69.013 54.63C68.782 54.29 68.408 53.98 67.932 53.98C67.728 53.98 67.537 54.02 67.382 54.08C67.248 54.13 67.1 54.2 66.991 54.3C63.248 57.37 61.236 61.57 61.236 67.13C61.236 72.7 63.248 76.89 66.991 79.96C67.1 80.06 67.248 80.1399 67.382 80.1899C67.537 80.2399 67.728 80.29 67.932 80.29C68.408 80.29 68.782 79.97 69.013 79.63C69.251 79.28 69.4 78.83 69.4 78.36C69.4 77.68 69.188 77.1701 68.83 76.8101L68.825 76.8H68.819C66.109 74.21 64.812 71.29 64.812 67.13C64.812 62.98 66.109 60.06 68.819 57.47Z" fill="currentColor" stroke="currentColor" stroke-width="0.907194"></path><path d="M90.847 76.8H90.842L90.836 76.8101C90.478 77.1701 90.266 77.68 90.266 78.36C90.266 78.83 90.415 79.28 90.654 79.63C90.884 79.97 91.258 80.29 91.734 80.29C91.938 80.29 92.129 80.2499 92.284 80.1899C92.418 80.1399 92.566 80.06 92.676 79.96C96.418 76.89 98.431 72.7 98.431 67.13C98.431 61.57 96.418 57.37 92.676 54.3C92.566 54.2 92.418 54.13 92.284 54.08C92.129 54.02 91.938 53.98 91.734 53.98C91.258 53.98 90.884 54.29 90.654 54.63C90.415 54.98 90.266 55.44 90.266 55.91C90.266 56.58 90.478 57.09 90.836 57.46H90.842L90.847 57.47C93.557 60.06 94.854 62.98 94.854 67.13C94.854 71.29 93.557 74.21 90.847 76.8Z" fill="currentColor" stroke="currentColor" stroke-width="0.907194"></path><path d="M44.445 84.1503L44.44 84.1403C43.96 83.5903 43.268 83.2402 42.287 83.2402C41.627 83.2402 40.986 83.4802 40.507 83.8602C40.03 84.2402 39.69 84.7802 39.69 85.3702C39.69 85.6602 39.743 85.9403 39.815 86.1703C39.883 86.3903 39.976 86.5902 40.076 86.7002C44.904 93.5802 51.5 97.3003 60.328 97.3003C69.157 97.3003 75.753 93.5802 80.581 86.7002C80.681 86.5902 80.773 86.3903 80.842 86.1703C80.914 85.9403 80.967 85.6602 80.967 85.3702C80.967 84.7802 80.626 84.2402 80.15 83.8602C79.671 83.4802 79.029 83.2402 78.37 83.2402C77.389 83.2402 76.697 83.5903 76.216 84.1403L76.212 84.1503C74.075 86.7503 71.802 88.6702 69.219 89.9402C66.637 91.2102 63.734 91.8402 60.328 91.8402C56.923 91.8402 54.02 91.2102 51.438 89.9402C48.855 88.6702 46.582 86.7503 44.445 84.1503Z" fill="currentColor" stroke="currentColor" stroke-width="0.453597"></path><path d="M54.456 28.9769L55.988 10.851C56 10.336 56.719 10.095 58.143 10.129C58.748 10.143 59.264 10.2259 59.693 10.3759C60.078 10.5259 60.268 10.718 60.262 10.952C60.338 13.202 60.416 15.4059 60.494 17.5619C60.572 19.7419 60.655 21.6999 60.743 23.4349C60.788 25.1929 60.841 26.587 60.903 27.619C60.922 28.65 60.931 29.166 60.931 29.166C60.923 29.517 60.593 29.7549 59.942 29.8799C59.248 30.0269 58.49 30.091 57.67 30.072C56.763 30.05 56.01 29.9509 55.409 29.7719C54.765 29.6169 54.447 29.3509 54.456 28.9769ZM55.486 4.69092L55.557 0.852965C55.564 0.548965 55.828 0.343951 56.349 0.238951C56.871 0.110951 57.52 0.0559499 58.297 0.0749499C59.117 0.0939499 59.785 0.179945 60.3 0.332945C60.815 0.462945 61.069 0.678946 61.062 0.983947L60.991 4.82092C60.983 5.14892 60.719 5.36491 60.198 5.46991C59.677 5.57491 59.028 5.61791 58.251 5.59991C57.431 5.57991 56.763 5.50591 56.248 5.37591C55.732 5.24691 55.478 5.01792 55.486 4.69092Z" fill="currentColor"></path><path d="M80.121 67.15L77.095 71.0699C75.017 73.7399 73.89 74.39 71.872 74.39C70.744 74.39 69.854 73.86 69.854 72.97C69.854 72.31 70.151 71.6 70.685 70.83L75.373 64.24C76.56 62.58 77.807 61.6899 79.884 61.6899H80.418C82.495 61.6899 83.742 62.58 84.929 64.24L89.617 70.83C90.151 71.6 90.448 72.31 90.448 72.97C90.448 73.86 89.558 74.39 88.43 74.39C86.294 74.39 85.225 73.7399 83.148 71.0699L80.121 67.15Z" fill="currentColor"></path></svg>');function vn(o){var e=fn();f(o,e)}function Qe(o){switch(o){case te.DEFAULT:return Oe;case te.PROTOTYPER:return gn;case te.BRAINSTORM:return Cn;case te.REVIEWER:return vn;default:return Oe}}var _n=H('<span slot="leftIcon" class="c-context-menu-item__icon svelte-bg3ox5"><!></span>'),Ln=H('<span slot="text"> </span>'),bn=H('<span class="c-mentionable-group-label"><span class="c-mentionable-group-label__text right"> </span></span>');function Mn(o,e){u1(e,!1);let t=$(e,"item",8),n=$(e,"onSelect",8),i=$(e,"highlight",24,()=>{}),s=V1();I1(()=>(y(t()),z1),()=>{t().type==="breadcrumb-back"?T1(s,x1.BreadcrumbBackItem):t().type==="breadcrumb"&&z1(t())?T1(s,x1.BreadcrumbItem):t().type!=="item"||z1(t())||T1(s,x1.Item)}),W1(),A1();var r=S(),a=b(r);Ce(a,()=>k(s),(h,m)=>{m(h,{get highlight(){return i()},get onSelect(){return n()},children:(g,l)=>{var u=S(),c=b(u),C=d=>{h1(d,{get filepath(){return y(t()),N(()=>t().file.pathName)},leftIcon:_=>{i1(_,{name:"file-text"})},$$slots:{leftIcon:!0}})},L=d=>{var p=S(),_=b(p),v=w=>{h1(w,{get filepath(){return y(t()),N(()=>t().folder.pathName)},leftIcon:Z=>{i1(Z,{name:"folder-open"})},$$slots:{leftIcon:!0}})},D=w=>{var x=S(),Z=b(x),O=E=>{h1(E,{get filepath(){return y(t()),N(()=>t().externalSource.name)},leftIcon:W=>{i1(W,{name:"book-open"})},$$slots:{leftIcon:!0}})},M=E=>{var I=S(),W=b(I),j=A=>{h1(A,{get filepath(){return y(t()),N(()=>t().sourceFolder.folderRoot)},leftIcon:F=>{i1(F,{name:"folder-root"})},$$slots:{leftIcon:!0}})},R=A=>{var K=S(),F=b(K),e1=q=>{h1(q,{get filepath(){return y(t()),N(()=>t().selection.pathName)},leftIcon:n1=>{i1(n1,{name:"text-cursor"})},$$slots:{leftIcon:!0}})},t1=q=>{var V=S(),n1=b(V),o1=z=>{h1(z,{get filepath(){return y(t()),N(()=>t().recentFile.pathName)},leftIcon:d1=>{i1(d1,{name:"file-text"})},$$slots:{leftIcon:!0}})},G=z=>{var Y=S(),d1=b(Y),r1=T=>{h1(T,{get filepath(){return y(t()),N(()=>t().rule.path)},leftIcon:a1=>{i1(a1,{name:"list-todo"})},$$slots:{leftIcon:!0}})},v1=T=>{var U=S(),a1=b(U),N1=D1=>{var Y1=E1();c1(()=>m1(Y1,(y(t()),N(()=>t().label)))),f(D1,Y1)},G1=D1=>{var Y1=S(),Je=b(Y1),je=H1=>{At(H1,{$$slots:{leftIcon:(O1,ae)=>{var $1=_n(),S1=B($1);Ce(S1,()=>Qe(t().personality.type),(ee,le)=>{le(ee,{})}),f(O1,$1)},text:(O1,ae)=>{var $1=Ln(),S1=B($1);c1(()=>m1(S1,(y(t()),N(()=>t().label)))),f(O1,$1)}}})},et=H1=>{var O1=S(),ae=b(O1),$1=S1=>{var ee=bn(),le=B(ee),tt=B(le);c1(()=>m1(tt,(y(t()),N(()=>t().label)))),f(S1,ee)};P(ae,S1=>{y(me),y(t()),y(Pe),N(()=>me(t())||Pe(t()))&&S1($1)},!0),f(H1,O1)};P(Je,H1=>{y(Me),y(t()),N(()=>Me(t()))?H1(je):H1(et,!1)},!0),f(D1,Y1)};P(a1,D1=>{y(z1),y(t()),N(()=>z1(t()))?D1(N1):D1(G1,!1)},!0),f(T,U)};P(d1,T=>{y(be),y(t()),N(()=>be(t()))?T(r1):T(v1,!1)},!0),f(z,Y)};P(n1,z=>{y(Te),y(t()),N(()=>Te(t()))?z(o1):z(G,!1)},!0),f(q,V)};P(F,q=>{y(Le),y(t()),N(()=>Le(t()))?q(e1):q(t1,!1)},!0),f(A,K)};P(W,A=>{y(_e),y(t()),N(()=>_e(t()))?A(j):A(R,!1)},!0),f(E,I)};P(Z,E=>{y(ve),y(t()),N(()=>ve(t()))?E(O):E(M,!1)},!0),f(w,x)};P(_,w=>{y(fe),y(t()),N(()=>fe(t()))?w(v):w(D,!1)},!0),f(d,p)};P(c,d=>{y(ge),y(t()),N(()=>ge(t()))?d(C):d(L,!1)}),f(g,u)},$$slots:{default:!0}})}),f(o,r),p1()}const yn=(o,e,t)=>{e.extensionClient.openGuidelines(t.sourceFolder.folderRoot)};var wn=()=>{},En=H('<div><!> <span class="c-guidelines-filespan__text svelte-gu2i0f" role="button" tabindex="0"> </span></div>');st(["click","keydown"]);var xn=Q1('<svg width="102" height="9" viewBox="0 0 102 9" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="51" cy="4.5" rx="51" ry="4.5" fill="currentColor"></ellipse></svg>'),In=H('<div class="c-augment-logo-animated__shadow svelte-ft7f11"><!></div>'),Tn=H('<div><div class="c-augment-logo-animated__icon svelte-ft7f11"><!></div> <!></div>');function Pn(o,e){let t=$(e,"heightPx",3,160),n=$(e,"floatHeight",3,20),i=$(e,"animationDuration",3,3),s=$(e,"showShadow",3,!0),r=$(e,"animated",3,!0),a=B1(()=>Math.round(.875*t())),h=B1(()=>`
    --augment-logo-height: ${t()}px;
    --augment-logo-icon-size: ${k(a)}px;
    --augment-logo-float-height: ${n()}px;
    --animation-duration: ${i()}s;
  `);var m=Tn();let g;var l=B(m),u=B(l),c=p=>{var _=S(),v=b(_);qe(v,()=>e.children),f(p,_)},C=p=>{Nt(p)};P(u,p=>{e.children?p(c):p(C,!1)});var L=J(l,2),d=p=>{var _=In();(function(v){var D=xn();f(v,D)})(B(_)),f(p,_)};P(L,p=>{s()&&p(d)}),c1(p=>{g=ye(m,1,"c-augment-logo-animated svelte-ft7f11",null,g,p),lt(m,k(h))},[()=>({"c-augment-logo-animated--animated":r()})]),f(o,m)}var $n=H("<!> <!>",1),Sn=H("<!> <!>",1),kn=H("<!> <!>",1),An=H('<div class="l-mention-hover-contents__source-folder svelte-1x76h3w"><div class="l-source-folder-name svelte-1x76h3w"><!> <!></div> <!></div>'),Nn=H("<!> <!>",1),Dn=H('<div class="c-mention-hover-contents__personality-icon svelte-1x76h3w"><!></div> <div class="c-mention-hover-contents__personality svelte-1x76h3w"><!> <!></div>',1),Hn=H('<div class="c-mention-hover-contents__task svelte-1x76h3w"><!> <!></div>'),On=H("<!> <!>",1),Rn=H('<div class="c-mention-hover-contents svelte-1x76h3w"><!></div>');function Fn(o,e){u1(e,!0);var t=Rn(),n=B(t),i=r=>{var a=$n(),h=b(a);i1(h,{name:"file"});var m=J(h,2);h1(m,{get filepath(){return e.option.file.pathName}}),f(r,a)},s=r=>{var a=S(),h=b(a),m=l=>{var u=Sn(),c=b(u);i1(c,{name:"folder-open"});var C=J(c,2);h1(C,{get filepath(){return e.option.folder.pathName}}),f(l,u)},g=l=>{var u=S(),c=b(u),C=d=>{var p=kn(),_=b(p);i1(_,{name:"book"});var v=J(_,2);h1(v,{get filepath(){return e.option.externalSource.name}}),f(d,p)},L=d=>{var p=S(),_=b(p),v=w=>{var x=An(),Z=B(x),O=B(Z);i1(O,{name:"folder-tree"});var M=J(O,2);h1(M,{class:"c-source-folder-item",get filepath(){return e.option.sourceFolder.folderRoot}}),function(E,I){u1(I,!0);const W=g1("chatModel");let j=B1(()=>I.sourceFolder.guidelinesOverLimit?`Workspace guidelines exceeded ${I.sourceFolder.guidelinesLengthLimit} character limit`:"Edit workspace guidelines");q1(E,{size:1,children:(R,A)=>{var K=En(),F=B(K),e1=n1=>{i1(n1,{name:"square-pen"})},t1=n1=>{i1(n1,{name:"circle-alert"})};P(F,n1=>{I.sourceFolder.guidelinesOverLimit?n1(t1,!1):n1(e1)});var q=J(F,2);q.__click=[yn,W,I],q.__keydown=[wn];var V=B(q);c1(()=>{ye(K,1,at(["c-guidelines-filespan",I.class]),"svelte-gu2i0f"),m1(V,k(j))}),f(R,K)},$$slots:{default:!0}}),p1()}(J(Z,2),{class:"guidelines-filespan",get sourceFolder(){return e.option.sourceFolder}}),f(w,x)},D=w=>{var x=S(),Z=b(x),O=E=>{var I=S(),W=b(I),j=R=>{var A=S(),K=b(A),F=e1=>{q1(e1,{size:1,children:(t1,q)=>{var V=E1();c1(()=>m1(V,`Guidelines exceeded length limit of ${e.option.userGuidelines.lengthLimit} characters`)),f(t1,V)},$$slots:{default:!0}})};P(K,e1=>{e.option.userGuidelines.overLimit&&e1(F)}),f(R,A)};P(W,R=>{e.option.userGuidelines.overLimit&&R(j)}),f(E,I)},M=E=>{var I=S(),W=b(I),j=A=>{var K=Nn(),F=b(K);i1(F,{name:"text-cursor"});var e1=J(F,2);{let t1=B1(()=>`${e.option.selection.pathName}:L${e.option.selection.fullRange?.startLineNumber}-${e.option.selection.fullRange?.endLineNumber}`);h1(e1,{get filepath(){return k(t1)}})}f(A,K)},R=A=>{var K=S(),F=b(K),e1=q=>{var V=Dn(),n1=b(V);Pn(B(n1),{heightPx:32,floatHeight:4,animationDuration:2.25,children:(Y,d1)=>{const r1=B1(()=>Qe(e.option.personality.type));var v1=S(),T=b(v1);Ce(T,()=>k(r1),(U,a1)=>{a1(U,{})}),f(Y,v1)},$$slots:{default:!0}});var o1=J(n1,2),G=B(o1);q1(G,{size:2,weight:"medium",children:(Y,d1)=>{var r1=E1();c1(()=>m1(r1,e.option.label)),f(Y,r1)},$$slots:{default:!0}});var z=J(G,2);q1(z,{size:1,children:(Y,d1)=>{var r1=E1();c1(()=>m1(r1,e.option.personality.description)),f(Y,r1)},$$slots:{default:!0}}),f(q,V)},t1=q=>{var V=S(),n1=b(V),o1=z=>{var Y=Hn(),d1=B(Y);q1(d1,{size:2,weight:"bold",children:(T,U)=>{var a1=E1();c1(()=>m1(a1,e.option.task.taskTree.name)),f(T,a1)},$$slots:{default:!0}});var r1=J(d1,2),v1=T=>{q1(T,{size:1,children:(U,a1)=>{var N1=E1();c1(G1=>m1(N1,G1),[()=>e.option.task.taskTree.description.trim().replace(/\s+/g," ")]),f(U,N1)},$$slots:{default:!0}})};P(r1,T=>{e.option.task.taskTree.description&&e.option.task.taskTree.description.trim()&&T(v1)}),f(z,Y)},G=z=>{var Y=S(),d1=b(Y),r1=T=>{var U=On(),a1=b(U);i1(a1,{name:"ruler"});var N1=J(a1,2);{let G1=B1(()=>`${Pt}/${$t}/${e.option.rule.path}`);h1(N1,{get filepath(){return k(G1)}})}f(T,U)},v1=T=>{var U=E1();c1(()=>m1(U,e.option.label)),f(T,U)};P(d1,T=>{e.option&&be(e.option)?T(r1):T(v1,!1)},!0),f(z,Y)};P(n1,z=>{e.option&&Tt(e.option)?z(o1):z(G,!1)},!0),f(q,V)};P(F,q=>{e.option&&Me(e.option)?q(e1):q(t1,!1)},!0),f(A,K)};P(W,A=>{e.option&&Le(e.option)?A(j):A(R,!1)},!0),f(E,I)};P(Z,E=>{e.option&&It(e.option)?E(O):E(M,!1)},!0),f(w,x)};P(_,w=>{e.option&&_e(e.option)?w(v):w(D,!1)},!0),f(d,p)};P(c,d=>{e.option&&ve(e.option)?d(C):d(L,!1)},!0),f(l,u)};P(h,l=>{e.option&&fe(e.option)?l(m):l(g,!1)},!0),f(r,a)};P(n,r=>{e.option&&ge(e.option)?r(i):r(s,!1)}),f(o,t),p1()}var qn=H("<!> <!>",1);function o9(o,e){u1(e,!1);const t=()=>L1(g,"$displayItems",n),[n,i]=K1();let s=$(e,"requestEditorFocus",8),r=$(e,"onMentionItemsUpdated",24,()=>{});const a=v=>c(v),h=g1("chatModel");if(!h)throw new Error("ChatModel not found in context");const m=new re(h,c),g=m.displayItems,l=()=>t();let u=V1();function c(v){return!!k(u)&&(k(u).insertMention(v),m.closeDropdown(),!0)}const C=St();function L(v){v===void 0?m.closeDropdown():(m.openDropdown(),m.userQuery.set(v),C(kt(v)))}function d(v){const D=m.selectMentionable(v);return s()(),D}var p={insertMentionNode:a,getDisplayItems:l};A1(),pe(ue.Root(o,{triggerCharacter:"@",get onMentionItemsUpdated(){return r()},children:(v,D)=>{var w=qn(),x=b(w);ue.Menu.Root(x,{get mentionables(){return t()},onQueryUpdate:L,onSelectMentionable:d,children:dt,$$slots:{default:(O,M)=>{const E=X1(()=>M.activeItem);var I=S(),W=b(I);ut(W,1,t,pt,(j,R)=>{{let A=X1(()=>k(R)===k(E));Mn(j,{get item(){return k(R)},get highlight(){return k(A)},onSelect:()=>d(k(R))})}}),f(O,I)}}});var Z=J(x,2);ue.ChipTooltip(Z,{$$slots:{mentionable:(O,M)=>{const E=X1(()=>M.mentionable);Fn(O,{slot:"mentionable",get option(){return k(E)}})}}}),f(v,w)},$$slots:{default:!0},$$legacy:!0}),v=>T1(u,v),()=>k(u)),s1(e,"insertMentionNode",a),s1(e,"getDisplayItems",l);var _=p1(p);return i(),_}const zn=we.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,considerAnyAsEmpty:!1,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new j1({key:new P1("placeholder"),props:{decorations:({doc:o,selection:e})=>{var t;const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,s=[];if(!n)return null;const{firstChild:r}=o.content,a=r&&r.type.isLeaf,h=r&&r.isAtom,m=!!this.options.considerAnyAsEmpty||r&&r.type.name===((t=o.type.contentMatch.defaultType)===null||t===void 0?void 0:t.name),g=o.content.childCount<=1&&r&&m&&r.nodeSize<=2&&(!a||!h);return o.descendants((l,u)=>{const c=i>=u&&i<=u+l.nodeSize,C=!l.isLeaf&&!l.childCount;if((c||!this.options.showOnlyCurrent)&&C){const L=[this.options.emptyNodeClass];g&&L.push(this.options.emptyEditorClass);const d=Ue.node(u,u+l.nodeSize,{class:L.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:u,hasAnchor:c}):this.options.placeholder});s.push(d)}return this.options.includeChildren}),Be.create(o,s)}}})]}});class Bn{_placeholderExtension;_editor;constructor(e){const t=this._onUpdate.bind(this),n=this._onDestroy.bind(this);this._placeholderExtension=zn.extend({placeholder:e,onUpdate(){this.parent?.(),t(this.editor)},onDestroy(){this.parent?.(),n()}})}setPlaceholder=e=>{this._placeholderExtension.options.placeholder=e,this._editor?.view.updateState(this._editor.view.state)};_onUpdate=e=>{this._editor=e};_onDestroy=()=>{this._editor=void 0};get tipTapExtension(){return this._placeholderExtension}}function i9(o,e){u1(e,!0);let t=$(e,"placeholder",3,"Type something...");const n=new Bn(t()),i=g1(C1.CONTEXT_KEY);se(i.pluginManager.registerPlugin(n)),ze(()=>{n.setPlaceholder(t())}),p1()}class Z1{constructor(e){this._options=e,this.updateOptions(this._options);const t=this._handleKeyDown,n=Z1._getNextPluginId(),i=new P1(n);this._tipTapExtension=we.create({name:n,addProseMirrorPlugins:()=>[new j1({key:i,props:{handleKeyDown:t}})]})}static _sequenceId=0;static KEYBINDINGS_PLUGIN_KEY_BASE="augment-keybindings-plugin-{}";static _getSequenceId=()=>Z1._sequenceId++;static _getNextPluginId=()=>{const e=Z1._getSequenceId().toString();return Z1.KEYBINDINGS_PLUGIN_KEY_BASE.replace("{}",e)};_tipTapExtension;_keydownHandler=()=>!1;updateOptions=e=>{this._options={...this._options,...e},this._keydownHandler=_t(this._options.shortcuts)};get tipTapExtension(){return this._tipTapExtension}_handleKeyDown=(e,t)=>this._keydownHandler(e,t)}function r9(o,e){u1(e,!0);let t=$(e,"shortcuts",19,()=>({}));const n=g1(C1.CONTEXT_KEY),i=new Z1({shortcuts:t()}),s=n.pluginManager.registerPlugin(i);se(s),ze(()=>{i.updateOptions({shortcuts:t()})}),p1()}export{o9 as A,re as C,r9 as K,i9 as P,n9 as R,C1 as a,Mn as b,Fn as c,jn as d,e9 as e,Pn as f,t9 as g};
//# sourceMappingURL=Keybindings-CIVfIIto.js.map
