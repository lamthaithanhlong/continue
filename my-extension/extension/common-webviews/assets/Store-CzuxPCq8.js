import{W as I,ab as pe,bc as Dc,H as Fc,br as $c,bL as Md,bs as sa,bM as Id,bN as Rd,bt as Uc,bO as jc,bP as Pd,aG as Wn,aj as fi,l as Od,n as te,w as qc,aR as aa,t as fe,u as Y,ac as Yr,a1 as rt,a2 as Lt,a3 as yn,v as qe,M as Ye,an as Bc,x as ue,B as we,E as He,K as zt,a6 as Be,F as ge,a4 as nt,a7 as Nd,G as it,m as ot,L as vn,C as se,o as Hc,ag as Se,ah as Ht,A as xe,I as _n,y as Vt,J as he,T as Gc,z as Qe,D as zn,bQ as gi,ai as zc,Q as mi,bd as yi,P as Vc,a9 as Zc,Z as Ua,_ as ja,Y as Wc,al as Ld,R as Dd,$ as Kc,N as Fd,bR as $d}from"./TextAugment-CCgoKCVh.js";import{d as ia,b as mt,B as Ud,I as jd}from"./IconButtonAugment-CsdawHyK.js";import{c as qd,d as Kn,e as Bd,C as Hd,R as Gd,b as nn,a as vr,f as vi}from"./CardAugment-Bqwu5ahx.js";import{n as Yc,g as _i,F as bi}from"./focusTrapStack-9JCo5vKi.js";import{C as zd}from"./Chevron-Cl2ZClCm.js";import{t as Si,d as Vd,B as Zd,b as Wd}from"./BaseTextInput-CKEk7GUD.js";import{s as Ft,d as Kd}from"./index-B4NDmpYR.js";import{E as Ne,S as st,R as yt,P as Ge,C as Yd,M as Qd,l as Jd}from"./message-broker-CppRv-qk.js";import{g as qa,e as ir}from"./index-BuNY6jLF.js";/* empty css                                                */try{tn=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(pi=new tn.Error().stack)&&(tn._sentryDebugIds=tn._sentryDebugIds||{},tn._sentryDebugIds[pi]="f88608c7-28a4-4f9b-b294-c9ba83f3f2b0",tn._sentryDebugIdIdentifier="sentry-dbid-f88608c7-28a4-4f9b-b294-c9ba83f3f2b0")}catch{}var tn,pi;async function ki(e){const t=new Uint8Array(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")}const Xd={EXPERIMENT_VIEWED:"experiment_viewed",THREAD_CREATION_ATTEMPTED:"thread_creation_attempted",SEND_ACTION_TRIGGERED:"send_action_triggered",CANCEL_ACTION_TRIGGERED:"cancel_action_triggered",RESEND_ACTION_TRIGGERED:"resend_action_triggered",AGENT_EXECUTION_MODE_TOGGLED:"agent_execution_mode_toggled",MESSAGE_SEND_ERROR_DISPLAYED:"message_send_error_displayed",MESSAGE_SEND_RETRY_CLICKED:"message_send_retry_clicked",MESSAGE_SEND_TIMING:"message_sent_timing",VSCODE_EXTENSION_STARTUP:"vscode_extension_started_up",CLI_STARTUP_COMPLETED:"cli_startup_completed",CLI_AGENTLOOP_COMPLETED:"agentloop_completed",CLI_MESSAGE_SEND_ERROR_DISPLAYED:"message_send_error_displayed",PROMPT_ENHANCER_COMPLETED:"prompt_enhancer_called",SLASH_COMMAND_USED:"slash_command_used",LOGIN_STARTED:"login_started",LOGIN_SUCCESS:"login_success",LOGIN_FAILED:"login_failed",LOGOUT_SUCCESS:"logout_success",CLI_COMMAND_USED:"cli_command_used",UPGRADE_SUCCESS:"upgrade_success",UPGRADE_FAILED:"upgrade_failed",TASK_MANAGER_OPENED:"task_manager_opened",TASKS_UPDATED:"tasks_updated",INDEXING_CONFIRMATION:"indexing_confirmation",INDEXING_CONFIRMATION_DISPLAYED:"indexing_confirmation_displayed",ONBOARDING_STARTED:"onboarding_started",ONBOARDING_EXITED:"onboarding_exited",ONBOARDING_COMPLETED:"onboarding_completed",ONBOARDING_SKIPPED:"onboarding_skipped",ASK_MODE_ACTIVATED:"ask_mode_activated",ASK_MODE_SUBMITTED:"ask_mode_submitted",QUEUE_MODE_ACTIVATED:"queue_mode_activated",QUEUE_MODE_EXITED:"queue_mode_exited",VIM_MODE_ACTIVATED:"vim_mode_activated",VIM_MODE_DEACTIVATED:"vim_mode_deactivated",NOTIFICATION_DISPLAYED:"notification_displayed",NOTIFICATION_DISMISSED:"notification_dismissed",TOOL_CONNECT_BUTTON_CLICKED:"tool_connect_button_clicked",TOOL_CONNECTED:"tool_connected",TURN_SUMMARY_BUTTON_CLICKED:"turn_summary_button_clicked",BULK_DELETE_BANNER_SHOWN:"bulk_delete_banner_shown",BULK_DELETE_BANNER_CLICKED:"bulk_delete_banner_clicked",BULK_DELETE_CONFIRMED:"bulk_delete_confirmed",BULK_DELETE_BANNER_DISMISSED:"bulk_delete_banner_dismissed",MODEL_PICKER_OPENED:"model_picker_opened",EXTENSION_ACTIVATED:"extension_activated",SIGNIN_SCREEN_DISPLAYED:"signin_screen_displayed",SIGNIN_APP_DISPLAYED:"signin_app_displayed",CHAT_PANEL_OPENED:"chat_panel_opened",CHAT_APP_DISPLAYED:"chat_app_displayed",INDEXING_STARTED:"indexing_started",SETTINGS_PAGE_OPENED:"settings_page_opened",SETTINGS_TAB_VIEWED:"settings_tab_viewed",ACCOUNT_MANAGE_ACCOUNT_CLICKED:"account_manage_account_clicked",CREDIT_MANAGE_PLAN_CLICKED:"credit_manage_plan_clicked",ACCOUNT_SIGN_OUT_CLICKED:"account_sign_out_clicked",CREDIT_BANNER_CLICKED:"credit_banner_clicked",QUEUE_MESSAGE_ADDED:"queue_message_added",QUEUE_MESSAGE_REMOVED:"queue_message_removed",QUEUE_MESSAGE_EDITED:"queue_message_edited",QUEUE_MESSAGE_EXECUTED:"queue_message_executed",QUEUE_MESSAGE_FAILED:"queue_message_failed",QUEUE_MESSAGE_REORDERED:"queue_message_reordered",QUEUE_PAUSED:"queue_paused",QUEUE_RESUMED:"queue_resumed",QUEUE_CLEARED:"queue_cleared",QUEUE_FULL_WARNING:"queue_full_warning",QUEUE_KEYBOARD_SHORTCUT_USED:"queue_keyboard_shortcut_used"};function wi(e){return e.replace(/^data:.*?;base64,/,"")}async function ps(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=s=>t(s.target?.result),r.onerror=n,r.readAsDataURL(e)})}async function fs(e){return e.length<1e4?Promise.resolve(function(t){const n=atob(t);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}(e)):new Promise((t,n)=>{const r=new Worker(URL.createObjectURL(new Blob([`
            self.onmessage = function(e) {
              try {
                const base64 = e.data;
                const binString = atob(base64);
                const bytes = new Uint8Array(binString.length);
                for (let i = 0; i < binString.length; i++) {
                  bytes[i] = binString.charCodeAt(i);
                }
                self.postMessage(bytes, [bytes.buffer]);
              } catch (error) {
                self.postMessage({ error: error.message });
              }
            };
            `],{type:"application/javascript"})));r.onmessage=function(s){s.data.error?n(new Error(s.data.error)):t(s.data),r.terminate()},r.onerror=function(s){n(s.error),r.terminate()},r.postMessage(e)})}var ce=(e=>(e.getEditListRequest="agent-get-edit-list-request",e.getEditListResponse="agent-get-edit-list-response",e.getEditChangesByRequestIdRequest="agent-get-edit-changes-by-request-id-request",e.getEditChangesByRequestIdResponse="agent-get-edit-changes-by-request-id-response",e.setCurrentConversation="agent-set-current-conversation",e.migrateConversationId="agent-migrate-conversation-id",e.revertToTimestamp="revert-to-timestamp",e.chatAgentEditAcceptAll="chat-agent-edit-accept-all",e.reportAgentSessionEvent="report-agent-session-event",e.reportAgentRequestEvent="report-agent-request-event",e.chatReviewAgentFile="chat-review-agent-file",e.getAgentEditContentsByRequestId="get-agent-edit-contents-by-request-id",e.getAgentEditContentsByRequestIdResponse="get-agent-edit-contents-by-request-id-response",e.checkHasEverUsedAgent="check-has-ever-used-agent",e.checkHasEverUsedAgentResponse="check-has-ever-used-agent-response",e.setHasEverUsedAgent="set-has-ever-used-agent",e.checkHasEverUsedRemoteAgent="check-has-ever-used-remote-agent",e.checkHasEverUsedRemoteAgentResponse="check-has-ever-used-remote-agent-response",e.setHasEverUsedRemoteAgent="set-has-ever-used-remote-agent",e.getSoundSettings="get-sound-settings",e.getSoundSettingsResponse="get-sound-settings-response",e.updateSoundSettings="update-sound-settings",e.soundSettingsBroadcast="sound-settings-broadcast",e.getSwarmModeSettings="get-swarm-mode-settings",e.getSwarmModeSettingsResponse="get-swarm-mode-settings-response",e.updateSwarmModeSettings="update-swarm-mode-settings",e.swarmModeSettingsBroadcast="swarm-mode-settings-broadcast",e.getChatModeRequest="get-chat-mode-request",e.getChatModeResponse="get-chat-mode-response",e.chatAgentEditListHasUpdates="chat-agent-edit-list-has-updates",e))(ce||{}),oa=(e=>(e.trackAnalyticsEvent="track-analytics-event",e.trackExperimentViewedEvent="track-experiment-viewed-event",e))(oa||{}),_r=(e=>(e.checkToolCallSafeRequest="check-tool-call-safe-request",e.checkToolCallSafeResponse="check-tool-call-safe-response",e.closeAllToolProcesses="close-all-tool-processes",e.getToolIdentifierRequest="get-tool-identifier-request",e.getToolIdentifierResponse="get-tool-identifier-response",e))(_r||{}),br=(e=>(e.loadConversationExchangesRequest="load-conversation-exchanges-request",e.loadConversationExchangesResponse="load-conversation-exchanges-response",e.loadExchangesByUuidsRequest="load-exchanges-by-uuids-request",e.loadExchangesByUuidsResponse="load-exchanges-by-uuids-response",e.saveExchangesRequest="save-exchanges-request",e.saveExchangesResponse="save-exchanges-response",e.deleteExchangesRequest="delete-exchanges-request",e.deleteExchangesResponse="delete-exchanges-response",e.deleteConversationExchangesRequest="delete-conversation-exchanges-request",e.deleteConversationExchangesResponse="delete-conversation-exchanges-response",e.countExchangesRequest="count-exchanges-request",e.countExchangesResponse="count-exchanges-response",e))(br||{}),Sr=(e=>(e.loadConversationHistoryRequest="loadConversationHistoryRequest",e.loadConversationHistoryResponse="loadConversationHistoryResponse",e.saveConversationHistoryRequest="saveConversationHistoryRequest",e.saveConversationHistoryResponse="saveConversationHistoryResponse",e.deleteConversationHistoryRequest="deleteConversationHistoryRequest",e.deleteConversationHistoryResponse="deleteConversationHistoryResponse",e.getConversationHistoryMetadataRequest="getConversationHistoryMetadataRequest",e.getConversationHistoryMetadataResponse="getConversationHistoryMetadataResponse",e))(Sr||{}),Qc=(e=>(e.getCreditInfoRequest="get-credit-info-request",e.getCreditInfoResponse="get-credit-info-response",e))(Qc||{});async function*eh(e,t=1e3){for(;e>0;)yield e,await new Promise(n=>setTimeout(n,Math.min(t,e))),e-=t}class th{constructor(t,n,r,s=5,a=4e3,i){this.requestId=t,this.chatMessage=n,this.startStreamFn=r,this.maxRetries=s,this.baseDelay=a,this.enablePreferenceCollection=i}_isCancelled=!1;cancel(){this._isCancelled=!0}async*getStream(){let t=0,n=0,r=!1;try{for(;!this._isCancelled;){const s=this.startStreamFn({...this.chatMessage,createdTimestamp:Date.now()},this.enablePreferenceCollection?{enablePreferenceCollection:this.enablePreferenceCollection}:void 0);let a,i,d=!1,c=!0;for await(const l of s){if(l.status===Ne.failed){if(l.isRetriable!==!0||r)return yield l;d=!0,c=l.shouldBackoff??!0,a=l.display_error_message,i=l.request_id;break}r=!0,yield l}if(!d)return;if(this._isCancelled)return yield this.createCancelledStatus();if(t++,t>this.maxRetries)return console.error(`Failed after ${this.maxRetries} attempts: ${a}`),void(yield{request_id:i??this.requestId,seen_state:st.unseen,status:Ne.failed,display_error_message:a,isRetriable:!1});if(c){const l=this.baseDelay*2**n;n++;for await(const u of eh(l))yield{request_id:this.requestId,status:Ne.sent,display_error_message:`Service temporarily unavailable. Retrying in ${Math.floor(u/1e3)} seconds... (Attempt ${t} of ${this.maxRetries})`,isRetriable:!0}}yield{request_id:this.requestId,status:Ne.sent,display_error_message:`Generating response... (Attempt ${t+1})`,isRetriable:!0}}this._isCancelled&&(yield this.createCancelledStatus())}catch(s){console.error("Unexpected error in chat stream:",s),yield{request_id:this.requestId,seen_state:st.unseen,status:Ne.failed,display_error_message:s instanceof Error?s.message:String(s)}}}createCancelledStatus(){return{request_id:this.requestId,seen_state:st.unseen,status:Ne.cancelled}}}var dn=(e=>(e.getHydratedTaskRequest="get-hydrated-task-request",e.getHydratedTaskResponse="get-hydrated-task-response",e.setCurrentRootTaskUuid="set-current-root-task-uuid",e.createTaskRequest="create-task-request",e.createTaskResponse="create-task-response",e.updateTaskRequest="update-task-request",e.updateTaskResponse="update-task-response",e.updateHydratedTaskRequest="update-hydrated-task-request",e.updateHydratedTaskResponse="update-hydrated-task-response",e))(dn||{});class nh{constructor(t){this._asyncMsgSender=t}getHydratedTask=async t=>{const n={type:dn.getHydratedTaskRequest,data:{uuid:t}};return(await this._asyncMsgSender.sendToSidecar(n,3e4)).data.task};createTask=async(t,n,r,s)=>{const a={type:dn.createTaskRequest,data:{name:t,description:n,parentTaskUuid:r,insertAfterUuid:s}};return(await this._asyncMsgSender.sendToSidecar(a,3e4)).data.uuid};updateTask=async(t,n,r)=>{const s={type:dn.updateTaskRequest,data:{uuid:t,updates:n,updatedBy:r}};await this._asyncMsgSender.sendToSidecar(s,3e4)};setCurrentRootTaskUuid=t=>{const n={type:dn.setCurrentRootTaskUuid,data:{uuid:t}};this._asyncMsgSender.sendToSidecar(n)};updateHydratedTask=async(t,n)=>{const r={type:dn.updateHydratedTaskRequest,data:{task:t,updatedBy:n}};return(await this._asyncMsgSender.sendToSidecar(r,3e4)).data}}var Ci,De=(e=>(e.NOT_STARTED="NOT_STARTED",e.IN_PROGRESS="IN_PROGRESS",e.CANCELLED="CANCELLED",e.COMPLETE="COMPLETE",e))(De||{}),Ba=(e=>(e.USER="USER",e.AGENT="AGENT",e))(Ba||{}),xi={},In={},or={};function Jc(){if(Ci)return or;let e;Ci=1,Object.defineProperty(or,"__esModule",{value:!0}),or.default=function(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)};const t=new Uint8Array(16);return or}var Ei,Ti,Ai,Mi,rn={},Rn={},Pn={};function rh(){return Ei?Pn:(Ei=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.default=void 0,Pn.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Pn)}function Qr(){if(Ti)return Rn;Ti=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.default=void 0;var e,t=(e=rh())&&e.__esModule?e:{default:e},n=function(r){return typeof r=="string"&&t.default.test(r)};return Rn.default=n,Rn}function Jr(){if(Ai)return rn;Ai=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.default=void 0,rn.unsafeStringify=r;var e,t=(e=Qr())&&e.__esModule?e:{default:e};const n=[];for(let a=0;a<256;++a)n.push((a+256).toString(16).slice(1));function r(a,i=0){return n[a[i+0]]+n[a[i+1]]+n[a[i+2]]+n[a[i+3]]+"-"+n[a[i+4]]+n[a[i+5]]+"-"+n[a[i+6]]+n[a[i+7]]+"-"+n[a[i+8]]+n[a[i+9]]+"-"+n[a[i+10]]+n[a[i+11]]+n[a[i+12]]+n[a[i+13]]+n[a[i+14]]+n[a[i+15]]}var s=function(a,i=0){const d=r(a,i);if(!(0,t.default)(d))throw TypeError("Stringified UUID is invalid");return d};return rn.default=s,rn}function sh(){if(Mi)return In;Mi=1,Object.defineProperty(In,"__esModule",{value:!0}),In.default=void 0;var e,t=(e=Jc())&&e.__esModule?e:{default:e},n=Jr();let r,s,a=0,i=0;var d=function(c,l,u){let o=l&&u||0;const h=l||new Array(16);let p=(c=c||{}).node||r,f=c.clockseq!==void 0?c.clockseq:s;if(p==null||f==null){const w=c.random||(c.rng||t.default)();p==null&&(p=r=[1|w[0],w[1],w[2],w[3],w[4],w[5]]),f==null&&(f=s=16383&(w[6]<<8|w[7]))}let m=c.msecs!==void 0?c.msecs:Date.now(),v=c.nsecs!==void 0?c.nsecs:i+1;const y=m-a+(v-i)/1e4;if(y<0&&c.clockseq===void 0&&(f=f+1&16383),(y<0||m>a)&&c.nsecs===void 0&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=m,i=v,s=f,m+=122192928e5;const b=(1e4*(268435455&m)+v)%4294967296;h[o++]=b>>>24&255,h[o++]=b>>>16&255,h[o++]=b>>>8&255,h[o++]=255&b;const k=m/4294967296*1e4&268435455;h[o++]=k>>>8&255,h[o++]=255&k,h[o++]=k>>>24&15|16,h[o++]=k>>>16&255,h[o++]=f>>>8|128,h[o++]=255&f;for(let w=0;w<6;++w)h[o+w]=p[w];return l||(0,n.unsafeStringify)(h)};return In.default=d,In}var Ii,Ri,On={},Et={},Nn={};function Xc(){if(Ii)return Nn;Ii=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.default=void 0;var e,t=(e=Qr())&&e.__esModule?e:{default:e},n=function(r){if(!(0,t.default)(r))throw TypeError("Invalid UUID");let s;const a=new Uint8Array(16);return a[0]=(s=parseInt(r.slice(0,8),16))>>>24,a[1]=s>>>16&255,a[2]=s>>>8&255,a[3]=255&s,a[4]=(s=parseInt(r.slice(9,13),16))>>>8,a[5]=255&s,a[6]=(s=parseInt(r.slice(14,18),16))>>>8,a[7]=255&s,a[8]=(s=parseInt(r.slice(19,23),16))>>>8,a[9]=255&s,a[10]=(s=parseInt(r.slice(24,36),16))/1099511627776&255,a[11]=s/4294967296&255,a[12]=s>>>24&255,a[13]=s>>>16&255,a[14]=s>>>8&255,a[15]=255&s,a};return Nn.default=n,Nn}function el(){if(Ri)return Et;Ri=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.URL=Et.DNS=void 0,Et.default=function(a,i,d){function c(l,u,o,h){var p;if(typeof l=="string"&&(l=function(m){m=unescape(encodeURIComponent(m));const v=[];for(let y=0;y<m.length;++y)v.push(m.charCodeAt(y));return v}(l)),typeof u=="string"&&(u=(0,n.default)(u)),((p=u)===null||p===void 0?void 0:p.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+l.length);if(f.set(u),f.set(l,u.length),f=d(f),f[6]=15&f[6]|i,f[8]=63&f[8]|128,o){h=h||0;for(let m=0;m<16;++m)o[h+m]=f[m];return o}return(0,t.unsafeStringify)(f)}try{c.name=a}catch{}return c.DNS=r,c.URL=s,c};var e,t=Jr(),n=(e=Xc())&&e.__esModule?e:{default:e};const r="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Et.DNS=r;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";return Et.URL=s,Et}var Pi,Oi,Ln={};function ah(){if(Pi)return Ln;function e(c){return 14+(c+64>>>9<<4)+1}function t(c,l){const u=(65535&c)+(65535&l);return(c>>16)+(l>>16)+(u>>16)<<16|65535&u}function n(c,l,u,o,h,p){return t((f=t(t(l,c),t(o,p)))<<(m=h)|f>>>32-m,u);var f,m}function r(c,l,u,o,h,p,f){return n(l&u|~l&o,c,l,h,p,f)}function s(c,l,u,o,h,p,f){return n(l&o|u&~o,c,l,h,p,f)}function a(c,l,u,o,h,p,f){return n(l^u^o,c,l,h,p,f)}function i(c,l,u,o,h,p,f){return n(u^(l|~o),c,l,h,p,f)}Pi=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.default=void 0;var d=function(c){if(typeof c=="string"){const l=unescape(encodeURIComponent(c));c=new Uint8Array(l.length);for(let u=0;u<l.length;++u)c[u]=l.charCodeAt(u)}return function(l){const u=[],o=32*l.length,h="0123456789abcdef";for(let p=0;p<o;p+=8){const f=l[p>>5]>>>p%32&255,m=parseInt(h.charAt(f>>>4&15)+h.charAt(15&f),16);u.push(m)}return u}(function(l,u){l[u>>5]|=128<<u%32,l[e(u)-1]=u;let o=1732584193,h=-271733879,p=-1732584194,f=271733878;for(let m=0;m<l.length;m+=16){const v=o,y=h,b=p,k=f;o=r(o,h,p,f,l[m],7,-680876936),f=r(f,o,h,p,l[m+1],12,-389564586),p=r(p,f,o,h,l[m+2],17,606105819),h=r(h,p,f,o,l[m+3],22,-1044525330),o=r(o,h,p,f,l[m+4],7,-176418897),f=r(f,o,h,p,l[m+5],12,1200080426),p=r(p,f,o,h,l[m+6],17,-1473231341),h=r(h,p,f,o,l[m+7],22,-45705983),o=r(o,h,p,f,l[m+8],7,1770035416),f=r(f,o,h,p,l[m+9],12,-1958414417),p=r(p,f,o,h,l[m+10],17,-42063),h=r(h,p,f,o,l[m+11],22,-1990404162),o=r(o,h,p,f,l[m+12],7,1804603682),f=r(f,o,h,p,l[m+13],12,-40341101),p=r(p,f,o,h,l[m+14],17,-1502002290),h=r(h,p,f,o,l[m+15],22,1236535329),o=s(o,h,p,f,l[m+1],5,-165796510),f=s(f,o,h,p,l[m+6],9,-1069501632),p=s(p,f,o,h,l[m+11],14,643717713),h=s(h,p,f,o,l[m],20,-373897302),o=s(o,h,p,f,l[m+5],5,-701558691),f=s(f,o,h,p,l[m+10],9,38016083),p=s(p,f,o,h,l[m+15],14,-660478335),h=s(h,p,f,o,l[m+4],20,-405537848),o=s(o,h,p,f,l[m+9],5,568446438),f=s(f,o,h,p,l[m+14],9,-1019803690),p=s(p,f,o,h,l[m+3],14,-187363961),h=s(h,p,f,o,l[m+8],20,1163531501),o=s(o,h,p,f,l[m+13],5,-1444681467),f=s(f,o,h,p,l[m+2],9,-51403784),p=s(p,f,o,h,l[m+7],14,1735328473),h=s(h,p,f,o,l[m+12],20,-1926607734),o=a(o,h,p,f,l[m+5],4,-378558),f=a(f,o,h,p,l[m+8],11,-2022574463),p=a(p,f,o,h,l[m+11],16,1839030562),h=a(h,p,f,o,l[m+14],23,-35309556),o=a(o,h,p,f,l[m+1],4,-1530992060),f=a(f,o,h,p,l[m+4],11,1272893353),p=a(p,f,o,h,l[m+7],16,-155497632),h=a(h,p,f,o,l[m+10],23,-1094730640),o=a(o,h,p,f,l[m+13],4,681279174),f=a(f,o,h,p,l[m],11,-358537222),p=a(p,f,o,h,l[m+3],16,-722521979),h=a(h,p,f,o,l[m+6],23,76029189),o=a(o,h,p,f,l[m+9],4,-640364487),f=a(f,o,h,p,l[m+12],11,-421815835),p=a(p,f,o,h,l[m+15],16,530742520),h=a(h,p,f,o,l[m+2],23,-995338651),o=i(o,h,p,f,l[m],6,-198630844),f=i(f,o,h,p,l[m+7],10,1126891415),p=i(p,f,o,h,l[m+14],15,-1416354905),h=i(h,p,f,o,l[m+5],21,-57434055),o=i(o,h,p,f,l[m+12],6,1700485571),f=i(f,o,h,p,l[m+3],10,-1894986606),p=i(p,f,o,h,l[m+10],15,-1051523),h=i(h,p,f,o,l[m+1],21,-2054922799),o=i(o,h,p,f,l[m+8],6,1873313359),f=i(f,o,h,p,l[m+15],10,-30611744),p=i(p,f,o,h,l[m+6],15,-1560198380),h=i(h,p,f,o,l[m+13],21,1309151649),o=i(o,h,p,f,l[m+4],6,-145523070),f=i(f,o,h,p,l[m+11],10,-1120210379),p=i(p,f,o,h,l[m+2],15,718787259),h=i(h,p,f,o,l[m+9],21,-343485551),o=t(o,v),h=t(h,y),p=t(p,b),f=t(f,k)}return[o,h,p,f]}(function(l){if(l.length===0)return[];const u=8*l.length,o=new Uint32Array(e(u));for(let h=0;h<u;h+=8)o[h>>5]|=(255&l[h/8])<<h%32;return o}(c),8*c.length))};return Ln.default=d,Ln}function ih(){if(Oi)return On;Oi=1,Object.defineProperty(On,"__esModule",{value:!0}),On.default=void 0;var e=n(el()),t=n(ah());function n(s){return s&&s.__esModule?s:{default:s}}var r=(0,e.default)("v3",48,t.default);return On.default=r,On}var Ni,Li,Dn={},Fn={};function oh(){if(Ni)return Fn;Ni=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.default=void 0;var e={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return Fn.default=e,Fn}function ch(){if(Li)return Dn;Li=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.default=void 0;var e=r(oh()),t=r(Jc()),n=Jr();function r(a){return a&&a.__esModule?a:{default:a}}var s=function(a,i,d){if(e.default.randomUUID&&!i&&!a)return e.default.randomUUID();const c=(a=a||{}).random||(a.rng||t.default)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,i){d=d||0;for(let l=0;l<16;++l)i[d+l]=c[l];return i}return(0,n.unsafeStringify)(c)};return Dn.default=s,Dn}var Di,Fi,$n={},Un={};function lh(){if(Di)return Un;function e(r,s,a,i){switch(r){case 0:return s&a^~s&i;case 1:case 3:return s^a^i;case 2:return s&a^s&i^a&i}}function t(r,s){return r<<s|r>>>32-s}Di=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.default=void 0;var n=function(r){const s=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){const l=unescape(encodeURIComponent(r));r=[];for(let u=0;u<l.length;++u)r.push(l.charCodeAt(u))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);const i=r.length/4+2,d=Math.ceil(i/16),c=new Array(d);for(let l=0;l<d;++l){const u=new Uint32Array(16);for(let o=0;o<16;++o)u[o]=r[64*l+4*o]<<24|r[64*l+4*o+1]<<16|r[64*l+4*o+2]<<8|r[64*l+4*o+3];c[l]=u}c[d-1][14]=8*(r.length-1)/Math.pow(2,32),c[d-1][14]=Math.floor(c[d-1][14]),c[d-1][15]=8*(r.length-1)&4294967295;for(let l=0;l<d;++l){const u=new Uint32Array(80);for(let v=0;v<16;++v)u[v]=c[l][v];for(let v=16;v<80;++v)u[v]=t(u[v-3]^u[v-8]^u[v-14]^u[v-16],1);let o=a[0],h=a[1],p=a[2],f=a[3],m=a[4];for(let v=0;v<80;++v){const y=Math.floor(v/20),b=t(o,5)+e(y,h,p,f)+m+s[y]+u[v]>>>0;m=f,f=p,p=t(h,30)>>>0,h=o,o=b}a[0]=a[0]+o>>>0,a[1]=a[1]+h>>>0,a[2]=a[2]+p>>>0,a[3]=a[3]+f>>>0,a[4]=a[4]+m>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,255&a[0],a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,255&a[1],a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,255&a[2],a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,255&a[3],a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,255&a[4]]};return Un.default=n,Un}function uh(){if(Fi)return $n;Fi=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.default=void 0;var e=n(el()),t=n(lh());function n(s){return s&&s.__esModule?s:{default:s}}var r=(0,e.default)("v5",80,t.default);return $n.default=r,$n}var $i,jn={};function dh(){return $i?jn:($i=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.default=void 0,jn.default="00000000-0000-0000-0000-000000000000",jn)}var Ui,ji,qi,Bi,Hi,Gi,gs,zi,qn={};function hh(){if(Ui)return qn;Ui=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.default=void 0;var e,t=(e=Qr())&&e.__esModule?e:{default:e},n=function(r){if(!(0,t.default)(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)};return qn.default=n,qn}function ph(){return ji||(ji=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.default}});var t=u(sh()),n=u(ih()),r=u(ch()),s=u(uh()),a=u(dh()),i=u(hh()),d=u(Qr()),c=u(Jr()),l=u(Xc());function u(o){return o&&o.__esModule?o:{default:o}}}(xi)),xi}function fh(){if(Gi)return Hi;Gi=1;var e=function(){if(Bi)return qi;function n(r,s){if(!(r&&s&&r.length&&s.length))throw new Error("Bad alphabet");this.srcAlphabet=r,this.dstAlphabet=s}return Bi=1,n.prototype.convert=function(r){var s,a,i,d={},c=this.srcAlphabet.length,l=this.dstAlphabet.length,u=r.length,o=typeof r=="string"?"":[];if(!this.isValid(r))throw new Error('Number "'+r+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return r;for(s=0;s<u;s++)d[s]=this.srcAlphabet.indexOf(r[s]);do{for(a=0,i=0,s=0;s<u;s++)(a=a*c+d[s])>=l?(d[i++]=parseInt(a/l,10),a%=l):i>0&&(d[i++]=0);u=i,o=this.dstAlphabet.slice(a,a+1).concat(o)}while(i!==0);return o},n.prototype.isValid=function(r){for(var s=0;s<r.length;++s)if(this.srcAlphabet.indexOf(r[s])===-1)return!1;return!0},qi=n}();function t(n,r){var s=new e(n,r);return function(a){return s.convert(a)}}return t.BIN="01",t.OCT="01234567",t.DEC="0123456789",t.HEX="0123456789abcdef",Hi=t}var gh=function(){if(zi)return gs;zi=1;const{v4:e,validate:t}=ph(),n=fh(),r={cookieBase90:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&'()*+-./:<=>?@[]^_`{|}~",flickrBase58:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",uuid25Base36:"0123456789abcdefghijklmnopqrstuvwxyz"},s={consistentLength:!0};let a;const i=(c,l,u)=>{const o=l(c.toLowerCase().replace(/-/g,""));return u&&u.consistentLength?o.padStart(u.shortIdLength,u.paddingChar):o},d=(c,l)=>{const u=l(c).padStart(32,"0").match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/);return[u[1],u[2],u[3],u[4],u[5]].join("-")};return gs=(()=>{const c=(l,u)=>{const o=l||r.flickrBase58,h={...s,...u};if([...new Set(Array.from(o))].length!==o.length)throw new Error("The provided Alphabet has duplicate characters resulting in unreliable results");const p=(f=o.length,Math.ceil(Math.log(2**128)/Math.log(f)));var f;const m={shortIdLength:p,consistentLength:h.consistentLength,paddingChar:o[0]},v=n(n.HEX,o),y=n(o,n.HEX),b=()=>i(e(),v,m),k={alphabet:o,fromUUID:w=>i(w,v,m),maxLength:p,generate:b,new:b,toUUID:w=>d(w,y),uuid:e,validate:(w,g=!1)=>{if(!w||typeof w!="string")return!1;const S=h.consistentLength?w.length===p:w.length<=p,_=w.split("").every(E=>o.includes(E));return g===!1?S&&_:S&&_&&t(d(w,y))}};return Object.freeze(k),k};return c.constants=r,c.uuid=e,c.generate=()=>(a||(a=c(r.flickrBase58).generate),a()),c})(),gs}();const mh=qa(gh),yh="Current Task List",vh="Root task for conversation",tl={[De.NOT_STARTED]:"[ ]",[De.IN_PROGRESS]:"[/]",[De.COMPLETE]:"[x]",[De.CANCELLED]:"[-]"},nl=mh(void 0,{consistentLength:!0});function _h(e,t){if(e.uuid===t)return e;if(e.subTasksData)for(const n of e.subTasksData){const r=_h(n,t);if(r)return r}}function rl(e,t={}){const{shallow:n=!1,excludeUuid:r=!1,shortUuid:s=!0}=t;return sl(e,{shallow:n,excludeUuid:r,shortUuid:s}).join(`
`)}function sl(e,t={}){const{shallow:n=!1,excludeUuid:r=!1,shortUuid:s=!0}=t;let a="";r||(a=`UUID:${s?function(d){try{return nl.fromUUID(d)}catch{return d}}(e.uuid):e.uuid} `);const i=`${tl[e.state]} ${a}NAME:${e.name} DESCRIPTION:${e.description}`;return n||!e.subTasksData||e.subTasksData.length===0?[i]:[i,...(e.subTasksData||[]).map(d=>sl(d,t).map(c=>`-${c}`)).flat()]}function bh(e,t){const n=e.subTasksData?.map(r=>bh(r,t));return{...e,uuid:t?.keepUuid?e.uuid:crypto.randomUUID(),subTasks:n?.map(r=>r.uuid)||[],subTasksData:n}}function Vm(e,t={}){if(!e.trim())throw new Error("Empty markdown");const n=e.split(`
`);let r=0;for(const l of n)if(l.trim()&&Vi(l)===0)try{ca(l,t),r++}catch{}if(r===0)throw new Error("No root task found");if(r>1)throw new Error(`Multiple root tasks found (${r}). There can only be one root task per conversation. All other tasks must be subtasks (indented with dashes). Root task format: [ ] UUID:xxx NAME:yyy DESCRIPTION:zzz (no dashes). Subtask format: -[ ] UUID:xxx NAME:yyy DESCRIPTION:zzz (with dashes).`);const s=e.split(`
`);function a(){for(;s.length>0;){const l=s.shift(),u=Vi(l);try{return{task:ca(l,t),level:u}}catch{}}}const i=a();if(!i)throw new Error("No root task found");const d=[i.task];let c;for(;c=a();){const l=d[c.level-1];if(!l)throw new Error(`Invalid markdown: level ${c.level+1} has no parent
Line: ${c.task.name} is missing a parent
Current tasks: 
${rl(i.task)}`);l.subTasksData&&l.subTasks||(l.subTasks=[],l.subTasksData=[]),l.subTasksData.push(c.task),l.subTasks.push(c.task.uuid),d[c.level]=c.task,d.splice(c.level+1)}return i.task}function Vi(e){let t=0,n=0;for(;n<e.length&&(e[n]===" "||e[n]==="	");)e[n]===" "?t+=.5:e[n]==="	"&&(t+=1),n++;for(;n<e.length&&e[n]==="-";)t+=1,n++;return Math.floor(t)}function ca(e,t={}){const{excludeUuid:n=!1,shortUuid:r=!0}=t;let s=0;for(;s<e.length&&(e[s]===" "||e[s]==="	"||e[s]==="-");)s++;const a=e.substring(s),i=a.match(/^\s*\[([ x\-/?])\]/);if(!i)throw new Error(`Invalid task line: ${e} (missing state)`);const d=i[1],c=Object.entries(tl).reduce((p,[f,m])=>(p[m.substring(1,2)]=f,p),{})[d]||De.NOT_STARTED,l=a.substring(i.index+i[0].length).trim();let u,o,h;if(n){const p=/(?:name|NAME):([^]*?)(?=(?:description|DESCRIPTION):)(?:description|DESCRIPTION):(.*)$/i,f=l.match(p);if(!f){const m=/\b(?:name|NAME):/i.test(l),v=/\b(?:description|DESCRIPTION):/i.test(l);throw!m||!v?new Error(`Invalid task line: ${e} (missing required fields)`):l.toLowerCase().indexOf("name:")<l.toLowerCase().indexOf("description:")?new Error(`Invalid task line: ${e} (invalid format)`):new Error(`Invalid task line: ${e} (incorrect field order)`)}if(o=f[1].trim(),h=f[2].trim(),!o)throw new Error(`Invalid task line: ${e} (missing required fields)`);u=crypto.randomUUID()}else{const p=/(?:uuid|UUID):([^]*?)(?=(?:name|NAME):)(?:name|NAME):([^]*?)(?=(?:description|DESCRIPTION):)(?:description|DESCRIPTION):(.*)$/i,f=l.match(p);if(!f){const m=/\b(?:uuid|UUID):/i.test(l),v=/\b(?:name|NAME):/i.test(l),y=/\b(?:description|DESCRIPTION):/i.test(l);if(!m||!v||!y)throw new Error(`Invalid task line: ${e} (missing required fields)`);const b=l.toLowerCase().indexOf("uuid:"),k=l.toLowerCase().indexOf("name:"),w=l.toLowerCase().indexOf("description:");throw b<k&&k<w?new Error(`Invalid task line: ${e} (invalid format)`):new Error(`Invalid task line: ${e} (incorrect field order)`)}if(u=f[1].trim(),o=f[2].trim(),h=f[3].trim(),!u||!o)throw new Error(`Invalid task line: ${e} (missing required fields)`);if(u==="NEW_UUID")u=crypto.randomUUID();else if(r)try{u=function(m){try{return nl.toUUID(m)}catch{return m}}(u)}catch{}}return{uuid:u,name:o,description:h,state:c,subTasks:[],lastUpdated:Date.now(),lastUpdatedBy:Ba.USER}}const xn=e=>({uuid:crypto.randomUUID(),name:"New Task",description:"New task description",state:De.NOT_STARTED,subTasks:[],lastUpdated:Date.now(),lastUpdatedBy:Ba.USER,...e}),Zi=xn({name:"Task 1.1",description:"This is the first sub task",state:De.IN_PROGRESS}),Wi=xn({name:"Task 1.2.1",description:"This is a nested sub task, child of Task 1.2",state:De.NOT_STARTED}),Ki=xn({name:"Task 1.2.2",description:"This is another nested sub task, child of Task 1.2",state:De.IN_PROGRESS}),Yi=xn({name:"Task 1.2",description:"This is the second sub task",state:De.COMPLETE,subTasks:[Wi.uuid,Ki.uuid],subTasksData:[Wi,Ki]}),Qi=xn({name:"Task 1.3",description:"This is the third sub task",state:De.CANCELLED}),Zm=rl(xn({name:"Task 1",description:"This is the first task",state:De.NOT_STARTED,subTasks:[Zi.uuid,Yi.uuid,Qi.uuid],subTasksData:[Zi,Yi,Qi]}));function Sh(e,t){return!(!t||e.uuid!==t)||function(n){const r=n.name.trim().localeCompare(yh,void 0,{sensitivity:"accent"})===0,s=n.description.trim().toLowerCase().startsWith(vh.toLowerCase());return r&&s}(e)}function al(e,t){const n=e.split(`
`);let r=null;const s={created:[],updated:[],deleted:[]};for(const a of n){const i=a.trim();if(i!=="## Created Tasks")if(i!=="## Updated Tasks")if(i!=="## Deleted Tasks"){if(r&&(i.startsWith("[ ]")||i.startsWith("[/]")||i.startsWith("[x]")||i.startsWith("[-]")))try{const d=ca(i,{excludeUuid:!1,shortUuid:!0});if(d){if(Sh(d,t))continue;s[r].push(d)}}catch{}}else r="deleted";else r="updated";else r="created"}return s}function Wm(e,t){const n=e.match(/Created: (\d+), Updated: (\d+), Deleted: (\d+)/),r=il(e);if(r.trim()){const s=al(r,t);return{created:s.created.length,updated:s.updated.length,deleted:s.deleted.length}}return n?{created:parseInt(n[1],10),updated:parseInt(n[2],10),deleted:parseInt(n[3],10)}:{created:0,updated:0,deleted:0}}function il(e){const t=e.indexOf("# Task Changes");if(t===-1)return"";const n=e.substring(t),r=[`
New and Updated Tasks:`,`
Remember:`,`

---`];let s=n.length;for(const d of r){const c=n.indexOf(d);c!==-1&&c<s&&(s=c)}const a=n.substring(0,s),i=a.indexOf(`
`);return i===-1?"":a.substring(i+1).trim()}function Km(e,t){return al(il(e),t)}class Ym{static getTaskOrchestratorPrompt(t){const{taskTree:n,surroundingContext:r}=t,s=this.buildTaskContext(n,r);return`Please utilize sub-agents to complete the following task tree.
Here are the details, along with a suggestion prompt.
You may use 1 or more sub-agents in to complete the below task.
For each sub-agent, please give it the relevant context and breakdown of the below task.

## Task Details
**Name:** ${n.name}
${n.description?`**Description:** ${n.description}`:""}
**Status:** ${n.state}

## Task Context
${s}

## Instructions
Please complete this task according to the requirements.
When you are done, report back on the completion status with a summary of changes made,
important context, and other relevant information for the supervisor.

Focus on this specific task tree while being aware of the broader context provided above.`}static getTaskMentionId(t){return`task:${t.taskUuid}:${t.taskTree.name.replace(/\s+/g,"_")}`}static getTaskMentionLabel(t){const{taskTree:n,surroundingContext:r}=t;return r.targetTaskPath.length>1?`${r.targetTaskPath.slice(0,-1).join(" → ")} → ${n.name}`:n.name}static buildTaskContext(t,n){const{rootTask:r,targetTaskPath:s}=n;let a=`This task is part of a larger project: "${r.name}"`;return r.description&&(a+=`

**Project Description:** ${r.description}`),s.length>1&&(a+=`

**Task Path:** ${s.join(" → ")}`),t.subTasksData&&t.subTasksData.length>0&&(a+=`

**Subtasks:**`,t.subTasksData.forEach((i,d)=>{a+=`
${d+1}. ${i.name} (${i.state})`,i.description&&(a+=` - ${i.description}`)})),a}static parseJsonTaskList(t){try{const n=JSON.parse(t);return Array.isArray(n)?n:this.flattenTaskTree(n)}catch{return[]}}static flattenTaskTree(t,n=[]){if(n.push({uuid:t.uuid,name:t.name,description:t.description,state:t.state,level:t.level}),t.subTasks)for(const r of t.subTasks)this.flattenTaskTree(r,n);return n}}function kh(e){throw new Error("Logger not initialized. Call setLibraryLogger() before using getLogger().")}const ui=class ui{static hasFrontmatter(t){return this.frontmatterRegex.test(t)}static extractFrontmatter(t){const n=t.match(this.frontmatterRegex);return n&&n[1]?n[1]:null}static extractContent(t){return t==null?"":t.replace(this.frontmatterRegex,"")}static parseBoolean(t,n,r=!0){const s=this.extractFrontmatter(t);if(s){const a=new RegExp(`${n}\\s*:\\s*(true|false)`,"i"),i=s.match(a);if(i&&i[1])return i[1].toLowerCase()==="true"}return r}static parseString(t,n,r=""){const s=this.extractFrontmatter(t);if(s){const a=new RegExp(`${n}\\s*:\\s*["']?([^"'
]*)["']?`,"i"),i=s.match(a);if(i&&i[1])return i[1].trim()}return r}static updateFrontmatter(t,n,r){const s=t.match(this.frontmatterRegex),a=typeof r!="string"||/^(true|false)$/.test(r.toLowerCase())?String(r):`"${r}"`;if(s){const i=s[1],d=new RegExp(`(${n}\\s*:\\s*)([^\\n]*)`,"i");if(i.match(d)){const c=i.replace(d,`$1${a}`);return t.replace(this.frontmatterRegex,`---
${c}---

`)}{const c=`${i.endsWith(`
`)?i:i+`
`}${n}: ${a}
`;return t.replace(this.frontmatterRegex,`---
${c}---

`)}}return`---
${n}: ${a}
---

${t}`}static createFrontmatter(t,n){let r=t;this.hasFrontmatter(r)&&(r=this.extractContent(r));for(const[s,a]of Object.entries(n))r=this.updateFrontmatter(r,s,a);return r}};ui.frontmatterRegex=/^---\s*\n([\s\S]*?)\n---\s*\n/;let Oe=ui;const ol=yt.ALWAYS_ATTACHED,mn=class mn{static parseRuleFile(t,n,r){const s=Oe.parseString(t,this.DESCRIPTION_FRONTMATTER_KEY,""),a=Oe.extractContent(t);return{type:this.getRuleTypeFromContent(t,r),path:n,content:a,description:s||void 0}}static formatRuleFileForMarkdown(t){let n=t.content;return n=Oe.updateFrontmatter(n,this.TYPE_FRONTMATTER_KEY,this.mapRuleTypeToString(t.type)),t.description&&(n=Oe.updateFrontmatter(n,this.DESCRIPTION_FRONTMATTER_KEY,t.description)),n}static getAlwaysApplyFrontmatterKey(t){return Oe.parseBoolean(t,this.ALWAYS_APPLY_FRONTMATTER_KEY,!1)}static extractContent(t){return Oe.extractContent(t)}static updateAlwaysApplyFrontmatterKey(t,n){return Oe.updateFrontmatter(t,this.ALWAYS_APPLY_FRONTMATTER_KEY,n)}static getDescriptionFrontmatterKey(t){return Oe.parseString(t,this.DESCRIPTION_FRONTMATTER_KEY,"")}static updateDescriptionFrontmatterKey(t,n){return Oe.updateFrontmatter(t,this.DESCRIPTION_FRONTMATTER_KEY,n)}static mapRuleTypeToString(t){switch(t){case yt.ALWAYS_ATTACHED:return"always_apply";case yt.MANUAL:return"manual";case yt.AGENT_REQUESTED:return"agent_requested";default:return"manual"}}static isValidTypeValue(t){return this.VALID_TYPE_VALUES.includes(t.toLowerCase())}static getTypeFrontmatterKey(t){return Oe.parseString(t,this.TYPE_FRONTMATTER_KEY,"")}static updateTypeFrontmatterKey(t,n){const r=this.mapRuleTypeToString(n);return Oe.updateFrontmatter(t,this.TYPE_FRONTMATTER_KEY,r)}static getRuleTypeFromContent(t,n){const r=this.getTypeFrontmatterKey(t);if(r&&this.isValidTypeValue(r))return Eh(r);const s=this.getAlwaysApplyFrontmatterKey(t),a=this.getDescriptionFrontmatterKey(t);return s?yt.ALWAYS_ATTACHED:a&&a.trim()!==""?yt.AGENT_REQUESTED:n!==void 0?n:ol}};mn.ALWAYS_APPLY_FRONTMATTER_KEY="alwaysApply",mn.DESCRIPTION_FRONTMATTER_KEY="description",mn.TYPE_FRONTMATTER_KEY="type",mn.VALID_TYPE_VALUES=["always_apply","manual","agent_requested"];let la=mn;const wh=".augment",Ch="rules",xh=".augment-guidelines",cl="AGENTS.md",ll="CLAUDE.md",Qm=[cl,ll],Jm=[xh,cl,ll];function Eh(e){switch(e.toLowerCase()){case"always_apply":return yt.ALWAYS_ATTACHED;case"manual":return yt.MANUAL;case"agent_requested":return yt.AGENT_REQUESTED;default:return ol}}var Th=(e=>(e[e.Unknown=0]="Unknown",e[e.File=1]="File",e[e.Directory=2]="Directory",e[e.SymbolicLink=64]="SymbolicLink",e))(Th||{});const di=class di{static setClientWorkspaces(t){this._instance===void 0?this._instance=t:kh().warn("Attempting to initialize client workspaces when one is already configured. Keeping existing client workspaces.")}static getClientWorkspaces(){if(this._instance===void 0)throw new Error("ClientWorkspaces not set");return this._instance}static reset(){this._instance=void 0}};di._instance=void 0;let ua=di;const Xm=()=>ua.getClientWorkspaces();var Ah=(e=>(e[e.unspecified=0]="unspecified",e[e.userGuidelines=1]="userGuidelines",e[e.augmentGuidelines=2]="augmentGuidelines",e[e.rules=3]="rules",e))(Ah||{}),ul=(e=>(e[e.unspecified=0]="unspecified",e[e.manuallyCreated=1]="manuallyCreated",e[e.auto=2]="auto",e[e.selectedDirectory=3]="selectedDirectory",e[e.selectedFile=4]="selectedFile",e))(ul||{});function Mh(e){return e===void 0?{num_lines:-1,num_chars:-1}:{num_lines:e.split(`
`).length,num_chars:e.length}}class dl{constructor(){this.tracingData={flags:{},nums:{},string_stats:{},request_ids:{}}}setFlag(t,n=!0){this.tracingData.flags[t]={value:n,timestamp:new Date().toISOString()}}getFlag(t){return this.tracingData.flags[t]?.value}setNum(t,n){this.tracingData.nums[t]={value:n,timestamp:new Date().toISOString()}}getNum(t){return this.tracingData.nums[t]?.value}setStringStats(t,n){this.tracingData.string_stats[t]={value:Mh(n),timestamp:new Date().toISOString()}}setRequestId(t,n){this.tracingData.request_ids[t]={value:n,timestamp:new Date().toISOString()}}}var Ih=(e=>(e[e.unspecified=0]="unspecified",e[e.classify_and_distill=1]="classify_and_distill",e[e.orientation=2]="orientation",e[e.memory_acceptance=3]="memory_acceptance",e))(Ih||{}),Rh=(e=>(e.start="start",e.end="end",e.memoriesRequestId="memoriesRequestId",e.exceptionThrown="exceptionThrown",e.lastUserExchangeRequestId="lastUserExchangeRequestId",e.noMemoryData="noMemoryData",e.agenticTurnHasRememberToolCall="agenticTurnHasRememberToolCall",e.emptyMemory="emptyMemory",e.removeUserExchangeMemoryFailed="removeUserExchangeMemoryFailed",e))(Rh||{});class hl extends dl{constructor(){super()}static create(){return new hl}}var da=(e=>(e.openedAgentConversation="opened-agent-conversation",e.revertCheckpoint="revert-checkpoint",e.agentInterruption="agent-interruption",e.sentUserMessage="sent-user-message",e.rememberToolCall="remember-tool-call",e.openedMemoriesFile="opened-memories-file",e.initialOrientation="initial-orientation",e.classifyAndDistill="classify-and-distill",e.flushMemories="flush-memories",e.vsCodeTerminalCwdNotAbsolute="vs-code-terminal-cwd-not-absolute",e.vsCodeTerminalCwdDoesNotExist="vs-code-terminal-cwd-does-not-exist",e.vsCodeTerminalShellIntegrationNotAvailable="vs-code-terminal-shell-integration-not-available",e.vsCodeTerminalReadingApproximateOutput="vs-code-terminal-reading-approximate-output",e.vsCodeTerminalTimedOutWaitingForNoopCommand="vs-code-terminal-timed-out-waiting-for-noop-command",e.vsCodeTerminalTimedOutWaitingForSetCwdCommand="vs-code-terminal-timed-out-waiting-for-set-cwd-command",e.vsCodeTerminalTimedOutWaitingForStartupCommand="vs-code-terminal-timed-out-waiting-for-startup-command",e.vsCodeTerminalTimedOutWaitingForTerminalProcessId="vs-code-terminal-timed-out-waiting-for-terminal-process-id",e.vsCodeTerminalFailedToUseShellIntegration="vs-code-terminal-failed-to-use-shell-integration",e.vsCodeTerminalLastCommandIsSameAsCurrent="vs-code-terminal-last-command-is-same-as-current",e.vsCodeTerminalPollingDeterminedProcessIsDone="vs-code-terminal-polling-determined-process-is-done",e.vsCodeScriptStrategyPollingDeterminedProcessIsDone="vs-code-script-strategy-polling-determined-process-is-done",e.vsCodeTerminalFailedToReadOutput="vs-code-terminal-failed-to-read-output",e.vsCodeTerminalReadEmptyOutput="vs-code-terminal-read-empty-output",e.vsCodeTerminalBuggyOutput="vs-code-terminal-buggy-output",e.vsCodeTerminalBuggyExecutionEvents="vs-code-terminal-buggy-execution-events",e.vsCodeTerminalUnsupportedVSCodeShell="vs-code-terminal-unsupported-vscode-shell",e.vsCodeTerminalFailedToFindGitBash="vs-code-terminal-failed-to-find-git-bash",e.vsCodeTerminalFailedToFindPowerShell="vs-code-terminal-failed-to-find-powershell",e.vsCodeTerminalNoSupportedShellsFound="vs-code-terminal-no-supported-shells-found",e.vsCodeTerminalSettingsChanged="vs-code-terminal-settings-changed",e.vsCodeTerminalWaitTimeout="vs-code-terminal-wait-timeout",e.vsCodeTerminalErrorLoadingSettings="vs-code-terminal-error-loading-settings",e.vsCodeTerminalErrorCheckingForShellUpdates="vs-code-terminal-error-checking-for-shell-updates",e.vsCodeTerminalErrorCleaningUpTempDir="vs-code-terminal-error-cleaning-up-temp-dir",e.vsCodeTerminalErrorInitializingShells="vs-code-terminal-error-initializing-shells",e.vsCodeTerminalErrorCheckingShellCapability="vs-code-terminal-error-checking-shell-capability",e.vsCodeTerminalErrorCreatingZshEnvironment="vs-code-terminal-error-creating-zsh-environment",e.vsCodeTerminalErrorCreatingBashEnvironment="vs-code-terminal-error-creating-bash-environment",e.vsCodeTerminalErrorAccessingConfiguration="vs-code-terminal-error-accessing-configuration",e.vsCodeTerminalErrorSavingSettings="vs-code-terminal-error-saving-settings",e.vsCodeTerminalMissedStartEvent="vs-code-terminal-missed-start-event",e.vsCodeTerminalReadStreamTimeoutWhenProcessIsComplete="vs-code-terminal-read-stream-timeout-when-process-is-complete",e.vsCodeTerminalScriptCommandNotAvailable="vs-code-terminal-script-command-not-available",e.vsCodeTerminalScriptCaptureFailToStart="vs-code-terminal-script-capture-fail-to-start",e.vsCodeTerminalScriptCaptureReadOutputFailure="vs-code-terminal-script-capture-read-output-failure",e.vsCodeTerminalScriptCaptureHybridReadOutputException="vs-code-terminal-script-capture-hybrid-read-output-exception",e.vsCodeTerminalScriptCaptureFileShrank="vs-code-terminal-script-capture-file-shrank",e.vsCodeTerminalScriptCaptureReadEmptyOutput="vs-code-terminal-script-capture-read-empty-output",e.vsCodeTerminalScriptCaptureStartupScriptFailure="vs-code-terminal-script-capture-startup-script-failure",e.vsCodeTerminalScriptCaptureFailedAfterRetry="vs-code-terminal-script-capture-failed-after-retry",e.vsCodeTerminalScriptCaptureCommandFilteringFailed="vs-code-terminal-script-capture-command-filtering-failed",e.vsCodeTerminalScriptCapturePlatformCompatibility="vs-code-terminal-script-capture-platform-compatibility",e.vsCodeTerminalScriptCaptureCwdTrackingSetupFailure="vs-code-terminal-script-capture-cwd-tracking-setup-failure",e.vsCodeTerminalScriptCaptureCwdTrackingSetupEmpty="vs-code-terminal-script-capture-cwd-tracking-setup-empty",e.vsCodeTerminalScriptCaptureEndMarkerSetupFailure="vs-code-terminal-script-capture-end-marker-setup-failure",e.vsCodeTerminalScriptCaptureStartMarkerSetupFailure="vs-code-terminal-script-capture-start-marker-setup-failure",e.vsCodeTerminalScriptCaptureMarkerSetupEmpty="vs-code-terminal-script-capture-marker-setup-empty",e.vsCodeTerminalScriptCaptureEndMarkerNotFound="vs-code-terminal-script-capture-end-marker-not-found",e.vsCodeTerminalScriptCapturePidNull="vs-code-terminal-script-capture-pid-null",e.vsCodeTerminalScriptCapturePidDead="vs-code-terminal-script-capture-pid-dead",e.vsCodeTerminalScriptCaptureScriptPidReadyNoShell="vs-code-terminal-script-capture-script-pid-ready-no-shell",e.vsCodeTerminalScriptCaptureScriptPidNotReady="vs-code-terminal-script-capture-script-pid-not-ready",e.vsCodeTerminalScriptCaptureFindScriptPidException="vs-code-terminal-script-capture-find-script-pid-exception",e.vsCodeTerminalScriptCaptureFindShellPidException="vs-code-terminal-script-capture-find-shell-pid-exception",e.vsCodeTerminalScriptCaptureGetChildProcessException="vs-code-terminal-script-capture-get-child-process-exception",e.vsCodeTerminalScriptCaptureGetProcessStateException="vs-code-terminal-script-capture-get-process-state-exception",e.vsCodeTerminalScriptCaptureFallbackUsed="vs-code-terminal-script-capture-fallback-used",e.vsCodeTerminalScriptCaptureExecutionEventWhileScriptCaptureReady="vs-code-terminal-script-capture-execution-event-while-script-capture-ready",e.enhancedPrompt="enhanced-prompt",e.memoriesMove="memories-move",e.rulesImported="rules-imported",e.taskListUsage="task-list-usage",e.memoryUsage="memory-usage",e.contentTruncation="content-truncation",e.modelSelectionChange="model-selection-change",e))(da||{}),Ph=(e=>(e.sentUserMessage="sent-user-message",e.chatHistorySummarization="chat-history-summarization",e.enhancedPrompt="enhanced-prompt",e.firstTokenReceived="first-token-received",e.chatHistoryTruncated="chat-history-truncated",e))(Ph||{}),Oh=(e=>(e.memoriesRequestId="memoriesRequestId",e.exceptionThrown="exceptionThrown",e.start="start",e.end="end",e.noPendingUserMessage="noPendingUserMessage",e.startSendSilentExchange="startSendSilentExchange",e.sendSilentExchangeRequestId="sendSilentExchangeRequestId",e.sendSilentExchangeResponseStats="sendSilentExchangeResponseStats",e.noRequestId="noRequestId",e.conversationChanged="conversationChanged",e.explanationStats="explanationStats",e.contentStats="contentStats",e.invalidResponse="invalidResponse",e.worthRemembering="worthRemembering",e.lastUserExchangeRequestId="lastUserExchangeRequestId",e.noLastUserExchangeRequestId="noLastUserExchangeRequestId",e))(Oh||{});class pl extends dl{constructor(){super()}static create(){return new pl}}var Nh=(e=>(e.remoteAgentSetup="remote-agent-setup",e.setupScript="setup-script",e.sshInteraction="ssh-interaction",e.notificationBell="notification-bell",e.diffPanel="diff-panel",e.setupPageOpened="setup-page-opened",e.githubAPIFailure="github-api-failure",e.remoteAgentCreated="remote-agent-created",e.changesApplied="changes-applied",e.createdPR="created-pr",e.modeSelector="mode-selector",e.remoteAgentSetupWindow="remote-agent-setup-window",e.remoteAgentThreadList="remote-agent-thread-list",e.remoteAgentNewThreadButton="remote-agent-new-thread-button",e))(Nh||{}),Lh=(e=>(e[e.unknownSourceControl=0]="unknownSourceControl",e[e.git=1]="git",e[e.github=2]="github",e))(Lh||{}),Dh=(e=>(e[e.unknownMode=0]="unknownMode",e[e.chat=1]="chat",e[e.agent=2]="agent",e[e.remoteAgent=3]="remoteAgent",e))(Dh||{}),Fh=(e=>(e[e.unknownModeSelectorAction=0]="unknownModeSelectorAction",e[e.open=1]="open",e[e.close=2]="close",e[e.select=3]="select",e[e.init=4]="init",e))(Fh||{}),$h=(e=>(e[e.unknownSetupWindowAction=0]="unknownSetupWindowAction",e[e.open=1]="open",e[e.close=2]="close",e[e.selectRepo=3]="selectRepo",e[e.selectBranch=4]="selectBranch",e[e.selectSetupScript=5]="selectSetupScript",e[e.autoGenerateSetupScript=6]="autoGenerateSetupScript",e[e.manuallyCreateSetupScript=7]="manuallyCreateSetupScript",e[e.typeInPromptWindow=8]="typeInPromptWindow",e[e.clickRewritePrompt=9]="clickRewritePrompt",e[e.enableNotifications=10]="enableNotifications",e[e.disableNotifications=11]="disableNotifications",e[e.clickCreateAgent=12]="clickCreateAgent",e))($h||{}),Uh=(e=>(e[e.unknownAgentListAction=0]="unknownAgentListAction",e[e.open=1]="open",e[e.close=2]="close",e[e.selectAgent=3]="selectAgent",e[e.deleteAgent=4]="deleteAgent",e[e.pinAgent=5]="pinAgent",e[e.unpinAgent=6]="unpinAgent",e))(Uh||{}),jh=(e=>(e[e.unknown=0]="unknown",e[e.click=1]="click",e[e.open=2]="open",e[e.close=3]="close",e))(jh||{}),qh=(e=>(e[e.unknown=0]="unknown",e[e.chat=1]="chat",e[e.agent=2]="agent",e[e.remoteAgent=3]="remoteAgent",e))(qh||{}),Bh=(e=>(e[e.unknown=0]="unknown",e[e.addTask=1]="addTask",e[e.addSubtask=2]="addSubtask",e[e.updateTaskStatus=3]="updateTaskStatus",e[e.updateTaskName=4]="updateTaskName",e[e.updateTaskDescription=5]="updateTaskDescription",e[e.reorganizeTaskList=6]="reorganizeTaskList",e[e.deleteTask=7]="deleteTask",e[e.runSingleTask=8]="runSingleTask",e[e.runAllTasks=9]="runAllTasks",e[e.viewTaskList=10]="viewTaskList",e[e.exportTaskList=11]="exportTaskList",e[e.importTaskList=12]="importTaskList",e[e.syncTaskList=13]="syncTaskList",e[e.clearCompletedTasks=14]="clearCompletedTasks",e[e.clearAllTasks=15]="clearAllTasks",e[e.continueTasksInNewChat=16]="continueTasksInNewChat",e))(Bh||{}),Hh=(e=>(e[e.unknown=0]="unknown",e[e.user=1]="user",e[e.agent=2]="agent",e))(Hh||{}),kr=(e=>(e[e.unknown=0]="unknown",e[e.saveMemory=1]="saveMemory",e[e.discardMemory=2]="discardMemory",e[e.editMemory=3]="editMemory",e[e.viewMemories=4]="viewMemories",e[e.refreshMemories=5]="refreshMemories",e[e.filterByState=6]="filterByState",e[e.filterByVersion=7]="filterByVersion",e[e.openMemoriesFile=8]="openMemoriesFile",e[e.createMemory=9]="createMemory",e))(kr||{}),fl=(e=>(e[e.unknown=0]="unknown",e[e.user=1]="user",e[e.agent=2]="agent",e))(fl||{}),wr=(e=>(e[e.unset=0]="unset",e[e.positive=1]="positive",e[e.negative=2]="negative",e))(wr||{});function gl(e){return e.rootPath+"/"+e.relPath}var ml=(e=>(e.longRunning="longRunning",e.running="running",e.done="done",e))(ml||{}),Ha=(e=>(e.initializing="initializing",e.enabled="enabled",e.disabled="disabled",e.partial="partial",e))(Ha||{});function Ct(e){return Array.isArray?Array.isArray(e):_l(e)==="[object Array]"}function at(e){return typeof e=="string"}function yl(e){return typeof e=="number"}function Gh(e){return e===!0||e===!1||function(t){return vl(t)&&t!==null}(e)&&_l(e)=="[object Boolean]"}function vl(e){return typeof e=="object"}function Le(e){return e!=null}function ms(e){return!e.trim().length}function _l(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const zh=e=>`Missing ${e} property in key`,Vh=e=>`Property 'weight' in key '${e}' must be a positive integer`,Ji=Object.prototype.hasOwnProperty;class Zh{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let s=bl(r);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function bl(e){let t=null,n=null,r=null,s=1,a=null;if(at(e)||Ct(e))r=e,t=Xi(e),n=ha(e);else{if(!Ji.call(e,"name"))throw new Error(zh("name"));const i=e.name;if(r=i,Ji.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(Vh(i));t=Xi(i),n=ha(i),a=e.getFn}return{path:t,id:n,weight:s,src:r,getFn:a}}function Xi(e){return Ct(e)?e:e.split(".")}function ha(e){return Ct(e)?e.join("."):e}var z={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1;const s=(a,i,d)=>{if(Le(a))if(i[d]){const c=a[i[d]];if(!Le(c))return;if(d===i.length-1&&(at(c)||yl(c)||Gh(c)))n.push(function(l){return l==null?"":function(u){if(typeof u=="string")return u;let o=u+"";return o=="0"&&1/u==-1/0?"-0":o}(l)}(c));else if(Ct(c)){r=!0;for(let l=0,u=c.length;l<u;l+=1)s(c[l],i,d+1)}else i.length&&s(c,i,d+1)}else n.push(a)};return s(e,at(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const Wh=/[^ ]+/g;class Ga{constructor({getFn:t=z.getFn,fieldNormWeight:n=z.fieldNormWeight}={}){this.norm=function(r=1,s=3){const a=new Map,i=Math.pow(10,s);return{get(d){const c=d.match(Wh).length;if(a.has(c))return a.get(c);const l=1/Math.pow(c,.5*r),u=parseFloat(Math.round(l*i)/i);return a.set(c,u),u},clear(){a.clear()}}}(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,at(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();at(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Le(t)||ms(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((s,a)=>{let i=s.getFn?s.getFn(t):this.getFn(t,s.path);if(Le(i)){if(Ct(i)){let d=[];const c=[{nestedArrIndex:-1,value:i}];for(;c.length;){const{nestedArrIndex:l,value:u}=c.pop();if(Le(u))if(at(u)&&!ms(u)){let o={v:u,i:l,n:this.norm.get(u)};d.push(o)}else Ct(u)&&u.forEach((o,h)=>{c.push({nestedArrIndex:h,value:o})})}r.$[a]=d}else if(at(i)&&!ms(i)){let d={v:i,n:this.norm.get(i)};r.$[a]=d}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Sl(e,t,{getFn:n=z.getFn,fieldNormWeight:r=z.fieldNormWeight}={}){const s=new Ga({getFn:n,fieldNormWeight:r});return s.setKeys(e.map(bl)),s.setSources(t),s.create(),s}function cr(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:s=z.distance,ignoreLocation:a=z.ignoreLocation}={}){const i=t/e.length;if(a)return i;const d=Math.abs(r-n);return s?i+d/s:d?1:i}const jt=32;function Kh(e,t,n,{location:r=z.location,distance:s=z.distance,threshold:a=z.threshold,findAllMatches:i=z.findAllMatches,minMatchCharLength:d=z.minMatchCharLength,includeMatches:c=z.includeMatches,ignoreLocation:l=z.ignoreLocation}={}){if(t.length>jt)throw new Error(`Pattern length exceeds max of ${jt}.`);const u=t.length,o=e.length,h=Math.max(0,Math.min(r,o));let p=a,f=h;const m=d>1||c,v=m?Array(o):[];let y;for(;(y=e.indexOf(t,f))>-1;){let _=cr(t,{currentLocation:y,expectedLocation:h,distance:s,ignoreLocation:l});if(p=Math.min(_,p),f=y+u,m){let E=0;for(;E<u;)v[y+E]=1,E+=1}}f=-1;let b=[],k=1,w=u+o;const g=1<<u-1;for(let _=0;_<u;_+=1){let E=0,M=w;for(;E<M;)cr(t,{errors:_,currentLocation:h+M,expectedLocation:h,distance:s,ignoreLocation:l})<=p?E=M:w=M,M=Math.floor((w-E)/2+E);w=M;let N=Math.max(1,h-M+1),L=i?o:Math.min(h+M,o)+u,j=Array(L+2);j[L+1]=(1<<_)-1;for(let q=L;q>=N;q-=1){let B=q-1,W=n[e.charAt(B)];if(m&&(v[B]=+!!W),j[q]=(j[q+1]<<1|1)&W,_&&(j[q]|=(b[q+1]|b[q])<<1|1|b[q+1]),j[q]&g&&(k=cr(t,{errors:_,currentLocation:B,expectedLocation:h,distance:s,ignoreLocation:l}),k<=p)){if(p=k,f=B,f<=h)break;N=Math.max(1,2*h-f)}}if(cr(t,{errors:_+1,currentLocation:h,expectedLocation:h,distance:s,ignoreLocation:l})>p)break;b=j}const S={isMatch:f>=0,score:Math.max(.001,k)};if(m){const _=function(E=[],M=z.minMatchCharLength){let N=[],L=-1,j=-1,q=0;for(let B=E.length;q<B;q+=1){let W=E[q];W&&L===-1?L=q:W||L===-1||(j=q-1,j-L+1>=M&&N.push([L,j]),L=-1)}return E[q-1]&&q-L>=M&&N.push([L,q-1]),N}(v,d);_.length?c&&(S.indices=_):S.isMatch=!1}return S}function Yh(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<r-n-1}return t}class kl{constructor(t,{location:n=z.location,threshold:r=z.threshold,distance:s=z.distance,includeMatches:a=z.includeMatches,findAllMatches:i=z.findAllMatches,minMatchCharLength:d=z.minMatchCharLength,isCaseSensitive:c=z.isCaseSensitive,ignoreLocation:l=z.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:a,findAllMatches:i,minMatchCharLength:d,isCaseSensitive:c,ignoreLocation:l},this.pattern=c?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(h,p)=>{this.chunks.push({pattern:h,alphabet:Yh(h),startIndex:p})},o=this.pattern.length;if(o>jt){let h=0;const p=o%jt,f=o-p;for(;h<f;)u(this.pattern.substr(h,jt),h),h+=jt;if(p){const m=o-jt;u(this.pattern.substr(m),m)}}else u(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let f={isMatch:!0,score:0};return r&&(f.indices=[[0,t.length-1]]),f}const{location:s,distance:a,threshold:i,findAllMatches:d,minMatchCharLength:c,ignoreLocation:l}=this.options;let u=[],o=0,h=!1;this.chunks.forEach(({pattern:f,alphabet:m,startIndex:v})=>{const{isMatch:y,score:b,indices:k}=Kh(t,f,m,{location:s+v,distance:a,threshold:i,findAllMatches:d,minMatchCharLength:c,includeMatches:r,ignoreLocation:l});y&&(h=!0),o+=b,y&&k&&(u=[...u,...k])});let p={isMatch:h,score:h?o/this.chunks.length:1};return h&&r&&(p.indices=u),p}}class Pt{constructor(t){this.pattern=t}static isMultiMatch(t){return eo(t,this.multiRegex)}static isSingleMatch(t){return eo(t,this.singleRegex)}search(){}}function eo(e,t){const n=e.match(t);return n?n[1]:null}class wl extends Pt{constructor(t,{location:n=z.location,threshold:r=z.threshold,distance:s=z.distance,includeMatches:a=z.includeMatches,findAllMatches:i=z.findAllMatches,minMatchCharLength:d=z.minMatchCharLength,isCaseSensitive:c=z.isCaseSensitive,ignoreLocation:l=z.ignoreLocation}={}){super(t),this._bitapSearch=new kl(t,{location:n,threshold:r,distance:s,includeMatches:a,findAllMatches:i,minMatchCharLength:d,isCaseSensitive:c,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Cl extends Pt{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n,r=0;const s=[],a=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+a,s.push([n,r-1]);const i=!!s.length;return{isMatch:i,score:i?0:1,indices:s}}}const pa=[class extends Pt{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},Cl,class extends Pt{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends Pt{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Pt{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Pt{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends Pt{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=e.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},wl],to=pa.length,Qh=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Jh=new Set([wl.type,Cl.type]);class Xh{constructor(t,{isCaseSensitive:n=z.isCaseSensitive,includeMatches:r=z.includeMatches,minMatchCharLength:s=z.minMatchCharLength,ignoreLocation:a=z.ignoreLocation,findAllMatches:i=z.findAllMatches,location:d=z.location,threshold:c=z.threshold,distance:l=z.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:s,findAllMatches:i,ignoreLocation:a,location:d,threshold:c,distance:l},this.pattern=n?t:t.toLowerCase(),this.query=function(u,o={}){return u.split("|").map(h=>{let p=h.trim().split(Qh).filter(m=>m&&!!m.trim()),f=[];for(let m=0,v=p.length;m<v;m+=1){const y=p[m];let b=!1,k=-1;for(;!b&&++k<to;){const w=pa[k];let g=w.isMultiMatch(y);g&&(f.push(new w(g,o)),b=!0)}if(!b)for(k=-1;++k<to;){const w=pa[k];let g=w.isSingleMatch(y);if(g){f.push(new w(g,o));break}}}return f})}(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s}=this.options;t=s?t:t.toLowerCase();let a=0,i=[],d=0;for(let c=0,l=n.length;c<l;c+=1){const u=n[c];i.length=0,a=0;for(let o=0,h=u.length;o<h;o+=1){const p=u[o],{isMatch:f,indices:m,score:v}=p.search(t);if(!f){d=0,a=0,i.length=0;break}if(a+=1,d+=v,r){const y=p.constructor.type;Jh.has(y)?i=[...i,...m]:i.push(m)}}if(a){let o={isMatch:!0,score:d/a};return r&&(o.indices=i),o}}return{isMatch:!1,score:1}}}const fa=[];function ga(e,t){for(let n=0,r=fa.length;n<r;n+=1){let s=fa[n];if(s.condition(e,t))return new s(e,t)}return new kl(e,t)}const za="$and",ep="$or",no="$path",tp="$val",ys=e=>!(!e[za]&&!e[ep]),ro=e=>({[za]:Object.keys(e).map(t=>({[t]:e[t]}))});function xl(e,t,{auto:n=!0}={}){const r=s=>{let a=Object.keys(s);const i=(c=>!!c[no])(s);if(!i&&a.length>1&&!ys(s))return r(ro(s));if((c=>!Ct(c)&&vl(c)&&!ys(c))(s)){const c=i?s[no]:a[0],l=i?s[tp]:s[c];if(!at(l))throw new Error((o=>`Invalid value for key ${o}`)(c));const u={keyId:ha(c),pattern:l};return n&&(u.searcher=ga(l,t)),u}let d={children:[],operator:a[0]};return a.forEach(c=>{const l=s[c];Ct(l)&&l.forEach(u=>{d.children.push(r(u))})}),d};return ys(e)||(e=ro(e)),r(e)}function np(e,t){const n=e.matches;t.matches=[],Le(n)&&n.forEach(r=>{if(!Le(r.indices)||!r.indices.length)return;const{indices:s,value:a}=r;let i={indices:s,value:a};r.key&&(i.key=r.key.src),r.idx>-1&&(i.refIndex=r.idx),t.matches.push(i)})}function rp(e,t){t.score=e.score}class hn{constructor(t,n={},r){this.options={...z,...n},this.options.useExtendedSearch,this._keyStore=new Zh(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Ga))throw new Error("Incorrect 'index' type");this._myIndex=n||Sl(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Le(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const a=this._docs[r];t(a,r)&&(this.removeAt(r),r-=1,s-=1,n.push(a))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:a,sortFn:i,ignoreFieldNorm:d}=this.options;let c=at(t)?at(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(l,{ignoreFieldNorm:u=z.ignoreFieldNorm}){l.forEach(o=>{let h=1;o.matches.forEach(({key:p,norm:f,score:m})=>{const v=p?p.weight:null;h*=Math.pow(m===0&&v?Number.EPSILON:m,(v||1)*(u?1:f))}),o.score=h})}(c,{ignoreFieldNorm:d}),a&&c.sort(i),yl(n)&&n>-1&&(c=c.slice(0,n)),function(l,u,{includeMatches:o=z.includeMatches,includeScore:h=z.includeScore}={}){const p=[];return o&&p.push(np),h&&p.push(rp),l.map(f=>{const{idx:m}=f,v={item:u[m],refIndex:m};return p.length&&p.forEach(y=>{y(f,v)}),v})}(c,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(t){const n=ga(t,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:a,i,n:d})=>{if(!Le(a))return;const{isMatch:c,score:l,indices:u}=n.searchIn(a);c&&s.push({item:a,idx:i,matches:[{score:l,value:a,norm:d,indices:u}]})}),s}_searchLogical(t){const n=xl(t,this.options),r=(d,c,l)=>{if(!d.children){const{keyId:o,searcher:h}=d,p=this._findMatches({key:this._keyStore.get(o),value:this._myIndex.getValueForItemAtKeyId(c,o),searcher:h});return p&&p.length?[{idx:l,item:c,matches:p}]:[]}const u=[];for(let o=0,h=d.children.length;o<h;o+=1){const p=d.children[o],f=r(p,c,l);if(f.length)u.push(...f);else if(d.operator===za)return[]}return u},s=this._myIndex.records,a={},i=[];return s.forEach(({$:d,i:c})=>{if(Le(d)){let l=r(n,d,c);l.length&&(a[c]||(a[c]={idx:c,item:d,matches:[]},i.push(a[c])),l.forEach(({matches:u})=>{a[c].matches.push(...u)}))}}),i}_searchObjectList(t){const n=ga(t,this.options),{keys:r,records:s}=this._myIndex,a=[];return s.forEach(({$:i,i:d})=>{if(!Le(i))return;let c=[];r.forEach((l,u)=>{c.push(...this._findMatches({key:l,value:i[u],searcher:n}))}),c.length&&a.push({idx:d,item:i,matches:c})}),a}_findMatches({key:t,value:n,searcher:r}){if(!Le(n))return[];let s=[];if(Ct(n))n.forEach(({v:a,i,n:d})=>{if(!Le(a))return;const{isMatch:c,score:l,indices:u}=r.searchIn(a);c&&s.push({score:l,key:t,value:a,idx:i,norm:d,indices:u})});else{const{v:a,n:i}=n,{isMatch:d,score:c,indices:l}=r.searchIn(a);d&&s.push({score:c,key:t,value:a,norm:i,indices:l})}return s}}function ye(e,t){return t in e&&e[t]!==void 0}function El(e){return ye(e,"file")}function Pr(e){return ye(e,"recentFile")}function sp(e){return ye(e,"folder")}function er(e){return ye(e,"sourceFolder")}function Xr(e){return ye(e,"sourceFolderGroup")}function Va(e){return ye(e,"selection")}function ap(e){return ye(e,"externalSource")}function ey(e){return ye(e,"allDefaultContext")}function ty(e){return ye(e,"clearContext")}function es(e){return ye(e,"userGuidelines")}function ip(e){return ye(e,"agentMemories")}function Tl(e){return ye(e,"personality")}function Al(e){return ye(e,"rule")}function ny(e){return ye(e,"task")}function op(e){return ye(e,"group")}function so(e){const t=gl({rootPath:e.repoRoot,relPath:e.pathName}),n={label:Yc(e.pathName).split("/").filter(r=>r.trim()!=="").pop()||"",name:t,id:t};if(e.fullRange){const r=`:L${e.fullRange.startLineNumber}-${e.fullRange.endLineNumber}`;n.label+=r,n.name+=r,n.id+=r}else if(e.range){const r=`:L${e.range.start}-${e.range.stop}`;n.label+=r,n.name+=r,n.id+=r}return n}hn.version="7.0.0",hn.createIndex=Sl,hn.parseIndex=function(e,{getFn:t=z.getFn,fieldNormWeight:n=z.fieldNormWeight}={}){const{keys:r,records:s}=e,a=new Ga({getFn:t,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(s),a},hn.config=z,hn.parseQuery=xl,function(...e){fa.push(...e)}(Xh);const cp=({query:e,mentionables:t,returnAllIfNoResults:n=!0,threshold:r=1})=>{if(e.length<=1)return t;const s=new hn(t,{keys:["label"],threshold:r,minMatchCharLength:0,ignoreLocation:!0,includeScore:!0,useExtendedSearch:!1,shouldSort:!0,findAllMatches:!0}).search(e);return s.length===0&&n?t:s.map(a=>a.item)};var ee,ao;(function(e){e.assertEqual=t=>{},e.assertIs=function(t){},e.assertNever=function(t){throw new Error},e.arrayToEnum=t=>{const n={};for(const r of t)n[r]=r;return n},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(s=>typeof t[t[s]]!="number"),r={};for(const s of n)r[s]=t[s];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(n){return t[n]}),e.objectKeys=typeof Object.keys=="function"?t=>Object.keys(t):t=>{const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(r);return n},e.find=(t,n)=>{for(const r of t)if(n(r))return r},e.isInteger=typeof Number.isInteger=="function"?t=>Number.isInteger(t):t=>typeof t=="number"&&Number.isFinite(t)&&Math.floor(t)===t,e.joinValues=function(t,n=" | "){return t.map(r=>typeof r=="string"?`'${r}'`:r).join(n)},e.jsonStringifyReplacer=(t,n)=>typeof n=="bigint"?n.toString():n})(ee||(ee={})),function(e){e.mergeShapes=(t,n)=>({...t,...n})}(ao||(ao={}));const F=ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ot=e=>{switch(typeof e){case"undefined":return F.undefined;case"string":return F.string;case"number":return Number.isNaN(e)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(e)?F.array:e===null?F.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?F.promise:typeof Map<"u"&&e instanceof Map?F.map:typeof Set<"u"&&e instanceof Set?F.set:typeof Date<"u"&&e instanceof Date?F.date:F.object;default:return F.unknown}},A=ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let d=r,c=0;for(;c<i.path.length;){const l=i.path[c];c===i.path.length-1?(d[l]=d[l]||{_errors:[]},d[l]._errors.push(n(i))):d[l]=d[l]||{_errors:[]},d=d[l],c++}}};return s(this),r}static assert(t){if(!(t instanceof xt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];n[a]=n[a]||[],n[a].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}xt.create=e=>new xt(e);const ma=(e,t)=>{let n;switch(e.code){case A.invalid_type:n=e.received===F.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case A.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ee.jsonStringifyReplacer)}`;break;case A.unrecognized_keys:n=`Unrecognized key(s) in object: ${ee.joinValues(e.keys,", ")}`;break;case A.invalid_union:n="Invalid input";break;case A.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ee.joinValues(e.options)}`;break;case A.invalid_enum_value:n=`Invalid enum value. Expected ${ee.joinValues(e.options)}, received '${e.received}'`;break;case A.invalid_arguments:n="Invalid function arguments";break;case A.invalid_return_type:n="Invalid function return type";break;case A.invalid_date:n="Invalid date";break;case A.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ee.assertNever(e.validation):n=e.validation!=="regex"?`Invalid ${e.validation}`:"Invalid";break;case A.too_small:n=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"||e.type==="bigint"?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case A.too_big:n=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case A.custom:n="Invalid input";break;case A.invalid_intersection_types:n="Intersection results could not be merged";break;case A.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case A.not_finite:n="Number must be finite";break;default:n=t.defaultError,ee.assertNever(e)}return{message:n}};let lp=ma;function P(e,t){const n=lp,r=(s=>{const{data:a,path:i,errorMaps:d,issueData:c}=s,l=[...i,...c.path||[]],u={...c,path:l};if(c.message!==void 0)return{...c,path:l,message:c.message};let o="";const h=d.filter(p=>!!p).slice().reverse();for(const p of h)o=p(u,{data:a,defaultError:o}).message;return{...c,path:l,message:o}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ma?void 0:ma].filter(s=>!!s)});e.common.issues.push(r)}class Ee{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return H;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,i=await s.value;r.push({key:a,value:i})}return Ee.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return H;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value==="__proto__"||i.value===void 0&&!s.alwaysSet||(r[a.value]=i.value)}return{status:t.value,value:r}}}const H=Object.freeze({status:"aborted"}),ya=e=>({status:"dirty",value:e}),ze=e=>({status:"valid",value:e}),io=e=>e.status==="aborted",oo=e=>e.status==="dirty",wn=e=>e.status==="valid",Or=e=>typeof Promise<"u"&&e instanceof Promise;var $;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})($||($={}));class lt{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const co=(e,t)=>{if(wn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new xt(e.common.issues);return this._error=n,this._error}}};function Z(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,i)=>{const{message:d}=e;return a.code==="invalid_enum_value"?{message:d??i.defaultError}:i.data===void 0?{message:d??r??i.defaultError}:a.code!=="invalid_type"?{message:i.defaultError}:{message:d??n??i.defaultError}},description:s}}class Q{get description(){return this._def.description}_getType(t){return Ot(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ot(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ee,ctx:{common:t.parent.common,data:t.data,parsedType:Ot(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Or(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ot(t)},s=this._parseSync({data:t,path:r.path,parent:r});return co(r,s)}"~validate"(t){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ot(t)};if(!this["~standard"].async)try{const r=this._parseSync({data:t,path:[],parent:n});return wn(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(r=>wn(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ot(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(Or(s)?s:Promise.resolve(s));return co(r,a)}refine(t,n){const r=s=>typeof n=="string"||n===void 0?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const i=t(s),d=()=>a.addIssue({code:A.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>!!c||(d(),!1)):!!i||(d(),!1)})}refinement(t,n){return this._refinement((r,s)=>!!t(r)||(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Gt({schema:this,typeName:G.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return St.create(this,this._def)}nullable(){return Yt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ct.create(this)}promise(){return jr.create(this,this._def)}or(t){return Fr.create([this,t],this._def)}and(t){return $r.create(this,t,this._def)}transform(t){return new Gt({...Z(this._def),schema:this,typeName:G.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new qr({...Z(this._def),innerType:this,defaultValue:n,typeName:G.ZodDefault})}brand(){return new Pl({typeName:G.ZodBranded,type:this,...Z(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Br({...Z(this._def),innerType:this,catchValue:n,typeName:G.ZodCatch})}describe(t){return new this.constructor({...this._def,description:t})}pipe(t){return Ka.create(this,t)}readonly(){return Hr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const up=/^c[^\s-]{8,}$/i,dp=/^[0-9a-z]+$/,hp=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pp=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fp=/^[a-z0-9_-]{21}$/i,gp=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mp=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yp=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let vs;const vp=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_p=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bp=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Sp=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kp=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wp=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ml="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Cp=new RegExp(`^${Ml}$`);function Il(e){let t="[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function xp(e){let t=`${Ml}T${Il(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Ep(e,t){return!(t!=="v4"&&t||!vp.test(e))||!(t!=="v6"&&t||!bp.test(e))}function Tp(e,t){if(!gp.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return typeof s=="object"&&s!==null&&(!("typ"in s)||s?.typ==="JWT")&&!!s.alg&&(!t||s.alg===t)}catch{return!1}}function Ap(e,t){return!(t!=="v4"&&t||!_p.test(e))||!(t!=="v6"&&t||!Sp.test(e))}class bt extends Q{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==F.string){const s=this._getOrReturnCtx(t);return P(s,{code:A.invalid_type,expected:F.string,received:s.parsedType}),H}const n=new Ee;let r;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:A.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:A.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=t.data.length>s.value,i=t.data.length<s.value;(a||i)&&(r=this._getOrReturnCtx(t,r),a?P(r,{code:A.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&P(r,{code:A.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")yp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"email",code:A.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")vs||(vs=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),vs.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"emoji",code:A.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")pp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"uuid",code:A.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")fp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"nanoid",code:A.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")up.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"cuid",code:A.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")dp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"cuid2",code:A.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")hp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"ulid",code:A.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),P(r,{validation:"url",code:A.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"regex",code:A.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(t,r),P(r,{code:A.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(r=this._getOrReturnCtx(t,r),P(r,{code:A.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(r=this._getOrReturnCtx(t,r),P(r,{code:A.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?xp(s).test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{code:A.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Cp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{code:A.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?new RegExp(`^${Il(s)}$`).test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{code:A.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?mp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"duration",code:A.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Ep(t.data,s.version)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"ip",code:A.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Tp(t.data,s.alg)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"jwt",code:A.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Ap(t.data,s.version)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"cidr",code:A.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?kp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"base64",code:A.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?wp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"base64url",code:A.invalid_string,message:s.message}),n.dirty()):ee.assertNever(s);return{status:n.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:A.invalid_string,...$.errToObj(r)})}_addCheck(t){return new bt({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:t?.precision===void 0?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...$.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:t?.precision===void 0?null:t?.precision,...$.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...$.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...$.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...$.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...$.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...$.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...$.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...$.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...$.errToObj(n)})}nonempty(t){return this.min(1,$.errToObj(t))}trim(){return new bt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}function Mp(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r;return Number.parseInt(e.toFixed(s).replace(".",""))%Number.parseInt(t.toFixed(s).replace(".",""))/10**s}bt.create=e=>new bt({checks:[],typeName:G.ZodString,coerce:e?.coerce??!1,...Z(e)});class Cn extends Q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==F.number){const s=this._getOrReturnCtx(t);return P(s,{code:A.invalid_type,expected:F.number,received:s.parsedType}),H}let n;const r=new Ee;for(const s of this._def.checks)s.kind==="int"?ee.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),P(n,{code:A.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:A.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:A.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?Mp(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),P(n,{code:A.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),P(n,{code:A.not_finite,message:s.message}),r.dirty()):ee.assertNever(s);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,$.toString(n))}gt(t,n){return this.setLimit("min",t,!1,$.toString(n))}lte(t,n){return this.setLimit("max",t,!0,$.toString(n))}lt(t,n){return this.setLimit("max",t,!1,$.toString(n))}setLimit(t,n,r,s){return new Cn({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:$.toString(s)}]})}_addCheck(t){return new Cn({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:$.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:$.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ee.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Cn.create=e=>new Cn({checks:[],typeName:G.ZodNumber,coerce:e?.coerce||!1,...Z(e)});class tr extends Q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==F.bigint)return this._getInvalidInput(t);let n;const r=new Ee;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:A.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:A.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),P(n,{code:A.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):ee.assertNever(s);return{status:r.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return P(n,{code:A.invalid_type,expected:F.bigint,received:n.parsedType}),H}gte(t,n){return this.setLimit("min",t,!0,$.toString(n))}gt(t,n){return this.setLimit("min",t,!1,$.toString(n))}lte(t,n){return this.setLimit("max",t,!0,$.toString(n))}lt(t,n){return this.setLimit("max",t,!1,$.toString(n))}setLimit(t,n,r,s){return new tr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:$.toString(s)}]})}_addCheck(t){return new tr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:$.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}tr.create=e=>new tr({checks:[],typeName:G.ZodBigInt,coerce:e?.coerce??!1,...Z(e)});class va extends Q{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==F.boolean){const n=this._getOrReturnCtx(t);return P(n,{code:A.invalid_type,expected:F.boolean,received:n.parsedType}),H}return ze(t.data)}}va.create=e=>new va({typeName:G.ZodBoolean,coerce:e?.coerce||!1,...Z(e)});class Nr extends Q{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==F.date){const s=this._getOrReturnCtx(t);return P(s,{code:A.invalid_type,expected:F.date,received:s.parsedType}),H}if(Number.isNaN(t.data.getTime()))return P(this._getOrReturnCtx(t),{code:A.invalid_date}),H;const n=new Ee;let r;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:A.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:A.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):ee.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Nr({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:$.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:$.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Nr.create=e=>new Nr({checks:[],coerce:e?.coerce||!1,typeName:G.ZodDate,...Z(e)});class lo extends Q{_parse(t){if(this._getType(t)!==F.symbol){const n=this._getOrReturnCtx(t);return P(n,{code:A.invalid_type,expected:F.symbol,received:n.parsedType}),H}return ze(t.data)}}lo.create=e=>new lo({typeName:G.ZodSymbol,...Z(e)});class Lr extends Q{_parse(t){if(this._getType(t)!==F.undefined){const n=this._getOrReturnCtx(t);return P(n,{code:A.invalid_type,expected:F.undefined,received:n.parsedType}),H}return ze(t.data)}}Lr.create=e=>new Lr({typeName:G.ZodUndefined,...Z(e)});class Dr extends Q{_parse(t){if(this._getType(t)!==F.null){const n=this._getOrReturnCtx(t);return P(n,{code:A.invalid_type,expected:F.null,received:n.parsedType}),H}return ze(t.data)}}Dr.create=e=>new Dr({typeName:G.ZodNull,...Z(e)});class uo extends Q{constructor(){super(...arguments),this._any=!0}_parse(t){return ze(t.data)}}uo.create=e=>new uo({typeName:G.ZodAny,...Z(e)});class _a extends Q{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ze(t.data)}}_a.create=e=>new _a({typeName:G.ZodUnknown,...Z(e)});class Dt extends Q{_parse(t){const n=this._getOrReturnCtx(t);return P(n,{code:A.invalid_type,expected:F.never,received:n.parsedType}),H}}Dt.create=e=>new Dt({typeName:G.ZodNever,...Z(e)});class ho extends Q{_parse(t){if(this._getType(t)!==F.undefined){const n=this._getOrReturnCtx(t);return P(n,{code:A.invalid_type,expected:F.void,received:n.parsedType}),H}return ze(t.data)}}ho.create=e=>new ho({typeName:G.ZodVoid,...Z(e)});class ct extends Q{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==F.array)return P(n,{code:A.invalid_type,expected:F.array,received:n.parsedType}),H;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,d=n.data.length<s.exactLength.value;(i||d)&&(P(n,{code:i?A.too_big:A.too_small,minimum:d?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(P(n,{code:A.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(P(n,{code:A.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,d)=>s.type._parseAsync(new lt(n,i,n.path,d)))).then(i=>Ee.mergeArray(r,i));const a=[...n.data].map((i,d)=>s.type._parseSync(new lt(n,i,n.path,d)));return Ee.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new ct({...this._def,minLength:{value:t,message:$.toString(n)}})}max(t,n){return new ct({...this._def,maxLength:{value:t,message:$.toString(n)}})}length(t,n){return new ct({...this._def,exactLength:{value:t,message:$.toString(n)}})}nonempty(t){return this.min(1,t)}}function pn(e){if(e instanceof ie){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=St.create(pn(r))}return new ie({...e._def,shape:()=>t})}return e instanceof ct?new ct({...e._def,type:pn(e.element)}):e instanceof St?St.create(pn(e.unwrap())):e instanceof Yt?Yt.create(pn(e.unwrap())):e instanceof Wt?Wt.create(e.items.map(t=>pn(t))):e}ct.create=(e,t)=>new ct({type:e,minLength:null,maxLength:null,exactLength:null,typeName:G.ZodArray,...Z(t)});class ie extends Q{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ee.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==F.object){const c=this._getOrReturnCtx(t);return P(c,{code:A.invalid_type,expected:F.object,received:c.parsedType}),H}const{status:n,ctx:r}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof Dt&&this._def.unknownKeys==="strip"))for(const c in r.data)a.includes(c)||i.push(c);const d=[];for(const c of a){const l=s[c],u=r.data[c];d.push({key:{status:"valid",value:c},value:l._parse(new lt(r,u,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof Dt){const c=this._def.unknownKeys;if(c==="passthrough")for(const l of i)d.push({key:{status:"valid",value:l},value:{status:"valid",value:r.data[l]}});else if(c==="strict")i.length>0&&(P(r,{code:A.unrecognized_keys,keys:i}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const l of i){const u=r.data[l];d.push({key:{status:"valid",value:l},value:c._parse(new lt(r,u,r.path,l)),alwaysSet:l in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const l of d){const u=await l.key,o=await l.value;c.push({key:u,value:o,alwaysSet:l.alwaysSet})}return c}).then(c=>Ee.mergeObjectSync(n,c)):Ee.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(t){return $.errToObj,new ie({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{const s=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:$.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new ie({...this._def,unknownKeys:"strip"})}passthrough(){return new ie({...this._def,unknownKeys:"passthrough"})}extend(t){return new ie({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ie({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:G.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ie({...this._def,catchall:t})}pick(t){const n={};for(const r of ee.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ie({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ee.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new ie({...this._def,shape:()=>n})}deepPartial(){return pn(this)}partial(t){const n={};for(const r of ee.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new ie({...this._def,shape:()=>n})}required(t){const n={};for(const r of ee.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof St;)s=s._def.innerType;n[r]=s}return new ie({...this._def,shape:()=>n})}keyof(){return Rl(ee.objectKeys(this.shape))}}ie.create=(e,t)=>new ie({shape:()=>e,unknownKeys:"strip",catchall:Dt.create(),typeName:G.ZodObject,...Z(t)}),ie.strictCreate=(e,t)=>new ie({shape:()=>e,unknownKeys:"strict",catchall:Dt.create(),typeName:G.ZodObject,...Z(t)}),ie.lazycreate=(e,t)=>new ie({shape:e,unknownKeys:"strip",catchall:Dt.create(),typeName:G.ZodObject,...Z(t)});class Fr extends Q{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(function(s){for(const i of s)if(i.result.status==="valid")return i.result;for(const i of s)if(i.result.status==="dirty")return n.common.issues.push(...i.ctx.common.issues),i.result;const a=s.map(i=>new xt(i.ctx.common.issues));return P(n,{code:A.invalid_union,unionErrors:a}),H});{let s;const a=[];for(const d of r){const c={...n,common:{...n.common,issues:[]},parent:null},l=d._parseSync({data:n.data,path:n.path,parent:c});if(l.status==="valid")return l;l.status!=="dirty"||s||(s={result:l,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const i=a.map(d=>new xt(d));return P(n,{code:A.invalid_union,unionErrors:i}),H}}get options(){return this._def.options}}Fr.create=(e,t)=>new Fr({options:e,typeName:G.ZodUnion,...Z(t)});const Rt=e=>e instanceof Sa?Rt(e.schema):e instanceof Gt?Rt(e.innerType()):e instanceof Ur?[e.value]:e instanceof Kt?e.options:e instanceof ka?ee.objectValues(e.enum):e instanceof qr?Rt(e._def.innerType):e instanceof Lr?[void 0]:e instanceof Dr?[null]:e instanceof St?[void 0,...Rt(e.unwrap())]:e instanceof Yt?[null,...Rt(e.unwrap())]:e instanceof Pl||e instanceof Hr?Rt(e.unwrap()):e instanceof Br?Rt(e._def.innerType):[];class Za extends Q{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==F.object)return P(n,{code:A.invalid_type,expected:F.object,received:n.parsedType}),H;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(P(n,{code:A.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),H)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const a of n){const i=Rt(a.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const d of i){if(s.has(d))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(d)}`);s.set(d,a)}}return new Za({typeName:G.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Z(r)})}}function ba(e,t){const n=Ot(e),r=Ot(t);if(e===t)return{valid:!0,data:e};if(n===F.object&&r===F.object){const s=ee.objectKeys(t),a=ee.objectKeys(e).filter(d=>s.indexOf(d)!==-1),i={...e,...t};for(const d of a){const c=ba(e[d],t[d]);if(!c.valid)return{valid:!1};i[d]=c.data}return{valid:!0,data:i}}if(n===F.array&&r===F.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const i=ba(e[a],t[a]);if(!i.valid)return{valid:!1};s.push(i.data)}return{valid:!0,data:s}}return n===F.date&&r===F.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class $r extends Q{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,i)=>{if(io(a)||io(i))return H;const d=ba(a.value,i.value);return d.valid?((oo(a)||oo(i))&&n.dirty(),{status:n.value,value:d.data}):(P(r,{code:A.invalid_intersection_types}),H)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}$r.create=(e,t,n)=>new $r({left:e,right:t,typeName:G.ZodIntersection,...Z(n)});class Wt extends Q{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==F.array)return P(r,{code:A.invalid_type,expected:F.array,received:r.parsedType}),H;if(r.data.length<this._def.items.length)return P(r,{code:A.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),H;!this._def.rest&&r.data.length>this._def.items.length&&(P(r,{code:A.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,i)=>{const d=this._def.items[i]||this._def.rest;return d?d._parse(new lt(r,a,r.path,i)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Ee.mergeArray(n,a)):Ee.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Wt({...this._def,rest:t})}}Wt.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wt({items:e,typeName:G.ZodTuple,rest:null,...Z(t)})};class Wa extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==F.object)return P(r,{code:A.invalid_type,expected:F.object,received:r.parsedType}),H;const s=[],a=this._def.keyType,i=this._def.valueType;for(const d in r.data)s.push({key:a._parse(new lt(r,d,r.path,d)),value:i._parse(new lt(r,r.data[d],r.path,d)),alwaysSet:d in r.data});return r.common.async?Ee.mergeObjectAsync(n,s):Ee.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return new Wa(n instanceof Q?{keyType:t,valueType:n,typeName:G.ZodRecord,...Z(r)}:{keyType:bt.create(),valueType:t,typeName:G.ZodRecord,...Z(n)})}}class po extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==F.map)return P(r,{code:A.invalid_type,expected:F.map,received:r.parsedType}),H;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([d,c],l)=>({key:s._parse(new lt(r,d,r.path,[l,"key"])),value:a._parse(new lt(r,c,r.path,[l,"value"]))}));if(r.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const c of i){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return H;l.status!=="dirty"&&u.status!=="dirty"||n.dirty(),d.set(l.value,u.value)}return{status:n.value,value:d}})}{const d=new Map;for(const c of i){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return H;l.status!=="dirty"&&u.status!=="dirty"||n.dirty(),d.set(l.value,u.value)}return{status:n.value,value:d}}}}po.create=(e,t,n)=>new po({valueType:t,keyType:e,typeName:G.ZodMap,...Z(n)});class nr extends Q{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==F.set)return P(r,{code:A.invalid_type,expected:F.set,received:r.parsedType}),H;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(P(r,{code:A.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(P(r,{code:A.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function i(c){const l=new Set;for(const u of c){if(u.status==="aborted")return H;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const d=[...r.data.values()].map((c,l)=>a._parse(new lt(r,c,r.path,l)));return r.common.async?Promise.all(d).then(c=>i(c)):i(d)}min(t,n){return new nr({...this._def,minSize:{value:t,message:$.toString(n)}})}max(t,n){return new nr({...this._def,maxSize:{value:t,message:$.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}nr.create=(e,t)=>new nr({valueType:e,minSize:null,maxSize:null,typeName:G.ZodSet,...Z(t)});class Sa extends Q{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Sa.create=(e,t)=>new Sa({getter:e,typeName:G.ZodLazy,...Z(t)});class Ur extends Q{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return P(n,{received:n.data,code:A.invalid_literal,expected:this._def.value}),H}return{status:"valid",value:t.data}}get value(){return this._def.value}}function Rl(e,t){return new Kt({values:e,typeName:G.ZodEnum,...Z(t)})}Ur.create=(e,t)=>new Ur({value:e,typeName:G.ZodLiteral,...Z(t)});class Kt extends Q{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{expected:ee.joinValues(r),received:n.parsedType,code:A.invalid_type}),H}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{received:n.data,code:A.invalid_enum_value,options:r}),H}return ze(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Kt.create(t,{...this._def,...n})}exclude(t,n=this._def){return Kt.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Kt.create=Rl;class ka extends Q{_parse(t){const n=ee.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==F.string&&r.parsedType!==F.number){const s=ee.objectValues(n);return P(r,{expected:ee.joinValues(s),received:r.parsedType,code:A.invalid_type}),H}if(this._cache||(this._cache=new Set(ee.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=ee.objectValues(n);return P(r,{received:r.data,code:A.invalid_enum_value,options:s}),H}return ze(t.data)}get enum(){return this._def.values}}ka.create=(e,t)=>new ka({values:e,typeName:G.ZodNativeEnum,...Z(t)});class jr extends Q{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==F.promise&&n.common.async===!1)return P(n,{code:A.invalid_type,expected:F.promise,received:n.parsedType}),H;const r=n.parsedType===F.promise?n.data:Promise.resolve(n.data);return ze(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}jr.create=(e,t)=>new jr({type:e,typeName:G.ZodPromise,...Z(t)});class Gt extends Q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===G.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:i=>{P(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async d=>{if(n.value==="aborted")return H;const c=await this._def.schema._parseAsync({data:d,path:r.path,parent:r});return c.status==="aborted"?H:c.status==="dirty"||n.value==="dirty"?ya(c.value):c});{if(n.value==="aborted")return H;const d=this._def.schema._parseSync({data:i,path:r.path,parent:r});return d.status==="aborted"?H:d.status==="dirty"||n.value==="dirty"?ya(d.value):d}}if(s.type==="refinement"){const i=d=>{const c=s.refinement(d,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?H:(d.status==="dirty"&&n.dirty(),i(d.value),{status:n.value,value:d.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>d.status==="aborted"?H:(d.status==="dirty"&&n.dirty(),i(d.value).then(()=>({status:n.value,value:d.value}))))}if(s.type==="transform"){if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!wn(i))return H;const d=s.transform(i.value,a);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>wn(i)?Promise.resolve(s.transform(i.value,a)).then(d=>({status:n.value,value:d})):H)}ee.assertNever(s)}}Gt.create=(e,t,n)=>new Gt({schema:e,typeName:G.ZodEffects,effect:t,...Z(n)}),Gt.createWithPreprocess=(e,t,n)=>new Gt({schema:t,effect:{type:"preprocess",transform:e},typeName:G.ZodEffects,...Z(n)});class St extends Q{_parse(t){return this._getType(t)===F.undefined?ze(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}St.create=(e,t)=>new St({innerType:e,typeName:G.ZodOptional,...Z(t)});class Yt extends Q{_parse(t){return this._getType(t)===F.null?ze(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yt.create=(e,t)=>new Yt({innerType:e,typeName:G.ZodNullable,...Z(t)});class qr extends Q{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===F.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}qr.create=(e,t)=>new qr({innerType:e,typeName:G.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Z(t)});class Br extends Q{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Or(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new xt(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new xt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Br.create=(e,t)=>new Br({innerType:e,typeName:G.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Z(t)});class fo extends Q{_parse(t){if(this._getType(t)!==F.nan){const n=this._getOrReturnCtx(t);return P(n,{code:A.invalid_type,expected:F.nan,received:n.parsedType}),H}return{status:"valid",value:t.data}}}fo.create=e=>new fo({typeName:G.ZodNaN,...Z(e)});class Pl extends Q{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ka extends Q{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?H:s.status==="dirty"?(n.dirty(),ya(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?H:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Ka({in:t,out:n,typeName:G.ZodPipeline})}}class Hr extends Q{_parse(t){const n=this._def.innerType._parse(t),r=s=>(wn(s)&&(s.value=Object.freeze(s.value)),s);return Or(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}var G;Hr.create=(e,t)=>new Hr({innerType:e,typeName:G.ZodReadonly,...Z(t)}),function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(G||(G={}));const Tt=bt.create,ry=Cn.create,sy=va.create,ay=Lr.create,iy=Dr.create,oy=_a.create;Dt.create;const cy=ct.create,At=ie.create,ly=Fr.create,go=Za.create;$r.create,Wt.create;const uy=Wa.create,lr=Ur.create,ur=Kt.create;jr.create,St.create,Yt.create;var Ip=(e=>(e.readFile="read-file",e.saveFile="save-file",e.editFile="edit-file",e.clarify="clarify",e.onboardingSubAgent="onboarding-sub-agent",e.launchProcess="launch-process",e.killProcess="kill-process",e.readProcess="read-process",e.writeProcess="write-process",e.listProcesses="list-processes",e.waitProcess="wait-process",e.openBrowser="open-browser",e.strReplaceEditor="str-replace-editor",e.remember="remember",e.diagnostics="diagnostics",e.webFetch="web-fetch",e.setupScript="setup-script",e.readTerminal="read-terminal",e.gitCommitRetrieval="git-commit-retrieval",e.memoryRetrieval="memory-retrieval",e.startWorkerAgent="start_worker_agent",e.readWorkerState="read_worker_state",e.waitForWorkerAgent="wait_for_worker_agent",e.sendInstructionToWorkerAgent="send_instruction_to_worker_agent",e.stopWorkerAgent="stop_worker_agent",e.deleteWorkerAgent="delete_worker_agent",e.readWorkerAgentEdits="read_worker_agent_edits",e.applyWorkerAgentEdits="apply_worker_agent_edits",e.LocalSubAgent="local-sub-agent",e))(Ip||{}),Rp=(e=>(e.remoteToolHost="remoteToolHost",e.localToolHost="localToolHost",e.sidecarToolHost="sidecarToolHost",e.mcpHost="mcpHost",e))(Rp||{}),Pp=(e=>(e[e.ContentText=0]="ContentText",e[e.ContentImage=1]="ContentImage",e))(Pp||{}),Op=(e=>(e[e.Unsafe=0]="Unsafe",e[e.Safe=1]="Safe",e[e.Check=2]="Check",e))(Op||{}),Np=(e=>(e[e.Unknown=0]="Unknown",e[e.WebSearch=1]="WebSearch",e[e.GitHubApi=8]="GitHubApi",e[e.GitHubAppReadonlyApi=18]="GitHubAppReadonlyApi",e[e.GitHubAppPostComment=19]="GitHubAppPostComment",e[e.Linear=12]="Linear",e[e.Jira=13]="Jira",e[e.Confluence=14]="Confluence",e[e.Notion=15]="Notion",e[e.Supabase=16]="Supabase",e[e.Glean=17]="Glean",e))(Np||{});At({toolName:Tt().describe("Tool name to apply permission rule to. Can be any ToolType value (RemoteToolId, LocalToolType, SidecarToolType, or MCPToolType string)"),permission:go("type",[At({type:ur(["allow","deny","ask-user"])}),At({type:lr("webhook-policy"),webhookUrl:Tt().describe("URL to send the request to")}),At({type:lr("script-policy"),script:Tt().describe("Path to the script file to execute")})]),eventType:ur(["tool-call","tool-response"]).default("tool-call").optional(),shellInputRegex:Tt().optional()}),At({"tool-name":Tt().describe("Tool name to apply permission rule to. Can be any ToolType value (RemoteToolId, LocalToolType, SidecarToolType, or MCPToolType string)"),permission:go("type",[At({type:ur(["allow","deny","ask-user"])}),At({type:lr("webhook-policy"),"webhook-url":Tt().describe("URL to send the request to")}),At({type:lr("script-policy"),script:Tt().describe("Path to the script file to execute")})]),"event-type":ur(["tool-call","tool-response"]).default("tool-call").optional(),"shell-input-regex":Tt().optional()});var mo,_s={exports:{}},bs={exports:{}},Ke={},Te={};function Ae(){if(mo)return Te;mo=1,Te.__esModule=!0,Te.extend=s,Te.indexOf=function(c,l){for(var u=0,o=c.length;u<o;u++)if(c[u]===l)return u;return-1},Te.escapeExpression=function(c){if(typeof c!="string"){if(c&&c.toHTML)return c.toHTML();if(c==null)return"";if(!c)return c+"";c=""+c}return n.test(c)?c.replace(t,r):c},Te.isEmpty=function(c){return!c&&c!==0||!(!d(c)||c.length!==0)},Te.createFrame=function(c){var l=s({},c);return l._parent=c,l},Te.blockParams=function(c,l){return c.path=l,c},Te.appendContextPath=function(c,l){return(c?c+".":"")+l};var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},t=/[&<>"'`=]/g,n=/[&<>"'`=]/;function r(c){return e[c]}function s(c){for(var l=1;l<arguments.length;l++)for(var u in arguments[l])Object.prototype.hasOwnProperty.call(arguments[l],u)&&(c[u]=arguments[l][u]);return c}var a=Object.prototype.toString;Te.toString=a;var i=function(c){return typeof c=="function"};i(/x/)&&(Te.isFunction=i=function(c){return typeof c=="function"&&a.call(c)==="[object Function]"}),Te.isFunction=i;var d=Array.isArray||function(c){return!(!c||typeof c!="object")&&a.call(c)==="[object Array]"};return Te.isArray=d,Te}var yo,Ss={exports:{}};function Je(){return yo||(yo=1,function(e,t){t.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(s,a){var i=a&&a.loc,d=void 0,c=void 0,l=void 0,u=void 0;i&&(d=i.start.line,c=i.end.line,l=i.start.column,u=i.end.column,s+=" - "+d+":"+l);for(var o=Error.prototype.constructor.call(this,s),h=0;h<n.length;h++)this[n[h]]=o[n[h]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{i&&(this.lineNumber=d,this.endLineNumber=c,Object.defineProperty?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=l,this.endColumn=u))}catch{}}r.prototype=new Error,t.default=r,e.exports=t.default}(Ss,Ss.exports)),Ss.exports}var vo,Bn={},ks={exports:{}},_o,ws={exports:{}},bo,Cs={exports:{}},So,xs={exports:{}},ko,Es={exports:{}},wo,Ts={exports:{}},Co,xo,As={exports:{}};function Ol(){if(xo)return Bn;function e(y){return y&&y.__esModule?y:{default:y}}xo=1,Bn.__esModule=!0,Bn.registerDefaultHelpers=function(y){s.default(y),i.default(y),c.default(y),u.default(y),h.default(y),f.default(y),v.default(y)},Bn.moveHelperToHooks=function(y,b,k){y.helpers[b]&&(y.hooks[b]=y.helpers[b],k||delete y.helpers[b])};var t,n,r=(vo||(vo=1,function(y,b){b.__esModule=!0;var k=Ae();b.default=function(w){w.registerHelper("blockHelperMissing",function(g,S){var _=S.inverse,E=S.fn;if(g===!0)return E(this);if(g===!1||g==null)return _(this);if(k.isArray(g))return g.length>0?(S.ids&&(S.ids=[S.name]),w.helpers.each(g,S)):_(this);if(S.data&&S.ids){var M=k.createFrame(S.data);M.contextPath=k.appendContextPath(S.data.contextPath,S.name),S={data:M}}return E(g,S)})},y.exports=b.default}(ks,ks.exports)),ks.exports),s=e(r),a=(_o||(_o=1,function(y,b){b.__esModule=!0;var k,w=Ae(),g=(k=Je())&&k.__esModule?k:{default:k};b.default=function(S){S.registerHelper("each",function(_,E){if(!E)throw new g.default("Must pass iterator to #each");var M,N=E.fn,L=E.inverse,j=0,q="",B=void 0,W=void 0;function ne(x,R,V){B&&(B.key=x,B.index=R,B.first=R===0,B.last=!!V,W&&(B.contextPath=W+x)),q+=N(_[x],{data:B,blockParams:w.blockParams([_[x],x],[W+x,null])})}if(E.data&&E.ids&&(W=w.appendContextPath(E.data.contextPath,E.ids[0])+"."),w.isFunction(_)&&(_=_.call(this)),E.data&&(B=w.createFrame(E.data)),_&&typeof _=="object")if(w.isArray(_))for(var ve=_.length;j<ve;j++)j in _&&ne(j,j,j===_.length-1);else if(typeof Symbol=="function"&&_[Symbol.iterator]){for(var $e=[],C=_[Symbol.iterator](),T=C.next();!T.done;T=C.next())$e.push(T.value);for(ve=(_=$e).length;j<ve;j++)ne(j,j,j===_.length-1)}else M=void 0,Object.keys(_).forEach(function(x){M!==void 0&&ne(M,j-1),M=x,j++}),M!==void 0&&ne(M,j-1,!0);return j===0&&(q=L(this)),q})},y.exports=b.default}(ws,ws.exports)),ws.exports),i=e(a),d=(bo||(bo=1,function(y,b){b.__esModule=!0;var k,w=(k=Je())&&k.__esModule?k:{default:k};b.default=function(g){g.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new w.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},y.exports=b.default}(Cs,Cs.exports)),Cs.exports),c=e(d),l=(So||(So=1,function(y,b){b.__esModule=!0;var k,w=Ae(),g=(k=Je())&&k.__esModule?k:{default:k};b.default=function(S){S.registerHelper("if",function(_,E){if(arguments.length!=2)throw new g.default("#if requires exactly one argument");return w.isFunction(_)&&(_=_.call(this)),!E.hash.includeZero&&!_||w.isEmpty(_)?E.inverse(this):E.fn(this)}),S.registerHelper("unless",function(_,E){if(arguments.length!=2)throw new g.default("#unless requires exactly one argument");return S.helpers.if.call(this,_,{fn:E.inverse,inverse:E.fn,hash:E.hash})})},y.exports=b.default}(xs,xs.exports)),xs.exports),u=e(l),o=(ko||(ko=1,t=Es,(n=Es.exports).__esModule=!0,n.default=function(y){y.registerHelper("log",function(){for(var b=[void 0],k=arguments[arguments.length-1],w=0;w<arguments.length-1;w++)b.push(arguments[w]);var g=1;k.hash.level!=null?g=k.hash.level:k.data&&k.data.level!=null&&(g=k.data.level),b[0]=g,y.log.apply(y,b)})},t.exports=n.default),Es.exports),h=e(o),p=function(){return wo||(wo=1,y=Ts,(b=Ts.exports).__esModule=!0,b.default=function(k){k.registerHelper("lookup",function(w,g,S){return w&&S.lookupProperty(w,g)})},y.exports=b.default),Ts.exports;var y,b}(),f=e(p),m=(Co||(Co=1,function(y,b){b.__esModule=!0;var k,w=Ae(),g=(k=Je())&&k.__esModule?k:{default:k};b.default=function(S){S.registerHelper("with",function(_,E){if(arguments.length!=2)throw new g.default("#with requires exactly one argument");w.isFunction(_)&&(_=_.call(this));var M=E.fn;if(w.isEmpty(_))return E.inverse(this);var N=E.data;return E.data&&E.ids&&((N=w.createFrame(E.data)).contextPath=w.appendContextPath(E.data.contextPath,E.ids[0])),M(_,{data:N,blockParams:w.blockParams([_],[N&&N.contextPath])})})},y.exports=b.default}(As,As.exports)),As.exports),v=e(m);return Bn}var Eo,To,dr={},Ms={exports:{}};function Lp(){if(To)return dr;To=1,dr.__esModule=!0,dr.registerDefaultDecorators=function(r){n.default(r)};var e,t=(Eo||(Eo=1,function(r,s){s.__esModule=!0;var a=Ae();s.default=function(i){i.registerDecorator("inline",function(d,c,l,u){var o=d;return c.partials||(c.partials={},o=function(h,p){var f=l.partials;l.partials=a.extend({},f,c.partials);var m=d(h,p);return l.partials=f,m}),c.partials[u.args[0]]=u.fn,o})},r.exports=s.default}(Ms,Ms.exports)),Ms.exports),n=(e=t)&&e.__esModule?e:{default:e};return dr}var Ao,Is={exports:{}};function Nl(){return Ao||(Ao=1,function(e,t){t.__esModule=!0;var n=Ae(),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(s){if(typeof s=="string"){var a=n.indexOf(r.methodMap,s.toLowerCase());s=a>=0?a:parseInt(s,10)}return s},log:function(s){if(s=r.lookupLevel(s),typeof console<"u"&&r.lookupLevel(r.level)<=s){var a=r.methodMap[s];console[a]||(a="log");for(var i=arguments.length,d=Array(i>1?i-1:0),c=1;c<i;c++)d[c-1]=arguments[c];console[a].apply(console,d)}}};t.default=r,e.exports=t.default}(Is,Is.exports)),Is.exports}var Mo,Io,Ro,sn={},hr={};function Ll(){if(Io)return sn;Io=1,sn.__esModule=!0,sn.createProtoAccessControl=function(i){var d=Object.create(null);d.constructor=!1,d.__defineGetter__=!1,d.__defineSetter__=!1,d.__lookupGetter__=!1;var c=Object.create(null);return c.__proto__=!1,{properties:{whitelist:t.createNewLookupObject(c,i.allowedProtoProperties),defaultValue:i.allowProtoPropertiesByDefault},methods:{whitelist:t.createNewLookupObject(d,i.allowedProtoMethods),defaultValue:i.allowProtoMethodsByDefault}}},sn.resultIsAllowed=function(i,d,c){return a(typeof i=="function"?d.methods:d.properties,c)},sn.resetLoggedProperties=function(){Object.keys(s).forEach(function(i){delete s[i]})};var e,t=function(){if(Mo)return hr;Mo=1,hr.__esModule=!0,hr.createNewLookupObject=function(){for(var d=arguments.length,c=Array(d),l=0;l<d;l++)c[l]=arguments[l];return i.extend.apply(void 0,[Object.create(null)].concat(c))};var i=Ae();return hr}(),n=Nl(),r=(e=n)&&e.__esModule?e:{default:e},s=Object.create(null);function a(i,d){return i.whitelist[d]!==void 0?i.whitelist[d]===!0:i.defaultValue!==void 0?i.defaultValue:(function(c){s[c]!==!0&&(s[c]=!0,r.default.log("error",'Handlebars: Access has been denied to resolve the property "'+c+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}(d),!1)}return sn}function Ya(){if(Ro)return Ke;function e(u){return u&&u.__esModule?u:{default:u}}Ro=1,Ke.__esModule=!0,Ke.HandlebarsEnvironment=c;var t=Ae(),n=e(Je()),r=Ol(),s=Lp(),a=e(Nl()),i=Ll();Ke.VERSION="4.7.8",Ke.COMPILER_REVISION=8,Ke.LAST_COMPATIBLE_COMPILER_REVISION=7,Ke.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var d="[object Object]";function c(u,o,h){this.helpers=u||{},this.partials=o||{},this.decorators=h||{},r.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}c.prototype={constructor:c,logger:a.default,log:a.default.log,registerHelper:function(u,o){if(t.toString.call(u)===d){if(o)throw new n.default("Arg not supported with multiple helpers");t.extend(this.helpers,u)}else this.helpers[u]=o},unregisterHelper:function(u){delete this.helpers[u]},registerPartial:function(u,o){if(t.toString.call(u)===d)t.extend(this.partials,u);else{if(o===void 0)throw new n.default('Attempting to register a partial called "'+u+'" as undefined');this.partials[u]=o}},unregisterPartial:function(u){delete this.partials[u]},registerDecorator:function(u,o){if(t.toString.call(u)===d){if(o)throw new n.default("Arg not supported with multiple decorators");t.extend(this.decorators,u)}else this.decorators[u]=o},unregisterDecorator:function(u){delete this.decorators[u]},resetLoggedPropertyAccesses:function(){i.resetLoggedProperties()}};var l=a.default.log;return Ke.log=l,Ke.createFrame=t.createFrame,Ke.logger=a.default,Ke}var Po,Rs={exports:{}},Oo,No,gt={},Ps={};function Dp(){if(No)return gt;No=1,gt.__esModule=!0,gt.checkRevision=function(o){var h=o&&o[0]||1,p=s.COMPILER_REVISION;if(!(h>=s.LAST_COMPATIBLE_COMPILER_REVISION&&h<=s.COMPILER_REVISION)){if(h<s.LAST_COMPATIBLE_COMPILER_REVISION){var f=s.REVISION_CHANGES[p],m=s.REVISION_CHANGES[h];throw new r.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+f+") or downgrade your runtime to an older version ("+m+").")}throw new r.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+").")}},gt.template=function(o,h){if(!h)throw new r.default("No environment passed to template");if(!o||!o.main)throw new r.default("Unknown template object: "+typeof o);o.main.decorator=o.main_d,h.VM.checkRevision(o.compiler);var p=o.compiler&&o.compiler[0]===7,f={strict:function(v,y,b){if(!v||!(y in v))throw new r.default('"'+y+'" not defined in '+v,{loc:b});return f.lookupProperty(v,y)},lookupProperty:function(v,y){var b=v[y];return b==null||Object.prototype.hasOwnProperty.call(v,y)||d.resultIsAllowed(b,f.protoAccessControl,y)?b:void 0},lookup:function(v,y){for(var b=v.length,k=0;k<b;k++)if((v[k]&&f.lookupProperty(v[k],y))!=null)return v[k][y]},lambda:function(v,y){return typeof v=="function"?v.call(y):v},escapeExpression:t.escapeExpression,invokePartial:function(v,y,b){b.hash&&(y=t.extend({},y,b.hash),b.ids&&(b.ids[0]=!0)),v=h.VM.resolvePartial.call(this,v,y,b);var k=t.extend({},b,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),w=h.VM.invokePartial.call(this,v,y,k);if(w==null&&h.compile&&(b.partials[b.name]=h.compile(v,o.compilerOptions,h),w=b.partials[b.name](y,k)),w!=null){if(b.indent){for(var g=w.split(`
`),S=0,_=g.length;S<_&&(g[S]||S+1!==_);S++)g[S]=b.indent+g[S];w=g.join(`
`)}return w}throw new r.default("The partial "+b.name+" could not be compiled when running in runtime-only mode")},fn:function(v){var y=o[v];return y.decorator=o[v+"_d"],y},programs:[],program:function(v,y,b,k,w){var g=this.programs[v],S=this.fn(v);return y||w||k||b?g=c(this,v,S,y,b,k,w):g||(g=this.programs[v]=c(this,v,S)),g},data:function(v,y){for(;v&&y--;)v=v._parent;return v},mergeIfNeeded:function(v,y){var b=v||y;return v&&y&&v!==y&&(b=t.extend({},y,v)),b},nullContext:Object.seal({}),noop:h.VM.noop,compilerInfo:o.compiler};function m(v){var y=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],b=y.data;m._setup(y),!y.partial&&o.useData&&(b=function(S,_){return _&&"root"in _||((_=_?s.createFrame(_):{}).root=S),_}(v,b));var k=void 0,w=o.useBlockParams?[]:void 0;function g(S){return""+o.main(f,S,f.helpers,f.partials,b,w,k)}return o.useDepths&&(k=y.depths?v!=y.depths[0]?[v].concat(y.depths):y.depths:[v]),(g=u(o.main,g,f,y.depths||[],b,w))(v,y)}return m.isTop=!0,m._setup=function(v){if(v.partial)f.protoAccessControl=v.protoAccessControl,f.helpers=v.helpers,f.partials=v.partials,f.decorators=v.decorators,f.hooks=v.hooks;else{var y=t.extend({},h.helpers,v.helpers);(function(k,w){Object.keys(k).forEach(function(g){var S=k[g];k[g]=function(_,E){var M=E.lookupProperty;return i.wrapHelper(_,function(N){return t.extend({lookupProperty:M},N)})}(S,w)})})(y,f),f.helpers=y,o.usePartial&&(f.partials=f.mergeIfNeeded(v.partials,h.partials)),(o.usePartial||o.useDecorators)&&(f.decorators=t.extend({},h.decorators,v.decorators)),f.hooks={},f.protoAccessControl=d.createProtoAccessControl(v);var b=v.allowCallsToHelperMissing||p;a.moveHelperToHooks(f,"helperMissing",b),a.moveHelperToHooks(f,"blockHelperMissing",b)}},m._child=function(v,y,b,k){if(o.useBlockParams&&!b)throw new r.default("must pass block params");if(o.useDepths&&!k)throw new r.default("must pass parent depths");return c(f,v,o[v],y,0,b,k)},m},gt.wrapProgram=c,gt.resolvePartial=function(o,h,p){return o?o.call||p.name||(p.name=o,o=p.partials[o]):o=p.name==="@partial-block"?p.data["partial-block"]:p.partials[p.name],o},gt.invokePartial=function(o,h,p){var f=p.data&&p.data["partial-block"];p.partial=!0,p.ids&&(p.data.contextPath=p.ids[0]||p.data.contextPath);var m=void 0;if(p.fn&&p.fn!==l&&function(){p.data=s.createFrame(p.data);var v=p.fn;m=p.data["partial-block"]=function(y){var b=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return b.data=s.createFrame(b.data),b.data["partial-block"]=f,v(y,b)},v.partials&&(p.partials=t.extend({},p.partials,v.partials))}(),o===void 0&&m&&(o=m),o===void 0)throw new r.default("The partial "+p.name+" could not be found");if(o instanceof Function)return o(h,p)},gt.noop=l;var e,t=function(o){if(o&&o.__esModule)return o;var h={};if(o!=null)for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(h[p]=o[p]);return h.default=o,h}(Ae()),n=Je(),r=(e=n)&&e.__esModule?e:{default:e},s=Ya(),a=Ol(),i=(Oo||(Oo=1,Ps.__esModule=!0,Ps.wrapHelper=function(o,h){return typeof o!="function"?o:function(){return arguments[arguments.length-1]=h(arguments[arguments.length-1]),o.apply(this,arguments)}}),Ps),d=Ll();function c(o,h,p,f,m,v,y){function b(k){var w=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],g=y;return!y||k==y[0]||k===o.nullContext&&y[0]===null||(g=[k].concat(y)),p(o,k,o.helpers,o.partials,w.data||f,v&&[w.blockParams].concat(v),g)}return(b=u(p,b,o,y,f,v)).program=h,b.depth=y?y.length:0,b.blockParams=m||0,b}function l(){return""}function u(o,h,p,f,m,v){if(o.decorator){var y={};h=o.decorator(h,y,p,f&&f[0],m,v,f),t.extend(h,y)}return h}return gt}var Lo,Do,Os={exports:{}};function Dl(){return Lo||(Lo=1,e=Os,(t=Os.exports).__esModule=!0,t.default=function(n){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var r=globalThis.Handlebars;n.noConflict=function(){return globalThis.Handlebars===n&&(globalThis.Handlebars=r),n}},e.exports=t.default),Os.exports;var e,t}function Fp(){return Do||(Do=1,function(e,t){function n(p){return p&&p.__esModule?p:{default:p}}function r(p){if(p&&p.__esModule)return p;var f={};if(p!=null)for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m]);return f.default=p,f}t.__esModule=!0;var s=r(Ya()),a=(Po||(Po=1,function(p,f){function m(v){this.string=v}f.__esModule=!0,m.prototype.toString=m.prototype.toHTML=function(){return""+this.string},f.default=m,p.exports=f.default}(Rs,Rs.exports)),Rs.exports),i=n(a),d=n(Je()),c=r(Ae()),l=r(Dp()),u=n(Dl());function o(){var p=new s.HandlebarsEnvironment;return c.extend(p,s),p.SafeString=i.default,p.Exception=d.default,p.Utils=c,p.escapeExpression=c.escapeExpression,p.VM=l,p.template=function(f){return l.template(f,p)},p}var h=o();h.create=o,u.default(h),h.default=h,t.default=h,e.exports=t.default}(bs,bs.exports)),bs.exports}var Fo,Ns={exports:{}};function $o(){return Fo||(Fo=1,function(e,t){t.__esModule=!0;var n={helpers:{helperExpression:function(r){return r.type==="SubExpression"||(r.type==="MustacheStatement"||r.type==="BlockStatement")&&!!(r.params&&r.params.length||r.hash)},scopedId:function(r){return/^\.|this\b/.test(r.original)},simpleId:function(r){return r.parts.length===1&&!n.helpers.scopedId(r)&&!r.depth}}};t.default=n,e.exports=t.default}(Ns,Ns.exports)),Ns.exports}var Uo,an={},Ls={exports:{}},jo,qo,Ds={exports:{}},Fs={exports:{}};function Fl(){return jo||(jo=1,function(e,t){t.__esModule=!0;var n,r=Je(),s=(n=r)&&n.__esModule?n:{default:n};function a(){this.parents=[]}function i(l){this.acceptRequired(l,"path"),this.acceptArray(l.params),this.acceptKey(l,"hash")}function d(l){i.call(this,l),this.acceptKey(l,"program"),this.acceptKey(l,"inverse")}function c(l){this.acceptRequired(l,"name"),this.acceptArray(l.params),this.acceptKey(l,"hash")}a.prototype={constructor:a,mutating:!1,acceptKey:function(l,u){var o=this.accept(l[u]);if(this.mutating){if(o&&!a.prototype[o.type])throw new s.default('Unexpected node type "'+o.type+'" found when accepting '+u+" on "+l.type);l[u]=o}},acceptRequired:function(l,u){if(this.acceptKey(l,u),!l[u])throw new s.default(l.type+" requires "+u)},acceptArray:function(l){for(var u=0,o=l.length;u<o;u++)this.acceptKey(l,u),l[u]||(l.splice(u,1),u--,o--)},accept:function(l){if(l){if(!this[l.type])throw new s.default("Unknown type: "+l.type,l);this.current&&this.parents.unshift(this.current),this.current=l;var u=this[l.type](l);return this.current=this.parents.shift(),!this.mutating||u?u:u!==!1?l:void 0}},Program:function(l){this.acceptArray(l.body)},MustacheStatement:i,Decorator:i,BlockStatement:d,DecoratorBlock:d,PartialStatement:c,PartialBlockStatement:function(l){c.call(this,l),this.acceptKey(l,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:i,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(l){this.acceptArray(l.pairs)},HashPair:function(l){this.acceptRequired(l,"value")}},t.default=a,e.exports=t.default}(Fs,Fs.exports)),Fs.exports}var Bo,Ho,Re={};function $p(){if(Ho)return an;function e(u){return u&&u.__esModule?u:{default:u}}Ho=1,an.__esModule=!0,an.parseWithoutProcessing=l,an.parse=function(u,o){var h=l(u,o);return new s.default(o).accept(h)};var t=(Uo||(Uo=1,function(u,o){o.__esModule=!0;var h=function(){var p={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(v,y,b,k,w,g,S){var _=g.length-1;switch(w){case 1:return g[_-1];case 2:this.$=k.prepareProgram(g[_]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=g[_];break;case 9:this.$={type:"CommentStatement",value:k.stripComment(g[_]),strip:k.stripFlags(g[_],g[_]),loc:k.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:g[_],value:g[_],loc:k.locInfo(this._$)};break;case 11:this.$=k.prepareRawBlock(g[_-2],g[_-1],g[_],this._$);break;case 12:this.$={path:g[_-3],params:g[_-2],hash:g[_-1]};break;case 13:this.$=k.prepareBlock(g[_-3],g[_-2],g[_-1],g[_],!1,this._$);break;case 14:this.$=k.prepareBlock(g[_-3],g[_-2],g[_-1],g[_],!0,this._$);break;case 15:this.$={open:g[_-5],path:g[_-4],params:g[_-3],hash:g[_-2],blockParams:g[_-1],strip:k.stripFlags(g[_-5],g[_])};break;case 16:case 17:this.$={path:g[_-4],params:g[_-3],hash:g[_-2],blockParams:g[_-1],strip:k.stripFlags(g[_-5],g[_])};break;case 18:this.$={strip:k.stripFlags(g[_-1],g[_-1]),program:g[_]};break;case 19:var E=k.prepareBlock(g[_-2],g[_-1],g[_],g[_],!1,this._$),M=k.prepareProgram([E],g[_-1].loc);M.chained=!0,this.$={strip:g[_-2].strip,program:M,chain:!0};break;case 21:this.$={path:g[_-1],strip:k.stripFlags(g[_-2],g[_])};break;case 22:case 23:this.$=k.prepareMustache(g[_-3],g[_-2],g[_-1],g[_-4],k.stripFlags(g[_-4],g[_]),this._$);break;case 24:this.$={type:"PartialStatement",name:g[_-3],params:g[_-2],hash:g[_-1],indent:"",strip:k.stripFlags(g[_-4],g[_]),loc:k.locInfo(this._$)};break;case 25:this.$=k.preparePartialBlock(g[_-2],g[_-1],g[_],this._$);break;case 26:this.$={path:g[_-3],params:g[_-2],hash:g[_-1],strip:k.stripFlags(g[_-4],g[_])};break;case 29:this.$={type:"SubExpression",path:g[_-3],params:g[_-2],hash:g[_-1],loc:k.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:g[_],loc:k.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:k.id(g[_-2]),value:g[_],loc:k.locInfo(this._$)};break;case 32:this.$=k.id(g[_-1]);break;case 35:this.$={type:"StringLiteral",value:g[_],original:g[_],loc:k.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(g[_]),original:Number(g[_]),loc:k.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:g[_]==="true",original:g[_]==="true",loc:k.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:k.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:k.locInfo(this._$)};break;case 42:this.$=k.preparePath(!0,g[_],this._$);break;case 43:this.$=k.preparePath(!1,g[_],this._$);break;case 44:g[_-2].push({part:k.id(g[_]),original:g[_],separator:g[_-1]}),this.$=g[_-2];break;case 45:this.$=[{part:k.id(g[_]),original:g[_]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:g[_-1].push(g[_]);break;case 98:case 100:this.$=[g[_]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(v,y){throw new Error(v)},parse:function(v){var y=this,b=[0],k=[null],w=[],g=this.table,S="",_=0,E=0;this.lexer.setInput(v),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,this.lexer.yylloc===void 0&&(this.lexer.yylloc={});var M=this.lexer.yylloc;w.push(M);var N=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);for(var L,j,q,B,W,ne,ve,$e,C,T={};;){if(j=b[b.length-1],this.defaultActions[j]?q=this.defaultActions[j]:(L==null&&(C=void 0,typeof(C=y.lexer.lex()||1)!="number"&&(C=y.symbols_[C]||C),L=C),q=g[j]&&g[j][L]),q===void 0||!q.length||!q[0]){var x="";for(W in $e=[],g[j])this.terminals_[W]&&W>2&&$e.push("'"+this.terminals_[W]+"'");x=this.lexer.showPosition?"Parse error on line "+(_+1)+`:
`+this.lexer.showPosition()+`
Expecting `+$e.join(", ")+", got '"+(this.terminals_[L]||L)+"'":"Parse error on line "+(_+1)+": Unexpected "+(L==1?"end of input":"'"+(this.terminals_[L]||L)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[L]||L,line:this.lexer.yylineno,loc:M,expected:$e})}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+j+", token: "+L);switch(q[0]){case 1:b.push(L),k.push(this.lexer.yytext),w.push(this.lexer.yylloc),b.push(q[1]),L=null,E=this.lexer.yyleng,S=this.lexer.yytext,_=this.lexer.yylineno,M=this.lexer.yylloc;break;case 2:if(ne=this.productions_[q[1]][1],T.$=k[k.length-ne],T._$={first_line:w[w.length-(ne||1)].first_line,last_line:w[w.length-1].last_line,first_column:w[w.length-(ne||1)].first_column,last_column:w[w.length-1].last_column},N&&(T._$.range=[w[w.length-(ne||1)].range[0],w[w.length-1].range[1]]),(B=this.performAction.call(T,S,E,_,this.yy,q[1],k,w))!==void 0)return B;ne&&(b=b.slice(0,-1*ne*2),k=k.slice(0,-1*ne),w=w.slice(0,-1*ne)),b.push(this.productions_[q[1]][0]),k.push(T.$),w.push(T._$),ve=g[b[b.length-2]][b[b.length-1]],b.push(ve);break;case 3:return!0}}return!0}},f=function(){var v={EOF:1,parseError:function(y,b){if(!this.yy.parser)throw new Error(y);this.yy.parser.parseError(y,b)},setInput:function(y){return this._input=y,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var y=this._input[0];return this.yytext+=y,this.yyleng++,this.offset++,this.match+=y,this.matched+=y,y.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),y},unput:function(y){var b=y.length,k=y.split(/(?:\r\n?|\n)/g);this._input=y+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var w=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),k.length-1&&(this.yylineno-=k.length-1);var g=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:k?(k.length===w.length?this.yylloc.first_column:0)+w[w.length-k.length].length-k[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[g[0],g[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(y){this.unput(this.match.slice(y))},pastInput:function(){var y=this.matched.substr(0,this.matched.length-this.match.length);return(y.length>20?"...":"")+y.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var y=this.match;return y.length<20&&(y+=this._input.substr(0,20-y.length)),(y.substr(0,20)+(y.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var y=this.pastInput(),b=new Array(y.length+1).join("-");return y+this.upcomingInput()+`
`+b+"^"},next:function(){if(this.done)return this.EOF;var y,b,k,w,g;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var S=this._currentRules(),_=0;_<S.length&&(!(k=this._input.match(this.rules[S[_]]))||b&&!(k[0].length>b[0].length)||(b=k,w=_,this.options.flex));_++);return b?((g=b[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],y=this.performAction.call(this,this.yy,this,S[w],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),y||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var y=this.next();return y!==void 0?y:this.lex()},begin:function(y){this.conditionStack.push(y)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(y){this.begin(y)},options:{},performAction:function(y,b,k,w){function g(S,_){return b.yytext=b.yytext.substring(S,b.yyleng-_+S)}switch(k){case 0:if(b.yytext.slice(-2)==="\\\\"?(g(0,1),this.begin("mu")):b.yytext.slice(-1)==="\\"?(g(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(g(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=g(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=g(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return v}();function m(){this.yy={}}return p.lexer=f,m.prototype=p,p.Parser=m,new m}();o.default=h,u.exports=o.default}(Ls,Ls.exports)),Ls.exports),n=e(t),r=(qo||(qo=1,function(u,o){o.__esModule=!0;var h,p=(h=Fl())&&h.__esModule?h:{default:h};function f(){var k=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=k}function m(k,w,g){w===void 0&&(w=k.length);var S=k[w-1],_=k[w-2];return S?S.type==="ContentStatement"?(_||!g?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(S.original):void 0:g}function v(k,w,g){w===void 0&&(w=-1);var S=k[w+1],_=k[w+2];return S?S.type==="ContentStatement"?(_||!g?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(S.original):void 0:g}function y(k,w,g){var S=k[w==null?0:w+1];if(S&&S.type==="ContentStatement"&&(g||!S.rightStripped)){var _=S.value;S.value=S.value.replace(g?/^\s+/:/^[ \t]*\r?\n?/,""),S.rightStripped=S.value!==_}}function b(k,w,g){var S=k[w==null?k.length-1:w-1];if(S&&S.type==="ContentStatement"&&(g||!S.leftStripped)){var _=S.value;return S.value=S.value.replace(g?/\s+$/:/[ \t]+$/,""),S.leftStripped=S.value!==_,S.leftStripped}}f.prototype=new p.default,f.prototype.Program=function(k){var w=!this.options.ignoreStandalone,g=!this.isRootSeen;this.isRootSeen=!0;for(var S=k.body,_=0,E=S.length;_<E;_++){var M=S[_],N=this.accept(M);if(N){var L=m(S,_,g),j=v(S,_,g),q=N.openStandalone&&L,B=N.closeStandalone&&j,W=N.inlineStandalone&&L&&j;N.close&&y(S,_,!0),N.open&&b(S,_,!0),w&&W&&(y(S,_),b(S,_)&&M.type==="PartialStatement"&&(M.indent=/([ \t]+$)/.exec(S[_-1].original)[1])),w&&q&&(y((M.program||M.inverse).body),b(S,_)),w&&B&&(y(S,_),b((M.inverse||M.program).body))}}return k},f.prototype.BlockStatement=f.prototype.DecoratorBlock=f.prototype.PartialBlockStatement=function(k){this.accept(k.program),this.accept(k.inverse);var w=k.program||k.inverse,g=k.program&&k.inverse,S=g,_=g;if(g&&g.chained)for(S=g.body[0].program;_.chained;)_=_.body[_.body.length-1].program;var E={open:k.openStrip.open,close:k.closeStrip.close,openStandalone:v(w.body),closeStandalone:m((S||w).body)};if(k.openStrip.close&&y(w.body,null,!0),g){var M=k.inverseStrip;M.open&&b(w.body,null,!0),M.close&&y(S.body,null,!0),k.closeStrip.open&&b(_.body,null,!0),!this.options.ignoreStandalone&&m(w.body)&&v(S.body)&&(b(w.body),y(S.body))}else k.closeStrip.open&&b(w.body,null,!0);return E},f.prototype.Decorator=f.prototype.MustacheStatement=function(k){return k.strip},f.prototype.PartialStatement=f.prototype.CommentStatement=function(k){var w=k.strip||{};return{inlineStandalone:!0,open:w.open,close:w.close}},o.default=f,u.exports=o.default}(Ds,Ds.exports)),Ds.exports),s=e(r),a=function(){if(Bo)return Re;Bo=1,Re.__esModule=!0,Re.SourceLocation=function(f,m){this.source=f,this.start={line:m.first_line,column:m.first_column},this.end={line:m.last_line,column:m.last_column}},Re.id=function(f){return/^\[.*\]$/.test(f)?f.substring(1,f.length-1):f},Re.stripFlags=function(f,m){return{open:f.charAt(2)==="~",close:m.charAt(m.length-3)==="~"}},Re.stripComment=function(f){return f.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},Re.preparePath=function(f,m,v){v=this.locInfo(v);for(var y=f?"@":"",b=[],k=0,w=0,g=m.length;w<g;w++){var S=m[w].part,_=m[w].original!==S;if(y+=(m[w].separator||"")+S,_||S!==".."&&S!=="."&&S!=="this")b.push(S);else{if(b.length>0)throw new h.default("Invalid path: "+y,{loc:v});S===".."&&k++}}return{type:"PathExpression",data:f,depth:k,parts:b,original:y,loc:v}},Re.prepareMustache=function(f,m,v,y,b,k){var w=y.charAt(3)||y.charAt(2),g=w!=="{"&&w!=="&";return{type:/\*/.test(y)?"Decorator":"MustacheStatement",path:f,params:m,hash:v,escaped:g,strip:b,loc:this.locInfo(k)}},Re.prepareRawBlock=function(f,m,v,y){p(f,v);var b={type:"Program",body:m,strip:{},loc:y=this.locInfo(y)};return{type:"BlockStatement",path:f.path,params:f.params,hash:f.hash,program:b,openStrip:{},inverseStrip:{},closeStrip:{},loc:y}},Re.prepareBlock=function(f,m,v,y,b,k){y&&y.path&&p(f,y);var w=/\*/.test(f.open);m.blockParams=f.blockParams;var g=void 0,S=void 0;if(v){if(w)throw new h.default("Unexpected inverse block on decorator",v);v.chain&&(v.program.body[0].closeStrip=y.strip),S=v.strip,g=v.program}return b&&(b=g,g=m,m=b),{type:w?"DecoratorBlock":"BlockStatement",path:f.path,params:f.params,hash:f.hash,program:m,inverse:g,openStrip:f.strip,inverseStrip:S,closeStrip:y&&y.strip,loc:this.locInfo(k)}},Re.prepareProgram=function(f,m){if(!m&&f.length){var v=f[0].loc,y=f[f.length-1].loc;v&&y&&(m={source:v.source,start:{line:v.start.line,column:v.start.column},end:{line:y.end.line,column:y.end.column}})}return{type:"Program",body:f,strip:{},loc:m}},Re.preparePartialBlock=function(f,m,v,y){return p(f,v),{type:"PartialBlockStatement",name:f.path,params:f.params,hash:f.hash,program:m,openStrip:f.strip,closeStrip:v&&v.strip,loc:this.locInfo(y)}};var u,o=Je(),h=(u=o)&&u.__esModule?u:{default:u};function p(f,m){if(m=m.path?m.path.original:m,f.path.original!==m){var v={loc:f.path.loc};throw new h.default(f.path.original+" doesn't match "+m,v)}}return Re}(),i=function(u){if(u&&u.__esModule)return u;var o={};if(u!=null)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h]);return o.default=u,o}(a),d=Ae();an.parser=n.default;var c={};function l(u,o){return u.type==="Program"?u:(n.default.yy=c,c.locInfo=function(h){return new c.SourceLocation(o&&o.srcName,h)},n.default.parse(u))}return d.extend(c,i),an}var Go,on={},zo,Vo,$s={exports:{}},Us={exports:{}},pr={},js={},fr={},gr={};function Up(){if(zo)return gr;zo=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return gr.encode=function(t){if(0<=t&&t<e.length)return e[t];throw new TypeError("Must be between 0 and 63: "+t)},gr.decode=function(t){return 65<=t&&t<=90?t-65:97<=t&&t<=122?t-97+26:48<=t&&t<=57?t-48+52:t==43?62:t==47?63:-1},gr}function $l(){if(Vo)return fr;Vo=1;var e=Up();return fr.encode=function(t){var n,r="",s=function(a){return a<0?1+(-a<<1):0+(a<<1)}(t);do n=31&s,(s>>>=5)>0&&(n|=32),r+=e.encode(n);while(s>0);return r},fr.decode=function(t,n,r){var s,a,i,d,c=t.length,l=0,u=0;do{if(n>=c)throw new Error("Expected more digits in base 64 VLQ value.");if((a=e.decode(t.charCodeAt(n++)))===-1)throw new Error("Invalid base64 digit: "+t.charAt(n-1));s=!!(32&a),l+=(a&=31)<<u,u+=5}while(s);r.value=(d=(i=l)>>1,1&~i?d:-d),r.rest=n},fr}var Zo,Wo={};function rr(){return Zo||(Zo=1,function(e){e.getArg=function(o,h,p){if(h in o)return o[h];if(arguments.length===3)return p;throw new Error('"'+h+'" is a required argument.')};var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function r(o){var h=o.match(t);return h?{scheme:h[1],auth:h[2],host:h[3],port:h[4],path:h[5]}:null}function s(o){var h="";return o.scheme&&(h+=o.scheme+":"),h+="//",o.auth&&(h+=o.auth+"@"),o.host&&(h+=o.host),o.port&&(h+=":"+o.port),o.path&&(h+=o.path),h}function a(o){var h=o,p=r(o);if(p){if(!p.path)return o;h=p.path}for(var f,m=e.isAbsolute(h),v=h.split(/\/+/),y=0,b=v.length-1;b>=0;b--)(f=v[b])==="."?v.splice(b,1):f===".."?y++:y>0&&(f===""?(v.splice(b+1,y),y=0):(v.splice(b,2),y--));return(h=v.join("/"))===""&&(h=m?"/":"."),p?(p.path=h,s(p)):h}function i(o,h){o===""&&(o="."),h===""&&(h=".");var p=r(h),f=r(o);if(f&&(o=f.path||"/"),p&&!p.scheme)return f&&(p.scheme=f.scheme),s(p);if(p||h.match(n))return h;if(f&&!f.host&&!f.path)return f.host=h,s(f);var m=h.charAt(0)==="/"?h:a(o.replace(/\/+$/,"")+"/"+h);return f?(f.path=m,s(f)):m}e.urlParse=r,e.urlGenerate=s,e.normalize=a,e.join=i,e.isAbsolute=function(o){return o.charAt(0)==="/"||t.test(o)},e.relative=function(o,h){o===""&&(o="."),o=o.replace(/\/$/,"");for(var p=0;h.indexOf(o+"/")!==0;){var f=o.lastIndexOf("/");if(f<0||(o=o.slice(0,f)).match(/^([^\/]+:\/)?\/*$/))return h;++p}return Array(p+1).join("../")+h.substr(o.length+1)};var d=!("__proto__"in Object.create(null));function c(o){return o}function l(o){if(!o)return!1;var h=o.length;if(h<9||o.charCodeAt(h-1)!==95||o.charCodeAt(h-2)!==95||o.charCodeAt(h-3)!==111||o.charCodeAt(h-4)!==116||o.charCodeAt(h-5)!==111||o.charCodeAt(h-6)!==114||o.charCodeAt(h-7)!==112||o.charCodeAt(h-8)!==95||o.charCodeAt(h-9)!==95)return!1;for(var p=h-10;p>=0;p--)if(o.charCodeAt(p)!==36)return!1;return!0}function u(o,h){return o===h?0:o===null?1:h===null?-1:o>h?1:-1}e.toSetString=d?c:function(o){return l(o)?"$"+o:o},e.fromSetString=d?c:function(o){return l(o)?o.slice(1):o},e.compareByOriginalPositions=function(o,h,p){var f=u(o.source,h.source);return f!==0||(f=o.originalLine-h.originalLine)!==0||(f=o.originalColumn-h.originalColumn)!==0||p||(f=o.generatedColumn-h.generatedColumn)!==0||(f=o.generatedLine-h.generatedLine)!==0?f:u(o.name,h.name)},e.compareByGeneratedPositionsDeflated=function(o,h,p){var f=o.generatedLine-h.generatedLine;return f!==0||(f=o.generatedColumn-h.generatedColumn)!==0||p||(f=u(o.source,h.source))!==0||(f=o.originalLine-h.originalLine)!==0||(f=o.originalColumn-h.originalColumn)!==0?f:u(o.name,h.name)},e.compareByGeneratedPositionsInflated=function(o,h){var p=o.generatedLine-h.generatedLine;return p!==0||(p=o.generatedColumn-h.generatedColumn)!==0||(p=u(o.source,h.source))!==0||(p=o.originalLine-h.originalLine)!==0||(p=o.originalColumn-h.originalColumn)!==0?p:u(o.name,h.name)},e.parseSourceMapInput=function(o){return JSON.parse(o.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(o,h,p){if(h=h||"",o&&(o[o.length-1]!=="/"&&h[0]!=="/"&&(o+="/"),h=o+h),p){var f=r(p);if(!f)throw new Error("sourceMapURL could not be parsed");if(f.path){var m=f.path.lastIndexOf("/");m>=0&&(f.path=f.path.substring(0,m+1))}h=i(s(f),h)}return a(h)}}(Wo)),Wo}var Ko,qs={};function Ul(){if(Ko)return qs;Ko=1;var e=rr(),t=Object.prototype.hasOwnProperty,n=typeof Map<"u";function r(){this._array=[],this._set=n?new Map:Object.create(null)}return r.fromArray=function(s,a){for(var i=new r,d=0,c=s.length;d<c;d++)i.add(s[d],a);return i},r.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(s,a){var i=n?s:e.toSetString(s),d=n?this.has(s):t.call(this._set,i),c=this._array.length;d&&!a||this._array.push(s),d||(n?this._set.set(s,c):this._set[i]=c)},r.prototype.has=function(s){if(n)return this._set.has(s);var a=e.toSetString(s);return t.call(this._set,a)},r.prototype.indexOf=function(s){if(n){var a=this._set.get(s);if(a>=0)return a}else{var i=e.toSetString(s);if(t.call(this._set,i))return this._set[i]}throw new Error('"'+s+'" is not in the set.')},r.prototype.at=function(s){if(s>=0&&s<this._array.length)return this._array[s];throw new Error("No element indexed by "+s)},r.prototype.toArray=function(){return this._array.slice()},qs.ArraySet=r,qs}var Yo,Qo,Bs={};function jp(){if(Yo)return Bs;Yo=1;var e=rr();function t(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return t.prototype.unsortedForEach=function(n,r){this._array.forEach(n,r)},t.prototype.add=function(n){var r,s,a,i,d,c;r=this._last,s=n,a=r.generatedLine,i=s.generatedLine,d=r.generatedColumn,c=s.generatedColumn,i>a||i==a&&c>=d||e.compareByGeneratedPositionsInflated(r,s)<=0?(this._last=n,this._array.push(n)):(this._sorted=!1,this._array.push(n))},t.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Bs.MappingList=t,Bs}function Jo(){if(Qo)return js;Qo=1;var e=$l(),t=rr(),n=Ul().ArraySet,r=jp().MappingList;function s(a){a||(a={}),this._file=t.getArg(a,"file",null),this._sourceRoot=t.getArg(a,"sourceRoot",null),this._skipValidation=t.getArg(a,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new r,this._sourcesContents=null}return s.prototype._version=3,s.fromSourceMap=function(a){var i=a.sourceRoot,d=new s({file:a.file,sourceRoot:i});return a.eachMapping(function(c){var l={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(l.source=c.source,i!=null&&(l.source=t.relative(i,l.source)),l.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(l.name=c.name)),d.addMapping(l)}),a.sources.forEach(function(c){var l=c;i!==null&&(l=t.relative(i,c)),d._sources.has(l)||d._sources.add(l);var u=a.sourceContentFor(c);u!=null&&d.setSourceContent(c,u)}),d},s.prototype.addMapping=function(a){var i=t.getArg(a,"generated"),d=t.getArg(a,"original",null),c=t.getArg(a,"source",null),l=t.getArg(a,"name",null);this._skipValidation||this._validateMapping(i,d,c,l),c!=null&&(c=String(c),this._sources.has(c)||this._sources.add(c)),l!=null&&(l=String(l),this._names.has(l)||this._names.add(l)),this._mappings.add({generatedLine:i.line,generatedColumn:i.column,originalLine:d!=null&&d.line,originalColumn:d!=null&&d.column,source:c,name:l})},s.prototype.setSourceContent=function(a,i){var d=a;this._sourceRoot!=null&&(d=t.relative(this._sourceRoot,d)),i!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[t.toSetString(d)]=i):this._sourcesContents&&(delete this._sourcesContents[t.toSetString(d)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(a,i,d){var c=i;if(i==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=a.file}var l=this._sourceRoot;l!=null&&(c=t.relative(l,c));var u=new n,o=new n;this._mappings.unsortedForEach(function(h){if(h.source===c&&h.originalLine!=null){var p=a.originalPositionFor({line:h.originalLine,column:h.originalColumn});p.source!=null&&(h.source=p.source,d!=null&&(h.source=t.join(d,h.source)),l!=null&&(h.source=t.relative(l,h.source)),h.originalLine=p.line,h.originalColumn=p.column,p.name!=null&&(h.name=p.name))}var f=h.source;f==null||u.has(f)||u.add(f);var m=h.name;m==null||o.has(m)||o.add(m)},this),this._sources=u,this._names=o,a.sources.forEach(function(h){var p=a.sourceContentFor(h);p!=null&&(d!=null&&(h=t.join(d,h)),l!=null&&(h=t.relative(l,h)),this.setSourceContent(h,p))},this)},s.prototype._validateMapping=function(a,i,d,c){if(i&&typeof i.line!="number"&&typeof i.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0)||i||d||c)&&!(a&&"line"in a&&"column"in a&&i&&"line"in i&&"column"in i&&a.line>0&&a.column>=0&&i.line>0&&i.column>=0&&d))throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:d,original:i,name:c}))},s.prototype._serializeMappings=function(){for(var a,i,d,c,l=0,u=1,o=0,h=0,p=0,f=0,m="",v=this._mappings.toArray(),y=0,b=v.length;y<b;y++){if(a="",(i=v[y]).generatedLine!==u)for(l=0;i.generatedLine!==u;)a+=";",u++;else if(y>0){if(!t.compareByGeneratedPositionsInflated(i,v[y-1]))continue;a+=","}a+=e.encode(i.generatedColumn-l),l=i.generatedColumn,i.source!=null&&(c=this._sources.indexOf(i.source),a+=e.encode(c-f),f=c,a+=e.encode(i.originalLine-1-h),h=i.originalLine-1,a+=e.encode(i.originalColumn-o),o=i.originalColumn,i.name!=null&&(d=this._names.indexOf(i.name),a+=e.encode(d-p),p=d)),m+=a}return m},s.prototype._generateSourcesContent=function(a,i){return a.map(function(d){if(!this._sourcesContents)return null;i!=null&&(d=t.relative(i,d));var c=t.toSetString(d);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},s.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},js.SourceMapGenerator=s,js}var Xo,Hn={},ec={};function qp(){return Xo||(Xo=1,function(e){function t(n,r,s,a,i,d){var c=Math.floor((r-n)/2)+n,l=i(s,a[c],!0);return l===0?c:l>0?r-c>1?t(c,r,s,a,i,d):d==e.LEAST_UPPER_BOUND?r<a.length?r:-1:c:c-n>1?t(n,c,s,a,i,d):d==e.LEAST_UPPER_BOUND?c:n<0?-1:n}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(n,r,s,a){if(r.length===0)return-1;var i=t(-1,r.length,n,r,s,a||e.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&s(r[i],r[i-1],!0)===0;)--i;return i}}(ec)),ec}var tc,nc,Hs={};function Bp(){if(tc)return Hs;function e(n,r,s){var a=n[r];n[r]=n[s],n[s]=a}function t(n,r,s,a){if(s<a){var i=s-1;e(n,(u=s,o=a,Math.round(u+Math.random()*(o-u))),a);for(var d=n[a],c=s;c<a;c++)r(n[c],d)<=0&&e(n,i+=1,c);e(n,i+1,c);var l=i+1;t(n,r,s,l-1),t(n,r,l+1,a)}var u,o}return tc=1,Hs.quickSort=function(n,r){t(n,r,0,n.length-1)},Hs}var rc,sc,ac,ic,oc,Gs={};function Hp(){return sc||(sc=1,pr.SourceMapGenerator=Jo().SourceMapGenerator,pr.SourceMapConsumer=function(){if(nc)return Hn;nc=1;var e=rr(),t=qp(),n=Ul().ArraySet,r=$l(),s=Bp().quickSort;function a(l,u){var o=l;return typeof l=="string"&&(o=e.parseSourceMapInput(l)),o.sections!=null?new c(o,u):new i(o,u)}function i(l,u){var o=l;typeof l=="string"&&(o=e.parseSourceMapInput(l));var h=e.getArg(o,"version"),p=e.getArg(o,"sources"),f=e.getArg(o,"names",[]),m=e.getArg(o,"sourceRoot",null),v=e.getArg(o,"sourcesContent",null),y=e.getArg(o,"mappings"),b=e.getArg(o,"file",null);if(h!=this._version)throw new Error("Unsupported version: "+h);m&&(m=e.normalize(m)),p=p.map(String).map(e.normalize).map(function(k){return m&&e.isAbsolute(m)&&e.isAbsolute(k)?e.relative(m,k):k}),this._names=n.fromArray(f.map(String),!0),this._sources=n.fromArray(p,!0),this._absoluteSources=this._sources.toArray().map(function(k){return e.computeSourceURL(m,k,u)}),this.sourceRoot=m,this.sourcesContent=v,this._mappings=y,this._sourceMapURL=u,this.file=b}function d(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function c(l,u){var o=l;typeof l=="string"&&(o=e.parseSourceMapInput(l));var h=e.getArg(o,"version"),p=e.getArg(o,"sections");if(h!=this._version)throw new Error("Unsupported version: "+h);this._sources=new n,this._names=new n;var f={line:-1,column:0};this._sections=p.map(function(m){if(m.url)throw new Error("Support for url field in sections not implemented.");var v=e.getArg(m,"offset"),y=e.getArg(v,"line"),b=e.getArg(v,"column");if(y<f.line||y===f.line&&b<f.column)throw new Error("Section offsets must be ordered and non-overlapping.");return f=v,{generatedOffset:{generatedLine:y+1,generatedColumn:b+1},consumer:new a(e.getArg(m,"map"),u)}})}return a.fromSourceMap=function(l,u){return i.fromSourceMap(l,u)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=function(l,u){var o=l.charAt(u);return o===";"||o===","},a.prototype._parseMappings=function(l,u){throw new Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(l,u,o){var h,p=u||null;switch(o||a.GENERATED_ORDER){case a.GENERATED_ORDER:h=this._generatedMappings;break;case a.ORIGINAL_ORDER:h=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var f=this.sourceRoot;h.map(function(m){var v=m.source===null?null:this._sources.at(m.source);return{source:v=e.computeSourceURL(f,v,this._sourceMapURL),generatedLine:m.generatedLine,generatedColumn:m.generatedColumn,originalLine:m.originalLine,originalColumn:m.originalColumn,name:m.name===null?null:this._names.at(m.name)}},this).forEach(l,p)},a.prototype.allGeneratedPositionsFor=function(l){var u=e.getArg(l,"line"),o={source:e.getArg(l,"source"),originalLine:u,originalColumn:e.getArg(l,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var h=[],p=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(p>=0){var f=this._originalMappings[p];if(l.column===void 0)for(var m=f.originalLine;f&&f.originalLine===m;)h.push({line:e.getArg(f,"generatedLine",null),column:e.getArg(f,"generatedColumn",null),lastColumn:e.getArg(f,"lastGeneratedColumn",null)}),f=this._originalMappings[++p];else for(var v=f.originalColumn;f&&f.originalLine===u&&f.originalColumn==v;)h.push({line:e.getArg(f,"generatedLine",null),column:e.getArg(f,"generatedColumn",null),lastColumn:e.getArg(f,"lastGeneratedColumn",null)}),f=this._originalMappings[++p]}return h},Hn.SourceMapConsumer=a,i.prototype=Object.create(a.prototype),i.prototype.consumer=a,i.prototype._findSourceIndex=function(l){var u,o=l;if(this.sourceRoot!=null&&(o=e.relative(this.sourceRoot,o)),this._sources.has(o))return this._sources.indexOf(o);for(u=0;u<this._absoluteSources.length;++u)if(this._absoluteSources[u]==l)return u;return-1},i.fromSourceMap=function(l,u){var o=Object.create(i.prototype),h=o._names=n.fromArray(l._names.toArray(),!0),p=o._sources=n.fromArray(l._sources.toArray(),!0);o.sourceRoot=l._sourceRoot,o.sourcesContent=l._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=l._file,o._sourceMapURL=u,o._absoluteSources=o._sources.toArray().map(function(g){return e.computeSourceURL(o.sourceRoot,g,u)});for(var f=l._mappings.toArray().slice(),m=o.__generatedMappings=[],v=o.__originalMappings=[],y=0,b=f.length;y<b;y++){var k=f[y],w=new d;w.generatedLine=k.generatedLine,w.generatedColumn=k.generatedColumn,k.source&&(w.source=p.indexOf(k.source),w.originalLine=k.originalLine,w.originalColumn=k.originalColumn,k.name&&(w.name=h.indexOf(k.name)),v.push(w)),m.push(w)}return s(o.__originalMappings,e.compareByOriginalPositions),o},i.prototype._version=3,Object.defineProperty(i.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),i.prototype._parseMappings=function(l,u){for(var o,h,p,f,m,v=1,y=0,b=0,k=0,w=0,g=0,S=l.length,_=0,E={},M={},N=[],L=[];_<S;)if(l.charAt(_)===";")v++,_++,y=0;else if(l.charAt(_)===",")_++;else{for((o=new d).generatedLine=v,f=_;f<S&&!this._charIsMappingSeparator(l,f);f++);if(p=E[h=l.slice(_,f)])_+=h.length;else{for(p=[];_<f;)r.decode(l,_,M),m=M.value,_=M.rest,p.push(m);if(p.length===2)throw new Error("Found a source, but no line and column");if(p.length===3)throw new Error("Found a source and line, but no column");E[h]=p}o.generatedColumn=y+p[0],y=o.generatedColumn,p.length>1&&(o.source=w+p[1],w+=p[1],o.originalLine=b+p[2],b=o.originalLine,o.originalLine+=1,o.originalColumn=k+p[3],k=o.originalColumn,p.length>4&&(o.name=g+p[4],g+=p[4])),L.push(o),typeof o.originalLine=="number"&&N.push(o)}s(L,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=L,s(N,e.compareByOriginalPositions),this.__originalMappings=N},i.prototype._findMapping=function(l,u,o,h,p,f){if(l[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+l[o]);if(l[h]<0)throw new TypeError("Column must be greater than or equal to 0, got "+l[h]);return t.search(l,u,p,f)},i.prototype.computeColumnSpans=function(){for(var l=0;l<this._generatedMappings.length;++l){var u=this._generatedMappings[l];if(l+1<this._generatedMappings.length){var o=this._generatedMappings[l+1];if(u.generatedLine===o.generatedLine){u.lastGeneratedColumn=o.generatedColumn-1;continue}}u.lastGeneratedColumn=1/0}},i.prototype.originalPositionFor=function(l){var u={generatedLine:e.getArg(l,"line"),generatedColumn:e.getArg(l,"column")},o=this._findMapping(u,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(l,"bias",a.GREATEST_LOWER_BOUND));if(o>=0){var h=this._generatedMappings[o];if(h.generatedLine===u.generatedLine){var p=e.getArg(h,"source",null);p!==null&&(p=this._sources.at(p),p=e.computeSourceURL(this.sourceRoot,p,this._sourceMapURL));var f=e.getArg(h,"name",null);return f!==null&&(f=this._names.at(f)),{source:p,line:e.getArg(h,"originalLine",null),column:e.getArg(h,"originalColumn",null),name:f}}}return{source:null,line:null,column:null,name:null}},i.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(l){return l==null})},i.prototype.sourceContentFor=function(l,u){if(!this.sourcesContent)return null;var o=this._findSourceIndex(l);if(o>=0)return this.sourcesContent[o];var h,p=l;if(this.sourceRoot!=null&&(p=e.relative(this.sourceRoot,p)),this.sourceRoot!=null&&(h=e.urlParse(this.sourceRoot))){var f=p.replace(/^file:\/\//,"");if(h.scheme=="file"&&this._sources.has(f))return this.sourcesContent[this._sources.indexOf(f)];if((!h.path||h.path=="/")&&this._sources.has("/"+p))return this.sourcesContent[this._sources.indexOf("/"+p)]}if(u)return null;throw new Error('"'+p+'" is not in the SourceMap.')},i.prototype.generatedPositionFor=function(l){var u=e.getArg(l,"source");if((u=this._findSourceIndex(u))<0)return{line:null,column:null,lastColumn:null};var o={source:u,originalLine:e.getArg(l,"line"),originalColumn:e.getArg(l,"column")},h=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(l,"bias",a.GREATEST_LOWER_BOUND));if(h>=0){var p=this._originalMappings[h];if(p.source===o.source)return{line:e.getArg(p,"generatedLine",null),column:e.getArg(p,"generatedColumn",null),lastColumn:e.getArg(p,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Hn.BasicSourceMapConsumer=i,c.prototype=Object.create(a.prototype),c.prototype.constructor=a,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){for(var l=[],u=0;u<this._sections.length;u++)for(var o=0;o<this._sections[u].consumer.sources.length;o++)l.push(this._sections[u].consumer.sources[o]);return l}}),c.prototype.originalPositionFor=function(l){var u={generatedLine:e.getArg(l,"line"),generatedColumn:e.getArg(l,"column")},o=t.search(u,this._sections,function(p,f){return p.generatedLine-f.generatedOffset.generatedLine||p.generatedColumn-f.generatedOffset.generatedColumn}),h=this._sections[o];return h?h.consumer.originalPositionFor({line:u.generatedLine-(h.generatedOffset.generatedLine-1),column:u.generatedColumn-(h.generatedOffset.generatedLine===u.generatedLine?h.generatedOffset.generatedColumn-1:0),bias:l.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(l){return l.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(l,u){for(var o=0;o<this._sections.length;o++){var h=this._sections[o].consumer.sourceContentFor(l,!0);if(h)return h}if(u)return null;throw new Error('"'+l+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(l){for(var u=0;u<this._sections.length;u++){var o=this._sections[u];if(o.consumer._findSourceIndex(e.getArg(l,"source"))!==-1){var h=o.consumer.generatedPositionFor(l);if(h)return{line:h.line+(o.generatedOffset.generatedLine-1),column:h.column+(o.generatedOffset.generatedLine===h.line?o.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},c.prototype._parseMappings=function(l,u){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var h=this._sections[o],p=h.consumer._generatedMappings,f=0;f<p.length;f++){var m=p[f],v=h.consumer._sources.at(m.source);v=e.computeSourceURL(h.consumer.sourceRoot,v,this._sourceMapURL),this._sources.add(v),v=this._sources.indexOf(v);var y=null;m.name&&(y=h.consumer._names.at(m.name),this._names.add(y),y=this._names.indexOf(y));var b={source:v,generatedLine:m.generatedLine+(h.generatedOffset.generatedLine-1),generatedColumn:m.generatedColumn+(h.generatedOffset.generatedLine===m.generatedLine?h.generatedOffset.generatedColumn-1:0),originalLine:m.originalLine,originalColumn:m.originalColumn,name:y};this.__generatedMappings.push(b),typeof b.originalLine=="number"&&this.__originalMappings.push(b)}s(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),s(this.__originalMappings,e.compareByOriginalPositions)},Hn.IndexedSourceMapConsumer=c,Hn}().SourceMapConsumer,pr.SourceNode=function(){if(rc)return Gs;rc=1;var e=Jo().SourceMapGenerator,t=rr(),n=/(\r?\n)/,r="$$$isSourceNode$$$";function s(a,i,d,c,l){this.children=[],this.sourceContents={},this.line=a??null,this.column=i??null,this.source=d??null,this.name=l??null,this[r]=!0,c!=null&&this.add(c)}return s.fromStringWithSourceMap=function(a,i,d){var c=new s,l=a.split(n),u=0,o=function(){return v()+(v()||"");function v(){return u<l.length?l[u++]:void 0}},h=1,p=0,f=null;return i.eachMapping(function(v){if(f!==null){if(!(h<v.generatedLine)){var y=(b=l[u]||"").substr(0,v.generatedColumn-p);return l[u]=b.substr(v.generatedColumn-p),p=v.generatedColumn,m(f,y),void(f=v)}m(f,o()),h++,p=0}for(;h<v.generatedLine;)c.add(o()),h++;if(p<v.generatedColumn){var b=l[u]||"";c.add(b.substr(0,v.generatedColumn)),l[u]=b.substr(v.generatedColumn),p=v.generatedColumn}f=v},this),u<l.length&&(f&&m(f,o()),c.add(l.splice(u).join(""))),i.sources.forEach(function(v){var y=i.sourceContentFor(v);y!=null&&(d!=null&&(v=t.join(d,v)),c.setSourceContent(v,y))}),c;function m(v,y){if(v===null||v.source===void 0)c.add(y);else{var b=d?t.join(d,v.source):v.source;c.add(new s(v.originalLine,v.originalColumn,b,y,v.name))}}},s.prototype.add=function(a){if(Array.isArray(a))a.forEach(function(i){this.add(i)},this);else{if(!a[r]&&typeof a!="string")throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);a&&this.children.push(a)}return this},s.prototype.prepend=function(a){if(Array.isArray(a))for(var i=a.length-1;i>=0;i--)this.prepend(a[i]);else{if(!a[r]&&typeof a!="string")throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);this.children.unshift(a)}return this},s.prototype.walk=function(a){for(var i,d=0,c=this.children.length;d<c;d++)(i=this.children[d])[r]?i.walk(a):i!==""&&a(i,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(a){var i,d,c=this.children.length;if(c>0){for(i=[],d=0;d<c-1;d++)i.push(this.children[d]),i.push(a);i.push(this.children[d]),this.children=i}return this},s.prototype.replaceRight=function(a,i){var d=this.children[this.children.length-1];return d[r]?d.replaceRight(a,i):typeof d=="string"?this.children[this.children.length-1]=d.replace(a,i):this.children.push("".replace(a,i)),this},s.prototype.setSourceContent=function(a,i){this.sourceContents[t.toSetString(a)]=i},s.prototype.walkSourceContents=function(a){for(var i=0,d=this.children.length;i<d;i++)this.children[i][r]&&this.children[i].walkSourceContents(a);var c=Object.keys(this.sourceContents);for(i=0,d=c.length;i<d;i++)a(t.fromSetString(c[i]),this.sourceContents[c[i]])},s.prototype.toString=function(){var a="";return this.walk(function(i){a+=i}),a},s.prototype.toStringWithSourceMap=function(a){var i={code:"",line:1,column:0},d=new e(a),c=!1,l=null,u=null,o=null,h=null;return this.walk(function(p,f){i.code+=p,f.source!==null&&f.line!==null&&f.column!==null?(l===f.source&&u===f.line&&o===f.column&&h===f.name||d.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:i.line,column:i.column},name:f.name}),l=f.source,u=f.line,o=f.column,h=f.name,c=!0):c&&(d.addMapping({generated:{line:i.line,column:i.column}}),l=null,c=!1);for(var m=0,v=p.length;m<v;m++)p.charCodeAt(m)===10?(i.line++,i.column=0,m+1===v?(l=null,c=!1):c&&d.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:i.line,column:i.column},name:f.name})):i.column++}),this.walkSourceContents(function(p,f){d.setSourceContent(p,f)}),{code:i.code,map:d}},Gs.SourceNode=s,Gs}().SourceNode),pr}function Gp(){return ic||(ic=1,function(e,t){function n(u){return u&&u.__esModule?u:{default:u}}t.__esModule=!0;var r=Ya(),s=n(Je()),a=Ae(),i=(ac||(ac=1,function(u,o){o.__esModule=!0;var h=Ae(),p=void 0;try{var f=Hp();p=f.SourceNode}catch{}function m(y,b,k){if(h.isArray(y)){for(var w=[],g=0,S=y.length;g<S;g++)w.push(b.wrap(y[g],k));return w}return typeof y=="boolean"||typeof y=="number"?y+"":y}function v(y){this.srcFile=y,this.source=[]}p||((p=function(y,b,k,w){this.src="",w&&this.add(w)}).prototype={add:function(y){h.isArray(y)&&(y=y.join("")),this.src+=y},prepend:function(y){h.isArray(y)&&(y=y.join("")),this.src=y+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),v.prototype={isEmpty:function(){return!this.source.length},prepend:function(y,b){this.source.unshift(this.wrap(y,b))},push:function(y,b){this.source.push(this.wrap(y,b))},merge:function(){var y=this.empty();return this.each(function(b){y.add(["  ",b,`
`])}),y},each:function(y){for(var b=0,k=this.source.length;b<k;b++)y(this.source[b])},empty:function(){var y=this.currentLocation||{start:{}};return new p(y.start.line,y.start.column,this.srcFile)},wrap:function(y){var b=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return y instanceof p?y:(y=m(y,this,b),new p(b.start.line,b.start.column,this.srcFile,y))},functionCall:function(y,b,k){return k=this.generateList(k),this.wrap([y,b?"."+b+"(":"(",k,")"])},quotedString:function(y){return'"'+(y+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(y){var b=this,k=[];Object.keys(y).forEach(function(g){var S=m(y[g],b);S!=="undefined"&&k.push([b.quotedString(g),":",S])});var w=this.generateList(k);return w.prepend("{"),w.add("}"),w},generateList:function(y){for(var b=this.empty(),k=0,w=y.length;k<w;k++)k&&b.add(","),b.add(m(y[k],this));return b},generateArray:function(y){var b=this.generateList(y);return b.prepend("["),b.add("]"),b}},o.default=v,u.exports=o.default}(Us,Us.exports)),Us.exports),d=n(i);function c(u){this.value=u}function l(){}l.prototype={nameLookup:function(u,o){return this.internalNameLookup(u,o)},depthedLookup:function(u){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(u),")"]},compilerInfo:function(){var u=r.COMPILER_REVISION;return[u,r.REVISION_CHANGES[u]]},appendToBuffer:function(u,o,h){return a.isArray(u)||(u=[u]),u=this.source.wrap(u,o),this.environment.isSimple?["return ",u,";"]:h?["buffer += ",u,";"]:(u.appendToBuffer=!0,u)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(u,o){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",u,",",JSON.stringify(o),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(u,o,h,p){this.environment=u,this.options=o,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!p,this.name=this.environment.name,this.isChild=!!h,this.context=h||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(u,o),this.useDepths=this.useDepths||u.useDepths||u.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||u.useBlockParams;var f=u.opcodes,m=void 0,v=void 0,y=void 0,b=void 0;for(y=0,b=f.length;y<b;y++)m=f[y],this.source.currentLocation=m.loc,v=v||m.loc,this[m.opcode].apply(this,m.args);if(this.source.currentLocation=v,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),p?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(p);if(this.isChild)return k;var w={compiler:this.compilerInfo(),main:k};this.decorators&&(w.main_d=this.decorators,w.useDecorators=!0);var g=this.context,S=g.programs,_=g.decorators;for(y=0,b=S.length;y<b;y++)S[y]&&(w[y]=S[y],_[y]&&(w[y+"_d"]=_[y],w.useDecorators=!0));return this.environment.usePartial&&(w.usePartial=!0),this.options.data&&(w.useData=!0),this.useDepths&&(w.useDepths=!0),this.useBlockParams&&(w.useBlockParams=!0),this.options.compat&&(w.compat=!0),p?w.compilerOptions=this.options:(w.compiler=JSON.stringify(w.compiler),this.source.currentLocation={start:{line:1,column:0}},w=this.objectLiteral(w),o.srcName?(w=w.toStringWithSourceMap({file:o.destName})).map=w.map&&w.map.toString():w=w.toString()),w},preamble:function(){this.lastContext=0,this.source=new d.default(this.options.srcName),this.decorators=new d.default(this.options.srcName)},createFunctionContext:function(u){var o=this,h="",p=this.stackVars.concat(this.registers.list);p.length>0&&(h+=", "+p.join(", "));var f=0;Object.keys(this.aliases).forEach(function(y){var b=o.aliases[y];b.children&&b.referenceCount>1&&(h+=", alias"+ ++f+"="+y,b.children[0]="alias"+f)}),this.lookupPropertyFunctionIsUsed&&(h+=", "+this.lookupPropertyFunctionVarDeclaration());var m=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&m.push("blockParams"),this.useDepths&&m.push("depths");var v=this.mergeSource(h);return u?(m.push(v),Function.apply(this,m)):this.source.wrap(["function(",m.join(","),`) {
  `,v,"}"])},mergeSource:function(u){var o=this.environment.isSimple,h=!this.forceBuffer,p=void 0,f=void 0,m=void 0,v=void 0;return this.source.each(function(y){y.appendToBuffer?(m?y.prepend("  + "):m=y,v=y):(m&&(f?m.prepend("buffer += "):p=!0,v.add(";"),m=v=void 0),f=!0,o||(h=!1))}),h?m?(m.prepend("return "),v.add(";")):f||this.source.push('return "";'):(u+=", buffer = "+(p?"":this.initializeBuffer()),m?(m.prepend("return buffer + "),v.add(";")):this.source.push("return buffer;")),u&&this.source.prepend("var "+u.substring(2)+(p?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(u){var o=this.aliasable("container.hooks.blockHelperMissing"),h=[this.contextName(0)];this.setupHelperArgs(u,0,h);var p=this.popStack();h.splice(1,0,p),this.push(this.source.functionCall(o,"call",h))},ambiguousBlockValue:function(){var u=this.aliasable("container.hooks.blockHelperMissing"),o=[this.contextName(0)];this.setupHelperArgs("",0,o,!0),this.flushInline();var h=this.topStack();o.splice(1,0,h),this.pushSource(["if (!",this.lastHelper,") { ",h," = ",this.source.functionCall(u,"call",o),"}"])},appendContent:function(u){this.pendingContent?u=this.pendingContent+u:this.pendingLocation=this.source.currentLocation,this.pendingContent=u},append:function(){if(this.isInline())this.replaceStack(function(o){return[" != null ? ",o,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var u=this.popStack();this.pushSource(["if (",u," != null) { ",this.appendToBuffer(u,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(u){this.lastContext=u},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(u,o,h,p){var f=0;p||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(u[f++])),this.resolvePath("context",u,f,o,h)},lookupBlockParam:function(u,o){this.useBlockParams=!0,this.push(["blockParams[",u[0],"][",u[1],"]"]),this.resolvePath("context",o,1)},lookupData:function(u,o,h){u?this.pushStackLiteral("container.data(data, "+u+")"):this.pushStackLiteral("data"),this.resolvePath("data",o,0,!0,h)},resolvePath:function(u,o,h,p,f){var m=this;if(this.options.strict||this.options.assumeObjects)this.push(function(y,b,k,w,g){var S=b.popStack(),_=k.length;for(y&&_--;w<_;w++)S=b.nameLookup(S,k[w],g);return y?[b.aliasable("container.strict"),"(",S,", ",b.quotedString(k[w]),", ",JSON.stringify(b.source.currentLocation)," )"]:S}(this.options.strict&&f,this,o,h,u));else for(var v=o.length;h<v;h++)this.replaceStack(function(y){var b=m.nameLookup(y,o[h],u);return p?[" && ",b]:[" != null ? ",b," : ",y]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(u,o){this.pushContext(),this.pushString(o),o!=="SubExpression"&&(typeof u=="string"?this.pushString(u):this.pushStackLiteral(u))},emptyHash:function(u){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(u?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var u=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(u.ids)),this.stringParams&&(this.push(this.objectLiteral(u.contexts)),this.push(this.objectLiteral(u.types))),this.push(this.objectLiteral(u.values))},pushString:function(u){this.pushStackLiteral(this.quotedString(u))},pushLiteral:function(u){this.pushStackLiteral(u)},pushProgram:function(u){u!=null?this.pushStackLiteral(this.programExpression(u)):this.pushStackLiteral(null)},registerDecorator:function(u,o){var h=this.nameLookup("decorators",o,"decorator"),p=this.setupHelperArgs(o,u);this.decorators.push(["fn = ",this.decorators.functionCall(h,"",["fn","props","container",p])," || fn;"])},invokeHelper:function(u,o,h){var p=this.popStack(),f=this.setupHelper(u,o),m=[];h&&m.push(f.name),m.push(p),this.options.strict||m.push(this.aliasable("container.hooks.helperMissing"));var v=["(",this.itemsSeparatedBy(m,"||"),")"],y=this.source.functionCall(v,"call",f.callParams);this.push(y)},itemsSeparatedBy:function(u,o){var h=[];h.push(u[0]);for(var p=1;p<u.length;p++)h.push(o,u[p]);return h},invokeKnownHelper:function(u,o){var h=this.setupHelper(u,o);this.push(this.source.functionCall(h.name,"call",h.callParams))},invokeAmbiguous:function(u,o){this.useRegister("helper");var h=this.popStack();this.emptyHash();var p=this.setupHelper(0,u,o),f=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",u,"helper")," || ",h,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",f,p.paramsInit?["),(",p.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",p.callParams)," : helper))"])},invokePartial:function(u,o,h){var p=[],f=this.setupParams(o,1,p);u&&(o=this.popStack(),delete f.name),h&&(f.indent=JSON.stringify(h)),f.helpers="helpers",f.partials="partials",f.decorators="container.decorators",u?p.unshift(o):p.unshift(this.nameLookup("partials",o,"partial")),this.options.compat&&(f.depths="depths"),f=this.objectLiteral(f),p.push(f),this.push(this.source.functionCall("container.invokePartial","",p))},assignToHash:function(u){var o=this.popStack(),h=void 0,p=void 0,f=void 0;this.trackIds&&(f=this.popStack()),this.stringParams&&(p=this.popStack(),h=this.popStack());var m=this.hash;h&&(m.contexts[u]=h),p&&(m.types[u]=p),f&&(m.ids[u]=f),m.values[u]=o},pushId:function(u,o,h){u==="BlockParam"?this.pushStackLiteral("blockParams["+o[0]+"].path["+o[1]+"]"+(h?" + "+JSON.stringify("."+h):"")):u==="PathExpression"?this.pushString(o):u==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:l,compileChildren:function(u,o){for(var h=u.children,p=void 0,f=void 0,m=0,v=h.length;m<v;m++){p=h[m],f=new this.compiler;var y=this.matchExistingProgram(p);if(y==null){this.context.programs.push("");var b=this.context.programs.length;p.index=b,p.name="program"+b,this.context.programs[b]=f.compile(p,o,this.context,!this.precompile),this.context.decorators[b]=f.decorators,this.context.environments[b]=p,this.useDepths=this.useDepths||f.useDepths,this.useBlockParams=this.useBlockParams||f.useBlockParams,p.useDepths=this.useDepths,p.useBlockParams=this.useBlockParams}else p.index=y.index,p.name="program"+y.index,this.useDepths=this.useDepths||y.useDepths,this.useBlockParams=this.useBlockParams||y.useBlockParams}},matchExistingProgram:function(u){for(var o=0,h=this.context.environments.length;o<h;o++){var p=this.context.environments[o];if(p&&p.equals(u))return p}},programExpression:function(u){var o=this.environment.children[u],h=[o.index,"data",o.blockParams];return(this.useBlockParams||this.useDepths)&&h.push("blockParams"),this.useDepths&&h.push("depths"),"container.program("+h.join(", ")+")"},useRegister:function(u){this.registers[u]||(this.registers[u]=!0,this.registers.list.push(u))},push:function(u){return u instanceof c||(u=this.source.wrap(u)),this.inlineStack.push(u),u},pushStackLiteral:function(u){this.push(new c(u))},pushSource:function(u){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),u&&this.source.push(u)},replaceStack:function(u){var o=["("],h=void 0,p=void 0,f=void 0;if(!this.isInline())throw new s.default("replaceStack on non-inline");var m=this.popStack(!0);if(m instanceof c)o=["(",h=[m.value]],f=!0;else{p=!0;var v=this.incrStack();o=["((",this.push(v)," = ",m,")"],h=this.topStack()}var y=u.call(this,h);f||this.popStack(),p&&this.stackSlot--,this.push(o.concat(y,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var u=this.inlineStack;this.inlineStack=[];for(var o=0,h=u.length;o<h;o++){var p=u[o];if(p instanceof c)this.compileStack.push(p);else{var f=this.incrStack();this.pushSource([f," = ",p,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(u){var o=this.isInline(),h=(o?this.inlineStack:this.compileStack).pop();if(!u&&h instanceof c)return h.value;if(!o){if(!this.stackSlot)throw new s.default("Invalid stack pop");this.stackSlot--}return h},topStack:function(){var u=this.isInline()?this.inlineStack:this.compileStack,o=u[u.length-1];return o instanceof c?o.value:o},contextName:function(u){return this.useDepths&&u?"depths["+u+"]":"depth"+u},quotedString:function(u){return this.source.quotedString(u)},objectLiteral:function(u){return this.source.objectLiteral(u)},aliasable:function(u){var o=this.aliases[u];return o?(o.referenceCount++,o):((o=this.aliases[u]=this.source.wrap(u)).aliasable=!0,o.referenceCount=1,o)},setupHelper:function(u,o,h){var p=[];return{params:p,paramsInit:this.setupHelperArgs(o,u,p,h),name:this.nameLookup("helpers",o,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(p)}},setupParams:function(u,o,h){var p={},f=[],m=[],v=[],y=!h,b=void 0;y&&(h=[]),p.name=this.quotedString(u),p.hash=this.popStack(),this.trackIds&&(p.hashIds=this.popStack()),this.stringParams&&(p.hashTypes=this.popStack(),p.hashContexts=this.popStack());var k=this.popStack(),w=this.popStack();(w||k)&&(p.fn=w||"container.noop",p.inverse=k||"container.noop");for(var g=o;g--;)b=this.popStack(),h[g]=b,this.trackIds&&(v[g]=this.popStack()),this.stringParams&&(m[g]=this.popStack(),f[g]=this.popStack());return y&&(p.args=this.source.generateArray(h)),this.trackIds&&(p.ids=this.source.generateArray(v)),this.stringParams&&(p.types=this.source.generateArray(m),p.contexts=this.source.generateArray(f)),this.options.data&&(p.data="data"),this.useBlockParams&&(p.blockParams="blockParams"),p},setupHelperArgs:function(u,o,h,p){var f=this.setupParams(u,o,h);return f.loc=JSON.stringify(this.source.currentLocation),f=this.objectLiteral(f),p?(this.useRegister("options"),h.push("options"),["options=",f]):h?(h.push(f),""):f}},function(){for(var u="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),o=l.RESERVED_WORDS={},h=0,p=u.length;h<p;h++)o[u[h]]=!0}(),l.isValidJavaScriptVariableName=function(u){return!l.RESERVED_WORDS[u]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(u)},t.default=l,e.exports=t.default}($s,$s.exports)),$s.exports}var zp=(oc||(oc=1,function(e,t){function n(p){return p&&p.__esModule?p:{default:p}}t.__esModule=!0;var r=n(Fp()),s=n($o()),a=$p(),i=function(){if(Go)return on;function p(g){return g&&g.__esModule?g:{default:g}}Go=1,on.__esModule=!0,on.Compiler=b,on.precompile=function(g,S,_){if(g==null||typeof g!="string"&&g.type!=="Program")throw new f.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+g);"data"in(S=S||{})||(S.data=!0),S.compat&&(S.useDepths=!0);var E=_.parse(g,S),M=new _.Compiler().compile(E,S);return new _.JavaScriptCompiler().compile(M,S)},on.compile=function(g,S,_){if(S===void 0&&(S={}),g==null||typeof g!="string"&&g.type!=="Program")throw new f.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+g);"data"in(S=m.extend({},S))||(S.data=!0),S.compat&&(S.useDepths=!0);var E=void 0;function M(){var L=_.parse(g,S),j=new _.Compiler().compile(L,S),q=new _.JavaScriptCompiler().compile(j,S,void 0,!0);return _.template(q)}function N(L,j){return E||(E=M()),E.call(this,L,j)}return N._setup=function(L){return E||(E=M()),E._setup(L)},N._child=function(L,j,q,B){return E||(E=M()),E._child(L,j,q,B)},N};var f=p(Je()),m=Ae(),v=p($o()),y=[].slice;function b(){}function k(g,S){if(g===S)return!0;if(m.isArray(g)&&m.isArray(S)&&g.length===S.length){for(var _=0;_<g.length;_++)if(!k(g[_],S[_]))return!1;return!0}}function w(g){if(!g.path.parts){var S=g.path;g.path={type:"PathExpression",data:!1,depth:0,parts:[S.original+""],original:S.original+"",loc:S.loc}}}return b.prototype={compiler:b,equals:function(g){var S=this.opcodes.length;if(g.opcodes.length!==S)return!1;for(var _=0;_<S;_++){var E=this.opcodes[_],M=g.opcodes[_];if(E.opcode!==M.opcode||!k(E.args,M.args))return!1}for(S=this.children.length,_=0;_<S;_++)if(!this.children[_].equals(g.children[_]))return!1;return!0},guid:0,compile:function(g,S){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=S,this.stringParams=S.stringParams,this.trackIds=S.trackIds,S.blockParams=S.blockParams||[],S.knownHelpers=m.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},S.knownHelpers),this.accept(g)},compileProgram:function(g){var S=new this.compiler().compile(g,this.options),_=this.guid++;return this.usePartial=this.usePartial||S.usePartial,this.children[_]=S,this.useDepths=this.useDepths||S.useDepths,_},accept:function(g){if(!this[g.type])throw new f.default("Unknown type: "+g.type,g);this.sourceNode.unshift(g);var S=this[g.type](g);return this.sourceNode.shift(),S},Program:function(g){this.options.blockParams.unshift(g.blockParams);for(var S=g.body,_=S.length,E=0;E<_;E++)this.accept(S[E]);return this.options.blockParams.shift(),this.isSimple=_===1,this.blockParams=g.blockParams?g.blockParams.length:0,this},BlockStatement:function(g){w(g);var S=g.program,_=g.inverse;S=S&&this.compileProgram(S),_=_&&this.compileProgram(_);var E=this.classifySexpr(g);E==="helper"?this.helperSexpr(g,S,_):E==="simple"?(this.simpleSexpr(g),this.opcode("pushProgram",S),this.opcode("pushProgram",_),this.opcode("emptyHash"),this.opcode("blockValue",g.path.original)):(this.ambiguousSexpr(g,S,_),this.opcode("pushProgram",S),this.opcode("pushProgram",_),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(g){var S=g.program&&this.compileProgram(g.program),_=this.setupFullMustacheParams(g,S,void 0),E=g.path;this.useDecorators=!0,this.opcode("registerDecorator",_.length,E.original)},PartialStatement:function(g){this.usePartial=!0;var S=g.program;S&&(S=this.compileProgram(g.program));var _=g.params;if(_.length>1)throw new f.default("Unsupported number of partial arguments: "+_.length,g);_.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):_.push({type:"PathExpression",parts:[],depth:0}));var E=g.name.original,M=g.name.type==="SubExpression";M&&this.accept(g.name),this.setupFullMustacheParams(g,S,void 0,!0);var N=g.indent||"";this.options.preventIndent&&N&&(this.opcode("appendContent",N),N=""),this.opcode("invokePartial",M,E,N),this.opcode("append")},PartialBlockStatement:function(g){this.PartialStatement(g)},MustacheStatement:function(g){this.SubExpression(g),g.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(g){this.DecoratorBlock(g)},ContentStatement:function(g){g.value&&this.opcode("appendContent",g.value)},CommentStatement:function(){},SubExpression:function(g){w(g);var S=this.classifySexpr(g);S==="simple"?this.simpleSexpr(g):S==="helper"?this.helperSexpr(g):this.ambiguousSexpr(g)},ambiguousSexpr:function(g,S,_){var E=g.path,M=E.parts[0],N=S!=null||_!=null;this.opcode("getContext",E.depth),this.opcode("pushProgram",S),this.opcode("pushProgram",_),E.strict=!0,this.accept(E),this.opcode("invokeAmbiguous",M,N)},simpleSexpr:function(g){var S=g.path;S.strict=!0,this.accept(S),this.opcode("resolvePossibleLambda")},helperSexpr:function(g,S,_){var E=this.setupFullMustacheParams(g,S,_),M=g.path,N=M.parts[0];if(this.options.knownHelpers[N])this.opcode("invokeKnownHelper",E.length,N);else{if(this.options.knownHelpersOnly)throw new f.default("You specified knownHelpersOnly, but used the unknown helper "+N,g);M.strict=!0,M.falsy=!0,this.accept(M),this.opcode("invokeHelper",E.length,M.original,v.default.helpers.simpleId(M))}},PathExpression:function(g){this.addDepth(g.depth),this.opcode("getContext",g.depth);var S=g.parts[0],_=v.default.helpers.scopedId(g),E=!g.depth&&!_&&this.blockParamIndex(S);E?this.opcode("lookupBlockParam",E,g.parts):S?g.data?(this.options.data=!0,this.opcode("lookupData",g.depth,g.parts,g.strict)):this.opcode("lookupOnContext",g.parts,g.falsy,g.strict,_):this.opcode("pushContext")},StringLiteral:function(g){this.opcode("pushString",g.value)},NumberLiteral:function(g){this.opcode("pushLiteral",g.value)},BooleanLiteral:function(g){this.opcode("pushLiteral",g.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(g){var S=g.pairs,_=0,E=S.length;for(this.opcode("pushHash");_<E;_++)this.pushParam(S[_].value);for(;_--;)this.opcode("assignToHash",S[_].key);this.opcode("popHash")},opcode:function(g){this.opcodes.push({opcode:g,args:y.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(g){g&&(this.useDepths=!0)},classifySexpr:function(g){var S=v.default.helpers.simpleId(g.path),_=S&&!!this.blockParamIndex(g.path.parts[0]),E=!_&&v.default.helpers.helperExpression(g),M=!_&&(E||S);if(M&&!E){var N=g.path.parts[0],L=this.options;L.knownHelpers[N]?E=!0:L.knownHelpersOnly&&(M=!1)}return E?"helper":M?"ambiguous":"simple"},pushParams:function(g){for(var S=0,_=g.length;S<_;S++)this.pushParam(g[S])},pushParam:function(g){var S=g.value!=null?g.value:g.original||"";if(this.stringParams)S.replace&&(S=S.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),g.depth&&this.addDepth(g.depth),this.opcode("getContext",g.depth||0),this.opcode("pushStringParam",S,g.type),g.type==="SubExpression"&&this.accept(g);else{if(this.trackIds){var _=void 0;if(!g.parts||v.default.helpers.scopedId(g)||g.depth||(_=this.blockParamIndex(g.parts[0])),_){var E=g.parts.slice(1).join(".");this.opcode("pushId","BlockParam",_,E)}else(S=g.original||S).replace&&(S=S.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",g.type,S)}this.accept(g)}},setupFullMustacheParams:function(g,S,_,E){var M=g.params;return this.pushParams(M),this.opcode("pushProgram",S),this.opcode("pushProgram",_),g.hash?this.accept(g.hash):this.opcode("emptyHash",E),M},blockParamIndex:function(g){for(var S=0,_=this.options.blockParams.length;S<_;S++){var E=this.options.blockParams[S],M=E&&m.indexOf(E,g);if(E&&M>=0)return[S,M]}}},on}(),d=n(Gp()),c=n(Fl()),l=n(Dl()),u=r.default.create;function o(){var p=u();return p.compile=function(f,m){return i.compile(f,m,p)},p.precompile=function(f,m){return i.precompile(f,m,p)},p.AST=s.default,p.Compiler=i.Compiler,p.JavaScriptCompiler=d.default,p.Parser=a.parser,p.parse=a.parse,p.parseWithoutProcessing=a.parseWithoutProcessing,p}var h=o();h.create=o,l.default(h),h.Visitor=c.default,h.default=h,t.default=h,e.exports=t.default}(_s,_s.exports)),_s.exports);const Vp=qa(zp),Zp=`
<user>
{{{userMessage}}}
</user>
{{#if hasActions}}
<agent_actions>
{{#if filesModified}}
	<files_modified>
{{#each filesModified}}
		{{{this}}}
{{/each}}
	</files_modified>
{{/if}}
{{#if filesCreated}}
	<files_created>
{{#each filesCreated}}
		{{{this}}}
{{/each}}
	</files_created>
{{/if}}
{{#if filesDeleted}}
	<files_deleted>
{{#each filesDeleted}}
		{{{this}}}
{{/each}}
	</files_deleted>
{{/if}}
{{#if filesViewed}}
	<files_viewed>
{{#each filesViewed}}
		{{{this}}}
{{/each}}
	</files_viewed>
{{/if}}
{{#if terminalCommands}}
	<terminal_commands>
{{#each terminalCommands}}
		{{{this}}}
{{/each}}
	</terminal_commands>
{{/if}}
</agent_actions>
{{/if}}
{{#if agentResponse}}
<agent_response>
{{{agentResponse}}}
</agent_response>
{{else if wasInterrupted}}
<agent_was_interrupted/>
{{else if continues}}
<agent_continues/>
{{/if}}
`.trim(),dy=Vp.compile(Zp);var cc,lc,Wp=function(){if(lc)return cc;function e(t,n){n=n||{},this._capacity=n.capacity,this._head=0,this._tail=0,Array.isArray(t)?this._fromArray(t):(this._capacityMask=3,this._list=new Array(4))}return lc=1,e.prototype.peekAt=function(t){var n=t;if(n===(0|n)){var r=this.size();if(!(n>=r||n<-r))return n<0&&(n+=r),n=this._head+n&this._capacityMask,this._list[n]}},e.prototype.get=function(t){return this.peekAt(t)},e.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},e.prototype.peekFront=function(){return this.peek()},e.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(e.prototype,"length",{get:function(){return this.size()}}),e.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},e.prototype.unshift=function(t){if(arguments.length===0)return this.size();var n=this._list.length;return this._head=this._head-1+n&this._capacityMask,this._list[this._head]=t,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},e.prototype.shift=function(){var t=this._head;if(t!==this._tail){var n=this._list[t];return this._list[t]=void 0,this._head=t+1&this._capacityMask,t<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),n}},e.prototype.push=function(t){if(arguments.length===0)return this.size();var n=this._tail;return this._list[n]=t,this._tail=n+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},e.prototype.pop=function(){var t=this._tail;if(t!==this._head){var n=this._list.length;this._tail=t-1+n&this._capacityMask;var r=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&t>1e4&&t<=n>>>2&&this._shrinkArray(),r}},e.prototype.removeOne=function(t){var n=t;if(n===(0|n)&&this._head!==this._tail){var r=this.size(),s=this._list.length;if(!(n>=r||n<-r)){n<0&&(n+=r),n=this._head+n&this._capacityMask;var a,i=this._list[n];if(t<r/2){for(a=t;a>0;a--)this._list[n]=this._list[n=n-1+s&this._capacityMask];this._list[n]=void 0,this._head=this._head+1+s&this._capacityMask}else{for(a=r-1-t;a>0;a--)this._list[n]=this._list[n=n+1+s&this._capacityMask];this._list[n]=void 0,this._tail=this._tail-1+s&this._capacityMask}return i}}},e.prototype.remove=function(t,n){var r,s=t,a=n;if(s===(0|s)&&this._head!==this._tail){var i=this.size(),d=this._list.length;if(!(s>=i||s<-i||n<1)){if(s<0&&(s+=i),n===1||!n)return(r=new Array(1))[0]=this.removeOne(s),r;if(s===0&&s+n>=i)return r=this.toArray(),this.clear(),r;var c;for(s+n>i&&(n=i-s),r=new Array(n),c=0;c<n;c++)r[c]=this._list[this._head+s+c&this._capacityMask];if(s=this._head+s&this._capacityMask,t+n===i){for(this._tail=this._tail-n+d&this._capacityMask,c=n;c>0;c--)this._list[s=s+1+d&this._capacityMask]=void 0;return r}if(t===0){for(this._head=this._head+n+d&this._capacityMask,c=n-1;c>0;c--)this._list[s=s+1+d&this._capacityMask]=void 0;return r}if(s<i/2){for(this._head=this._head+t+n+d&this._capacityMask,c=t;c>0;c--)this.unshift(this._list[s=s-1+d&this._capacityMask]);for(s=this._head-1+d&this._capacityMask;a>0;)this._list[s=s-1+d&this._capacityMask]=void 0,a--;t<0&&(this._tail=s)}else{for(this._tail=s,s=s+n+d&this._capacityMask,c=i-(n+t);c>0;c--)this.push(this._list[s++]);for(s=this._tail;a>0;)this._list[s=s+1+d&this._capacityMask]=void 0,a--}return this._head<2&&this._tail>1e4&&this._tail<=d>>>2&&this._shrinkArray(),r}}},e.prototype.splice=function(t,n){var r=t;if(r===(0|r)){var s=this.size();if(r<0&&(r+=s),!(r>s)){if(arguments.length>2){var a,i,d,c=arguments.length,l=this._list.length,u=2;if(!s||r<s/2){for(i=new Array(r),a=0;a<r;a++)i[a]=this._list[this._head+a&this._capacityMask];for(n===0?(d=[],r>0&&(this._head=this._head+r+l&this._capacityMask)):(d=this.remove(r,n),this._head=this._head+r+l&this._capacityMask);c>u;)this.unshift(arguments[--c]);for(a=r;a>0;a--)this.unshift(i[a-1])}else{var o=(i=new Array(s-(r+n))).length;for(a=0;a<o;a++)i[a]=this._list[this._head+r+n+a&this._capacityMask];for(n===0?(d=[],r!=s&&(this._tail=this._head+r+l&this._capacityMask)):(d=this.remove(r,n),this._tail=this._tail-o+l&this._capacityMask);u<c;)this.push(arguments[u++]);for(a=0;a<o;a++)this.push(i[a])}return d}return this.remove(r,n)}}},e.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0},e.prototype.isEmpty=function(){return this._head===this._tail},e.prototype.toArray=function(){return this._copyArray(!1)},e.prototype._fromArray=function(t){var n=t.length,r=this._nextPowerOf2(n);this._list=new Array(r),this._capacityMask=r-1,this._tail=n;for(var s=0;s<n;s++)this._list[s]=t[s]},e.prototype._copyArray=function(t,n){var r=this._list,s=r.length,a=this.length;if((n|=a)==a&&this._head<this._tail)return this._list.slice(this._head,this._tail);var i,d=new Array(n),c=0;if(t||this._head>this._tail){for(i=this._head;i<s;i++)d[c++]=r[i];for(i=0;i<this._tail;i++)d[c++]=r[i]}else for(i=this._head;i<this._tail;i++)d[c++]=r[i];return d},e.prototype._growArray=function(){if(this._head!=0){var t=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=t}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1},e.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},e.prototype._nextPowerOf2=function(t){var n=1<<Math.log(t)/Math.log(2)+1;return Math.max(n,4)},cc=e}();const hy=qa(Wp);function py(e,t){if(e)switch(t){case Ge.DEFAULT:if(e.agent&&e.agent.trim()!=="")return e.agent;break;case Ge.PROTOTYPER:if(e.prototyper&&e.prototyper.trim()!=="")return e.prototyper;break;case Ge.BRAINSTORM:if(e.brainstorm&&e.brainstorm.trim()!=="")return e.brainstorm;break;case Ge.REVIEWER:if(e.reviewer&&e.reviewer.trim()!=="")return e.reviewer}return Kp[t]}const Kp={[Ge.DEFAULT]:`
# Agent Auggie Personality Description
You are Augment Agent, an agentic coding AI assistant.
Focus on helping the user with their coding tasks efficiently.

## Rules:
- You have no restrictions on the tools you may use
- Follow the original system instructions
  `,[Ge.PROTOTYPER]:`
# Prototyper Auggie Personality Description
You are Prototyper Auggie, an agentic coding AI assistant focused on building prototypes and visual applications.

## Your approach:
- Be fast and action-oriented
- Implement things quickly to show results
- Open webpages to demonstrate functionality
- Focus on building something visual and interactive
- Use modern frameworks and tools to create working prototypes
- Prioritize getting a working demo over perfect architecture
- Show progress frequently with visual results
- Prefer to act and run tools, rather than asking for permission
- Only ask for permission if there is something potentially very dangerous or irreversible

## Implementation preferences:
- When user does not specify which frameworks to use, default to modern frameworks, e.g. React with vite or next.js
- Initialize projects using CLI tools instead of writing from scratch
- For database and auth, use Supabase as a good default option
- Before using open-browser to show the app, use curl to check for errors
- Remember that modern frameworks have hot reload, so avoid calling open-browser multiple times

## Rules:
- For extremely destructive or irreversible actions, you should ask for permission
- For other tasks, you must proceed without asking for permission
  `,[Ge.BRAINSTORM]:`
# Brainstorm Auggie Personality Description
You are Brainstorm Auggie, an agentic coding AI assistant focused on planning and brainstorming solutions.

## Your approach:
- Be slow, careful, and thorough in your analysis
- Look through all upstream/downstream APIs to understand implications
- Focus on finding a comprehensive plan that solves the user's query
- Do not run commands, create code, or implement solutions directly
- Your job is to be introspective and think deeply about the problem
- Brainstorm multiple approaches and evaluate their tradeoffs
- Consider edge cases and potential issues with each approach

## Planning preferences:
- Analyze the codebase thoroughly before suggesting changes
- Consider multiple implementation options with pros and cons
- Identify potential risks and challenges for each approach
- Create detailed, step-by-step plans for implementation
- Provide reasoning for architectural decisions
- Consider performance, maintainability, and scalability
- Do not execute the plan - your role is to provide guidance only

## Rules:
- Prefer information gathering and non-destructive tools
- Prefer non-destructive and non-modifying tools
- You must never execute code, modify the codebase, or make changes
- Consider using Mermaid diagrams to help visualize complex concepts
- Once you have a proposal, please examine it critically, and do a revision before finalizing
  `,[Ge.REVIEWER]:`
# Reviewer Auggie Personality Description
You are Reviewer Auggie, an agentic coding AI assistant focused on reviewing code changes and identifying potential issues.

## Your approach:
- Act like a code detective to find potential bugs and issues
- Use git commands to analyze changes against the merge base
- Be super inquisitive and look for anything suspicious
- Build a mental model of what is happening in the code change
- Analyze API implications and downstream effects
- Guard the codebase from potential negative side effects
- Focus on understanding the changes from first principles

## Review preferences:
- Use git and GitHub tools to get code history information
- Compare changes against the logical base or merge base
- Look for edge cases and potential bugs
- Analyze API contracts and potential breaking changes
- Consider performance implications
- Check for security vulnerabilities
- Verify test coverage for the changes

## Rules:
- Use git commands and GitHub API to analyze code changes
- Be thorough and methodical in your analysis
- Focus on finding potential issues rather than implementing solutions
- Provide constructive feedback with specific examples
- Consider both the technical implementation and the broader impact
  `};function fy(e){return e.extraData?.isAgentConversation===!0}var Qt=(e=>(e[e.active=0]="active",e[e.inactive=1]="inactive",e))(Qt||{});function O(e,t){function n(...r){const s=Array.isArray(r)&&r.length>1;return t?s||r.length===0?{type:e,payload:t(...r)}:{type:e,payload:t(r[0])}:r.length===0?{type:e,payload:void 0}:r.length===1?{type:e,payload:r[0]}:{type:e,payload:r}}return n.type=e,n.toString=()=>e,n}function ts(e,t,n){function r(...i){let d,c,l;const u=new Promise((p,f)=>{c=p,l=f});n?d=Array.isArray(i)&&i.length>1||i.length===0?n(...i):n(i[0]):d=i.length===0?void 0:i.length===1?i[0]:i;const o=O(`${t}_SUCCESS`,p=>(c(p),{request:d,response:p})),h=O(`${t}_FAILURE`,p=>(l(p),{request:d,error:p}));return{type:t,asyncActionType:e,payload:d,promise:u,success:o,failure:h}}const s=O(`${t}_SUCCESS`,i=>({request:void 0,response:i})),a=O(`${t}_FAILURE`,i=>({request:void 0,error:i}));return r.type=t,r.asyncActionType=e,r.success=s,r.failure=a,r.toString=()=>t,r}const Jt=e=>typeof e=="string",ut=(e,t)=>{if(!t)return{idField:e,ids:[],map:{},refsCount:{}};const n=t.map(s=>s[e]),r=t.reduce((s,a)=>{const i=a[e];return{...s,[i]:a}},{});return{idField:e,ids:n,map:r,refsCount:{}}},uc=new Set(Object.keys(ut("id",[]))),jl=e=>({...e,ids:[],map:{},refsCount:{}}),kt=(e,t)=>{const{idField:n}=e,r=t[n];if(!Jt(r))return e;if(e.map[r])return Zt(e,t);const s=e.ids.concat(t[n]).filter((a,i,d)=>d.indexOf(a)===i);return{...e,ids:s,map:{...e.map,[r]:t}}},cn=(e,t)=>{const{idField:n}=e,r=t[n];return Jt(r)?ql(kt(e,t),r):e},Zt=(e,t)=>{const{idField:n}=e,r=t[n];if(!Jt(r))return e;const s={...e.map[r],...t};return Ft(s,e.map[r])?e:{...e,map:{...e.map,[r]:{...e.map[r],...t}}}},sr=(e,t)=>{if(!Jt(t))return e;const n=e.ids.filter(s=>s!==t);if(n.length===e.ids.length&&!e.map[t])return e;const r={...e.map};return delete r[t],{...e,ids:n,map:r}},ql=(e,t)=>Jt(t)?{...e,refsCount:{...e.refsCount,[t]:(e.refsCount[t]||0)+1}}:e,Mt=(e,t)=>{if(!Jt(t))return e;const n=(e.refsCount[t]||0)-1;if(n<=0){const r={...e.refsCount};return delete r[t],sr({...e,refsCount:r},t)}return{...e,refsCount:{...e.refsCount,[t]:n}}},le=(e,t)=>e.map[t],me=(e,t)=>e.ids.map(n=>e.map[n]).filter(t),Ve=e=>{const t={},n=(r=e,s)=>{const a=t[s.type];return a?.(r,s)??r};return n.with=(r,s)=>(t[r.type]=s,n),n.initialState=e,n},Yp=O("conversations/setCurrentConversationId"),Bl=O("conversations/setCurrentConversation"),Qp=O("conversations/addConversation"),Jp=O("conversations/updateConversation"),Xp=O("conversations/removeConversation"),ef=ut("id"),zs=e=>({id:e.id,extraData:e.extraData}),tf=Ve({currentConversationId:void 0,collection:ef}).with(Yp,(e,t)=>({...e,currentConversationId:t.payload})).with(Bl,(e,t)=>{const n=t.payload;if(!n)return{...e,currentConversationId:void 0};const r=le(e.collection,n.id),s=zs(n);if(Ft(s,r)&&e.currentConversationId===n.id)return e;const a=kt(e.collection,s);return{currentConversationId:n.id,collection:a}}).with(Jp,(e,t)=>{const n=t.payload,r=le(e.collection,n.id),s=zs(n),a=(r?Zt:kt)(e.collection,s);return Ft(le(a,n.id),le(e.collection,n.id))?e:{...e,collection:a}}).with(Qp,(e,t)=>{const n=t.payload;return{...e,collection:kt(e.collection,zs(n))}}).with(Xp,(e,t)=>{const n=t.payload;return{...e,collection:sr(e.collection,n)}}),Hl="sendSidecarAsyncMessage",Gl="sendAsyncMessage";function Xe(e,t){return ts(Hl,e,t)}function ns(e,t){return ts(Gl,e,t)}var ht=(e=>(e.getRulesListRequest="get-rules-list-request",e.getRulesListResponse="get-rules-list-response",e.createRule="create-rule",e.createRuleResponse="create-rule-response",e.openRule="open-rule",e.openGuidelines="open-guidelines",e.deleteRule="delete-rule",e.updateRuleFile="update-rule-file",e.updateRuleFileResponse="update-rule-file-response",e.getWorkspaceRoot="get-workspace-root",e.getWorkspaceRootResponse="get-workspace-root-response",e.autoImportRules="auto-import-rules",e.autoImportRulesOptionsResponse="auto-import-rules-options-response",e.autoImportRulesSelectionRequest="auto-import-rules-selection-request",e.autoImportRulesResponse="auto-import-rules-response",e.processSelectedPathsRequest="process-selected-paths-request",e.processSelectedPathsResponse="process-selected-paths-response",e))(ht||{});const nf={dialogs:{createRule:!1,autoImport:!1},errors:{createRule:void 0,autoImport:void 0},successMessages:{createRule:void 0,autoImport:void 0},loadingState:{createRule:!1,autoImport:!1},fetchParams:{includeGuidelines:!0},autoImportOptions:void 0,collection:ut("id")},wa=e=>`${e.path} ${e.type}`,rf=O("showCreateRuleDialog"),sf=O("hideCreateRuleDialog"),zl=O("setSuccessMessage",(e,t)=>({[e]:t})),af=O("setErrorMessage",(e,t)=>({[e]:t})),Vl=O("setRulesFetchParams",e=>({includeGuidelines:e})),of=O("requestRules"),Yn=Xe("fetchRules",e=>({type:ht.getRulesListRequest,data:e})),bn=Xe("createRule",e=>({type:ht.createRule,data:{ruleName:e.trim()}})),cf=Xe("rules/saveRule",e=>{const t=la.formatRuleFileForMarkdown(e);return{type:ht.updateRuleFile,data:{path:e.path,content:t}}}),Zl=O("rules/updateRules"),Wl=ns("initDeleteRule",e=>({type:I.openConfirmationModal,data:{title:"Delete Rule",message:"Are you sure you want to delete this rule?",confirmButtonText:"Delete",cancelButtonText:"Cancel"},_metadata:{path:e}})),dc=Xe("deleteRule",(e,t=!0)=>({type:ht.deleteRule,data:{path:e,confirmed:t}})),Vs=Xe("processSelectedRulePaths",e=>({type:ht.processSelectedPathsRequest,data:{selectedPaths:e,autoImport:!0}})),Zs=Xe("fetchAutoimportOptions",()=>({type:ht.autoImportRules})),Sn=Xe("processAutoImportSelection",e=>({type:ht.autoImportRulesSelectionRequest,data:{selectedLabel:e.label}})),Kl=ns("selectFilesToImport",()=>({type:I.triggerImportDialogRequest})),rs=e=>(t,n)=>({...t,[e]:{...t[e],...n}}),mr=rs("dialogs"),ln=rs("errors"),hc=rs("successMessages"),un=rs("loadingState"),lf=Ve(nf).with(rf,(e,t)=>mr(e,{[t.payload]:!0})).with(sf,(e,t)=>mr(e,{[t.payload]:!1})).with(zl,(e,t)=>hc(e,t.payload)).with(af,(e,t)=>ln(e,t.payload)).with(bn,e=>ln(e,{createRule:void 0})).with(bn.failure,(e,t)=>ln(e,{createRule:`Failed to create rule ${t.payload.request.data?.ruleName}`})).with(bn.success,e=>ln(mr(e,{createRule:!1}),{createRule:void 0})).with(Zl,(e,{payload:t})=>{const n=t.reduce((r,s)=>{const a={id:wa(s),rule:s};return le(r,a.id)?Zt(r,a):r},e.collection);return Ft(e.collection,n)?e:{...e,collection:n}}).with(Vl,(e,t)=>({...e,fetchParams:t.payload})).with(Yn,e=>un(e,{createRule:!0})).with(Yn.failure,e=>un(e,{createRule:!1})).with(Yn.success,(e,t)=>{const{includeGuidelines:n=!1}=t.payload.request.data||{};if(!Ft(e.fetchParams,{includeGuidelines:n}))return e;const r=t.payload.response.data.rules.reduce((s,a)=>kt(s,{id:wa(a),rule:a}),ut("id"));return un({...e,collection:r},{createRule:!1})}).with(Zs,e=>un(e,{autoImport:!0})).with(Zs.success,(e,t)=>{const{options:n}=t.payload.response.data,r={...e,autoImportOptions:n};return mr(un(r,{autoImport:!1}),{autoImport:!0})}).with(Zs.failure,(e,t)=>ln(e,{autoImport:t.payload.error.message})).with(Sn,e=>{const t=un(e,{autoImport:!0}),n=hc(t,{autoImport:""});return ln(n,{autoImport:void 0})}).with(Sn.success,(e,t)=>{const{selectedLabel:n}=t.payload.request.data,{importedRulesCount:r,duplicatesCount:s,totalAttempted:a}=t.payload.response.data;let i=`Successfully imported ${r} rule${r!==1?"s":""} from ${n}`;return s>0&&(i+=`, ${s} duplicate${s!==1?"s":""} skipped`),a>r+s&&(i+=`, ${a-r-s} failed`),{...e,loadingState:{...e.loadingState,autoImport:!1},successMessages:{...e.successMessages,autoImport:i}}}).with(Sn.failure,e=>({...e,loadingState:{...e.loadingState,autoImport:!1},errors:{...e.successMessages,autoImport:"Failed to import rules. Please try again."}})),Yl="reduxStore",Gr=()=>pe(Yl),pt=e=>{if(e==null)throw new Error("Unexpected empty value");return e};function gy(e){const t=ss();return(...n)=>t(e(...n))}function ss(){const e=Gr();if(!e?.store)throw new Error("Missing redux store context. Wrap root component into <Store/>");return t=>e.store.dispatch(t)}const Ql=e=>{const t=()=>e.getState();return Dc(t(),n=>(n(t()),e.subscribe(()=>n(t()))))},Jl=(e,t,n,r=[])=>e==null||typeof e!="object"?e:new Proxy(e,{get(s,a){const i=s[a];if(!a||typeof a=="string"&&uc.has(a)&&(l=>{const u=Object.keys(l);for(const o of u)if(!uc.has(o))return!1;return!0})(s))return i;const d=[...r,a],c=JSON.stringify(d);return n.set(c,d),t.add(c),i===null||typeof i!="object"||Array.isArray(i)?i:Jl(i,t,n,d)}}),uf=(e,t,n)=>{let r=e,s=t;for(const a of n)if(r=r?r[a]:void 0,s=s?s[a]:void 0,r===s)return!1;return!0},df=e=>{let t,n,r,s=new Set,a=new Map;return(i,...d)=>{const c=!n||!Ft(d,n),l=!r||((p,f,m,v)=>{for(const y of m){const b=v.get(y);if(b&&uf(p,f,b))return!0}return!1})(r,i,s,a);if(!c&&!l&&t!==void 0)return t;const u=new Set,o=Jl(i,u,a),h=e(o,...d);return t=h,n=d,r=i,s=u,h}},D=e=>{const t=(r,...s)=>{const a=df(e),i=s.map(d=>(c=>!(!c||typeof c!="object")&&"subscribe"in c&&typeof c.subscribe=="function")(d)?d:Dc(d));return Fc([r,...i],([d,...c])=>a(d,...c))},n=(...r)=>{const{storeState:s}=Gr();return t(s,...r)};return n.withStore=r=>(...s)=>t(Ql(r),...s),n.select=e,n.raw=(...r)=>(s=>{const{store:a}=Gr();return s(a.getState())})(s=>e(s,...r)),n},Qa=e=>D((t,n)=>e(t).map[n]),Xl=(e,t)=>D(n=>{const{map:r,ids:s}=e(n);return s.map(a=>r[a])}),pc=D(e=>e.rules.fetchParams),eu=D(e=>e.rules.collection),hf=Qa(eu.select),pf=Xl(eu.select);D((e,t,n)=>hf.select(e,wa({path:t,type:n}))?.rule);const my=D(e=>pf.select(e).map(({rule:t})=>t)),yy=D((e,t)=>e.rules.dialogs[t]||!1),vy=D((e,t)=>e.rules.errors[t]),_y=D((e,t)=>e.rules.successMessages[t]),by=D((e,t)=>e.rules.loadingState[t]),Sy=D(e=>e.rules.autoImportOptions),ky={allDefaultContext:!0,label:"Default Context",id:"allDefaultContext"},wy={clearContext:!0,label:"Clear Context",id:"clearContext"},tu={agentMemories:{},label:"Agent Memories",id:"agentMemories"},fc=[{personality:{type:Ge.DEFAULT,description:"Expert software engineer - trusted coding agent, at your service!"},label:"Agent Auggie",name:"auggie-personality-agent-default",id:"auggie-personality-agent-default"},{personality:{type:Ge.PROTOTYPER,description:"Fast and loose - let's get it done, boss!"},label:"Prototyper Auggie",name:"auggie-personality-prototyper",id:"auggie-personality-prototyper"},{personality:{type:Ge.BRAINSTORM,description:"Thoughtful and creative - thinking through all possibilities..."},label:"Brainstorm Auggie",name:"auggie-personality-brainstorm",id:"auggie-personality-brainstorm"},{personality:{type:Ge.REVIEWER,description:"Code detective - finding issues and analyzing implications"},label:"Reviewer Auggie",name:"auggie-personality-reviewer",id:"auggie-personality-reviewer"}];function ff(e){const t=gl({rootPath:e.repoRoot,relPath:e.pathName}),n={label:Yc(e.pathName).split("/").filter(r=>r.trim()!=="").pop()||"",name:t,id:t};if(e.fullRange){const r=`:L${e.fullRange.startLineNumber}-${e.fullRange.endLineNumber}`;n.label+=r,n.name+=r,n.id+=r}else if(e.range){const r=`:L${e.range.start}-${e.range.stop}`;n.label+=r,n.name+=r,n.id+=r}return n}function gf(e){const t=e.path.split("/"),n=t[t.length-1],r=n.endsWith(".md")?n.slice(0,-3):n,s=e.settingsStored?e.path:`${wh}/${Ch}/${e.path}`;return{label:r,name:s,id:s}}const nu="empty-selection",Ca="source-folders-group",mf={collection:ut("id"),currentMentionablesQuery:"",mentionsResults:{},workspaceGuidelines:ut("workspaceFolder"),pinnedItems:{},activeItems:{},warnings:{},isContextEnabled:!0,syncStatus:{status:ml.done,foldersProgress:[]},syncEnabledState:Ha.initializing,enableAgentMemoriesFlag:!1},ru=ts("context/fetch","context/fetchMentionables"),yf=O("context/clearSeachResults"),vf=O("context/disableContext"),_f=O("context/enableContext"),bf=O("context/addContextItems"),Sf=O("context/removeContextItems"),kf=O("context/clearContextFiles"),wf=O("context/toggleItemStatus"),Cf=O("context/setItemStatus",(e,t)=>({id:e,status:t})),Ja=O("context/markItemsActive"),su=O("context/markItemsInactive"),xf=O("context/markAllItemsActive"),Ef=O("context/markAllItemsInactive"),Tf=O("context/toggleItemPinned"),au=O("context/pinItem"),iu=O("context/unpinItem"),ou=O("context/unpinItems"),Af=O("context/unpinAllItems"),cu=O("context/updateSelections"),lu=O("context/setCurrentlyOpenFiles"),uu=O("context/enableAgentMemories"),du=O("context/disableAgentMemories"),xa=O("context/updateSourceFolders"),hu=O("context/updateSyncStatus"),pu=O("context/updateSyncEnabledState"),fu=O("context/updateUserGuidelines",(e,t)=>{const n=e.overLimit||(t?.overLimit??!1);return{userGuidelines:e,label:"User Guidelines",id:"userGuidelines",status:Qt.active,referenceCount:1,showWarning:n,rulesAndGuidelinesState:t}}),gu=O("context/updateGuidelinesState"),gc=O("context/updateGuidelineState"),It=e=>{const{collection:t,pinnedItems:n,activeItems:r,warnings:s}=e,a=[n,r,s],i=a.map(u=>((o,h)=>{let p=!1;const f=h.ids.concat("agentMemories").reduce((m,v)=>((v==="agentMemories"||le(h,v))&&o[v]&&(p=!0,m[v]=o[v]),m),{});return p?f:o})(u,t));if(Ft(a,i))return e;const[d,c,l]=i;return{...e,pinnedItems:d,activeItems:c,warnings:l}},Mf=Ve(mf).with(ru.success,(e,t)=>{const{mentionables:n,mentionablesCollection:r,query:s}=t.payload.response,a=r||ut("id",n);return{...e,currentMentionablesQuery:s,mentionsResults:{...e.mentionsResults,[s]:a}}}).with(yf,e=>({...e,currentMentionablesQuery:"",mentionsResults:{"":e.mentionsResults[""]}})).with(_f,e=>({...e,isContextEnabled:!0})).with(vf,e=>({...e,isContextEnabled:!1})).with(bf,(e,t)=>{const n=t.payload.reduce((r,s)=>cn(r,s),e.collection);return{...e,collection:n}}).with(Sf,(e,t)=>{const n=t.payload.reduce((r,s)=>Mt(r,s),e.collection);return It({...e,collection:n})}).with(kf,e=>{const{collection:t,pinnedItems:n}=e,r=t.ids.reduce((s,a)=>{const i=le(s,a);return El(i)&&(!Pr(i)||n[i.id])?Mt(s,a):s},e.collection);return It({...e,collection:r})}).with(wf,(e,t)=>{const n=t.payload;return{...e,activeItems:{...e.activeItems,[n]:!e.activeItems[n]}}}).with(Cf,(e,t)=>{const{id:n,status:r}=t.payload;return e.activeItems[n]?e:{...e,activeItems:{...e.activeItems,[n]:r===Qt.active}}}).with(Ja,(e,t)=>{const n=t.payload;return n.some(r=>!e.activeItems[r])?{...e,activeItems:n.reduce((r,s)=>(r[s]=!0,r),{...e.activeItems})}:e}).with(su,(e,t)=>{const n=t.payload;return n.some(r=>e.activeItems[r])?{...e,activeItems:n.reduce((r,s)=>(r[s]=!1,r),{...e.activeItems})}:e}).with(au,(e,t)=>{const n=t.payload;return!le(e.collection,n)||e.pinnedItems[n]?e:{...e,collection:ql(e.collection,n),pinnedItems:{...e.pinnedItems,[n]:!0}}}).with(iu,(e,t)=>{const n=t.payload;return le(e.collection,n)&&e.pinnedItems[n]?It({...e,collection:Mt(e.collection,n),pinnedItems:{...e.pinnedItems,[n]:!1}}):e}).with(ou,(e,t)=>{const n=t.payload;return n.filter(r=>e.pinnedItems[r]&&le(e.collection,r)).length===0?e:It({...e,collection:n.reduce((r,s)=>Mt(r,s),e.collection),pinnedItems:n.reduce((r,s)=>(r[s]=!1,r),{...e.pinnedItems})})}).with(cu,(e,t)=>{const n=t.payload,{collection:r}=e,s=r.ids.reduce((c,l)=>Va(le(c,l))?Mt(c,l):c,r),a=n.map(c=>({selection:c,...so(c)})),i={selection:{repoRoot:"",pathName:""},label:"No Code Selected",name:"empty-selection",id:nu};a.length===0&&a.push(i);const d=a.reduce((c,l)=>({...c,[l.id]:!0}),{...e.activeItems});return It({...e,activeItems:d,collection:a.reduce((c,l)=>cn(c,l),s)})}).with(lu,(e,t)=>{const n=t.payload;if(n.length===0)return e;const{collection:r}=e,s=me(r,Pr),a=s.reduce((c,{id:l})=>Mt(c,l),r),i=s.reduce((c,l)=>{const u=le(c,l.id);if(!u)return c;const{recentFile:o,...h}=u;return((p,f)=>{const{idField:m}=p,v=f[m];return Jt(v)?Ft(f,p.map[v])?p:{...p,map:{...p.map,[v]:f}}:p})(c,{file:o,...h})},a),d=n.map(c=>({file:c,recentFile:c,...so(c)}));return It({...e,activeItems:d.reduce((c,{id:l})=>(c[l]=!0,c),{...e.activeItems}),collection:d.reduce((c,l)=>cn(c,l),i)})}).with(uu,e=>e.enableAgentMemoriesFlag?e:{...e,enableAgentMemoriesFlag:!0}).with(du,e=>e.enableAgentMemoriesFlag?{...e,enableAgentMemoriesFlag:!1}:e).with(xa,(e,t)=>{const{collection:n,workspaceGuidelines:r}=e,s=t.payload,a=me(n,er).reduce((d,{id:c})=>Mt(d,c),n),i=s.map(d=>{const c=le(r,d.folderRoot),l={...d,guidelinesOverLimit:c?.overLimit??!1,guidelinesLengthLimit:c?.lengthLimit??2e3};return{sourceFolder:l,label:l.folderRoot,id:l.folderRoot+String(l.guidelinesOverLimit)}});return It((d=>{const{collection:c}=d,l=me(c,er),[u]=me(c,Xr);if(l.length>1){const h={id:Ca,label:"Repos",sourceFolderGroup:l.sort((p,f)=>{const m=_i(p.sourceFolder.folderRoot),v=_i(f.sourceFolder.folderRoot);return m.localeCompare(v)})};return{...d,collection:kt(c,h),activeItems:{...d.activeItems,[h.id]:!0}}}if(l.length===1&&u)return{...d,collection:sr(c,u.id),activeItems:{...d.activeItems,[l[0].id]:!0}};const o=l[0]?.id;return o==null||d.activeItems[o]?d:{...d,activeItems:{...d.activeItems,[o]:!0}}})({...e,warnings:i.reduce((d,c)=>(c.sourceFolder.guidelinesOverLimit&&(d[c.id]=!0),d),{...e.warnings}),collection:i.reduce((d,c)=>cn(d,c),a)}))}).with(hu,(e,t)=>({...e,syncStatus:t.payload})).with(pu,(e,t)=>({...e,syncEnabledState:t.payload})).with(fu,(e,t)=>{const{collection:n}=e,r=t.payload,s=n.ids.reduce((a,i)=>{const d=le(a,i);return es(d)?Mt(a,d.id):a},n);return It({...e,collection:cn(s,r)})}).with(gu,(e,t)=>{const n=jl(e.workspaceGuidelines),r=t.payload;return r?{...e,workspaceGuidelines:r.reduce((s,a)=>cn(s,a),n)}:{...e,workspaceGuidelines:n}}),Cy=D(e=>e.context.workspaceGuidelines.ids.map(t=>le(e.context.workspaceGuidelines,t))),xy=D(e=>{const{syncEnabledState:t}=e.context;return t}),Ey=D(e=>{const{syncEnabledState:t,syncStatus:n}=e.context;if(t===Ha.disabled||!n.foldersProgress)return;const r=n.foldersProgress.filter(u=>u.progress!==void 0);if(r.length===0)return;const s=r.reduce((u,o)=>u+(o?.progress?.trackedFiles??0),0),a=r.reduce((u,o)=>u+(o?.progress?.backlogSize??0),0),i=Math.max(s,0),d=Math.min(Math.max(a,0),i),c=i-d;let l=!1;for(const u of r)if(u?.progress?.newlyTracked){l=!0;break}return{status:n.status,totalFiles:i,syncedCount:c,backlogSize:d,hasNewlyTrackedFolders:l}}),Ea=D(e=>{const{collection:t}=e.context;return me(t,es)}),If=D((e,t)=>!!e.context.pinnedItems[t]),Ty=D((e,t)=>!!e.context.warnings[t]),Ay=D((e,t)=>e.context.activeItems[t]?Qt.active:Qt.inactive),My=D((e,t)=>{return n=e.context.collection,r=t,n.refsCount[r]?n.refsCount[r]:n.map[r]?1:0;var n,r}),dt=D(e=>e.context.isContextEnabled);D((e,t)=>{const{collection:n}=e.context;return me(n,r=>ye(r,t))}),D(e=>{const{currentMentionablesQuery:t,mentionsResults:n}=e.context,r=n[t]||n[""];return r?r.ids.map(s=>le(r,s)):[]});const Rf=D((e,t)=>{const{currentMentionablesQuery:n,mentionsResults:r}=e.context,s=r[""],a=r[n],i=(a?.ids.length||0)>0||n?a:s;return i?me(i,d=>ye(d,t)):[]}),Pf=D(e=>{if(!dt.select(e))return[];const{collection:t,pinnedItems:n}=e.context;return me(t,r=>El(r)&&(!Pr(r)||n[r.id]))}),Of={...tu,status:Qt.active,referenceCount:1},Nf={...tu,status:Qt.inactive,referenceCount:1},Lf=D(e=>{const{enableAgentMemoriesFlag:t}=e.context;return[t?Of:Nf]}),mc=e=>ip(e)?1:es(e)?2:Va(e)?3:er(e)||Xr(e)?4:5,Df=D((e,{includeItems:t}={includeItems:[]})=>{if(!dt.select(e))return Ea.select(e);const{collection:n}=e.context,r=me(n,l=>!(er(l)||Xr(l)||es(l)||Tl(l)||Al(l))),s=Xa.select(e),a=Uf.select(e),i=[nu,Ca].filter(l=>!t.includes(l)),d=s.map(({id:l})=>l),c=new Set(i.includes(Ca)?i.concat(d):i);return[...r,...s,...a,...mu.select(e),...Ea.select(e),...Lf.select(e)].filter(l=>!c.has(l.id)).sort((l,u)=>mc(l)-mc(u))}),Ff=D(e=>{if(!dt.select(e))return[];const{collection:t}=e.context;return me(t,n=>Pr(n))}),$f=D(e=>{if(!dt.select(e))return[];const{collection:t}=e.context;return me(t,Va)});D(e=>{if(!dt.select(e))return[];const{collection:t}=e.context;return me(t,Tl)}),D(e=>{if(!dt.select(e))return[];const{collection:t}=e.context;return me(t,sp)});const Xa=D(e=>{if(!dt.select(e))return[];const{collection:t}=e.context;return me(t,er)}),Uf=D(e=>{if(!dt.select(e))return[];const{collection:t}=e.context;return me(t,Xr)}),jf=D(e=>{if(!dt.select(e))return[];const{collection:t}=e.context;return me(t,ap)}),mu=D(e=>{if(!dt.select(e))return[];const{collection:t}=e.context;return me(t,n=>Al(n))}),Xt=(e,t)=>{const{activeItems:n}=t[0].context;return e(...t).filter(r=>n[r.id])},Iy=D((...e)=>Xt(Df.select,e)),qf=D((...e)=>Xt(Pf.select,e)),Bf=D((...e)=>Xt(Ff.select,e)),Hf=D((...e)=>Xt(jf.select,e)),Gf=D((...e)=>Xt($f.select,e)),zf=D((...e)=>Xt(Xa.select,e)),Vf=D((...e)=>Xt(mu.select,e)),Ry=D(e=>{const t=qf.select(e),n=Vf.select(e),r=Bf.select(e),s=Hf.select(e),a=Gf.select(e),i=zf.select(e);return{userSpecifiedFiles:[...t.map(d=>({rootPath:d.file.repoRoot,relPath:d.file.pathName}))],ruleFiles:n.map(d=>d.rule),recentFiles:r.map(d=>({rootPath:d.recentFile.repoRoot,relPath:d.recentFile.pathName})),externalSources:s.map(d=>d.externalSource),selections:a.map(d=>d.selection),sourceFolders:i.map(d=>({rootPath:d.sourceFolder.folderRoot,relPath:""}))}}),yu=[{label:"Personalities",type:"personality"},{label:"Files",type:"file"},{label:"Folders",type:"folder"},{label:"Source Folders",type:"sourceFolder"},{label:"Recently Opened Files",type:"recentFile"},{label:"Documentation",type:"externalSource"},{label:"Rules",type:"rule"}],vu=D((e,t)=>{const n=Rf.select(e,t.type);if(!n||n.length===0)return;const{type:r,label:s}=t;return{label:s,id:`${r}s`,group:{type:r,items:n}}}),Zf=D(e=>yu.map(t=>vu.select(e,t)).filter(t=>!!t)),Py=D((e,t)=>{if(t.length===0)return;const n=t[t.length-1],r=yu.find(a=>a.type===n),s=r?vu.select(e,r):void 0;return s||Zf.select(e).find(a=>op(a)&&a.id===n)});var Cr=(e=>(e.loadConversationToolUseStatesRequest="load-conversation-tooluse-states-request",e.loadConversationToolUseStatesResponse="load-conversation-tooluse-states-response",e.saveToolUseStatesRequest="save-tooluse-states-request",e.saveToolUseStatesResponse="save-tooluse-states-response",e.deleteConversationToolUseStatesRequest="delete-conversation-tooluse-states-request",e.deleteConversationToolUseStatesResponse="delete-conversation-tooluse-states-response",e))(Cr||{}),xr=(e=>(e.GET_AUTH_REQUIRED_SERVERS_REQUEST="mcp.get_auth_required_servers.request",e.GET_AUTH_REQUIRED_SERVERS_RESPONSE="mcp.get_auth_required_servers.response",e.GET_AUTH_SECRET_REQUEST="mcp.get_auth_secret.request",e.GET_AUTH_SECRET_RESPONSE="mcp.get_auth_secret.response",e.SET_AUTH_SECRET_REQUEST="mcp.set_auth_secret.request",e.SET_AUTH_SECRET_RESPONSE="mcp.set_auth_secret.response",e))(xr||{});class Wf{constructor(t,n,r){this._host=t,this._asyncMsgSender=n,this.config=r,this._taskClient=new nh(n)}_taskClient;requestChatInitData=async()=>this._asyncMsgSender.send({type:I.chatLoaded},3e4);getChatInitData=async()=>{const t=await this.requestChatInitData();if(this.setupGrpcConfiguration(t.data.sidecarGrpcConfig),t.data.enableDebugFeatures)try{$c(),async function(){const n=sa(Rd),[r,s,a]=await Promise.all([n.echo({message:"Hello World!"},{timeoutMs:1e3}),n.uppercase({message:"Hello World!"},{timeoutMs:1e3}),n.reverse({message:"Hello World!"},{timeoutMs:1e3})]);return JSON.stringify({echo:r.echoedMessage,uppercase:s.echoedMessage,reverse:a.echoedMessage})}().then(n=>{console.log("Hello world connect result:",n)},n=>{console.error("Hello world connect error:",n)}),async function(){return(await sa(Uc).featureFlags({},{timeoutMs:1e3})).featureFlags}().then(n=>{console.log("Feature GRPC flags:",n)},n=>{console.error("Failed to fetch feature flags:",n)})}catch(n){console.error("Failed to initialize gRPC:",n)}return t.data};setupGrpcConfiguration=t=>{t&&(window.augmentFlags=window.augmentFlags||{},window.augmentFlags.sidecarGrpc=t,console.log("[gRPC Setup] Configured sidecar gRPC from chat init:",t))};reportWebviewClientEvent=t=>{this._asyncMsgSender.send({type:I.reportWebviewClientMetric,data:{webviewName:Md.chat,client_metric:t,value:1}})};track=(t,n)=>{this._asyncMsgSender.sendToSidecar({type:oa.trackAnalyticsEvent,data:{eventName:t,properties:n}},5e3)};trackExperimentViewed=(t,n,r)=>{this._asyncMsgSender.sendToSidecar({type:oa.trackExperimentViewedEvent,data:{experimentName:t,treatment:n,properties:r}},5e3)};reportAgentSessionEvent=t=>{this._asyncMsgSender.sendToSidecar({type:ce.reportAgentSessionEvent,data:t})};reportAgentRequestEvent=t=>{this._asyncMsgSender.sendToSidecar({type:ce.reportAgentRequestEvent,data:t})};getSuggestions=async(t,n=!1)=>{const r={rootPath:"",relPath:t},s=this.findFiles(r,6),a=this.findRecentlyOpenedFiles(r,6),i=this.findFolders(r,3),d=this.findExternalSources(t,n),c=this.config.enableRules?this.findRules(t,6):Promise.resolve([]),[l,u,o,h,p]=await Promise.all([Gn(s,[]),Gn(a,[]),Gn(i,[]),Gn(d,[]),Gn(c,[])]),f=(v,y)=>({...ff(v),[y]:v}),m=[...l.map(v=>f(v,"file")),...o.map(v=>f(v,"folder")),...u.map(v=>f(v,"recentFile")),...h.map(v=>({label:v.name,name:v.name,id:v.id,externalSource:v})),...p.map(v=>({...gf(v),rule:v}))];if(this.config.enablePersonalities){const v=this.getPersonalities(t);v.length>0&&m.push(...v)}return m};getPersonalities=t=>{if(!this.config.enablePersonalities)return[];if(t==="")return fc;const n=t.toLowerCase();return fc.filter(r=>{const s=r.personality.description.toLowerCase(),a=r.label.toLowerCase();return s.includes(n)||a.includes(n)})};sendAction=t=>{this._host.postMessage({type:I.mainPanelPerformAction,data:t})};showAugmentPanel=()=>{this._asyncMsgSender.send({type:I.showAugmentPanel})};showNotification=t=>{this._host.postMessage({type:I.showNotification,data:t})};openConfirmationModal=async t=>(await this._asyncMsgSender.send({type:I.openConfirmationModal,data:t},1e9)).data.ok;clearMetadataFor=t=>{this._host.postMessage({type:I.chatClearMetadata,data:t})};resolvePath=async(t,n=void 0)=>{const r=await this._asyncMsgSender.send({type:I.resolveFileRequest,data:{...t,exactMatch:!0,maxResults:1,searchScope:n}},5e3);if(r.data)return r.data};resolveSymbols=async(t,n)=>(await this._asyncMsgSender.send({type:I.findSymbolRequest,data:{query:t,searchScope:n}},3e4)).data;getDiagnostics=async()=>(await this._asyncMsgSender.send({type:I.getDiagnosticsRequest},1e3)).data;findFiles=async(t,n=12)=>(await this._asyncMsgSender.send({type:I.findFileRequest,data:{...t,maxResults:n}},5e3)).data;findFolders=async(t,n=12)=>(await this._asyncMsgSender.send({type:I.findFolderRequest,data:{...t,maxResults:n}},5e3)).data;findRecentlyOpenedFiles=async(t,n=12)=>(await this._asyncMsgSender.send({type:I.findRecentlyOpenedFilesRequest,data:{...t,maxResults:n}},5e3)).data;findExternalSources=async(t,n=!1)=>this.config.enableExternalSourcesInChat?n?[]:(await this._asyncMsgSender.send({type:I.findExternalSourcesRequest,data:{query:t,source_types:[]}},5e3)).data.sources??[]:[];findRules=async(t,n=12)=>(await this._asyncMsgSender.sendToSidecar({type:ht.getRulesListRequest,data:{query:t,maxResults:n}})).data.rules;async*generateCommitMessage(){const t={type:I.generateCommitMessage},n=this._asyncMsgSender.stream(t,3e4,6e4);yield*Ws(n,()=>{},this.config.retryChatStreamTimeouts,this.track)}saveFile=t=>this._host.postMessage({type:I.saveFile,data:t});loadFile=t=>this._host.postMessage({type:I.loadFile,data:t});openMemoriesFile=()=>{this._host.postMessage({type:I.openMemoriesFile})};canShowTerminal=async(t,n)=>{try{return(await this._asyncMsgSender.send({type:I.canShowTerminal,data:{terminalId:t,command:n}},5e3)).data.canShow}catch(r){return console.error("Failed to check if terminal can be shown:",r),!1}};showTerminal=async(t,n)=>{try{return(await this._asyncMsgSender.send({type:I.showTerminal,data:{terminalId:t,command:n}},5e3)).data.success}catch(r){return console.error("Failed to show terminal:",r),!1}};createFile=(t,n)=>{this._host.postMessage({type:I.chatCreateFile,data:{code:t,relPath:n}})};openScratchFile=async(t,n="shellscript")=>{await this._asyncMsgSender.send({type:I.openScratchFileRequest,data:{content:t,language:n}},1e4)};resolveWorkspaceFileChunk=async t=>{try{return(await this._asyncMsgSender.send({type:I.resolveWorkspaceFileChunkRequest,data:t},5e3)).data}catch{return}};smartPaste=t=>{this._host.postMessage({type:I.chatSmartPaste,data:t})};getHydratedTask=async t=>this._taskClient.getHydratedTask(t);updateHydratedTask=async(t,n)=>this._taskClient.updateHydratedTask(t,n);setCurrentRootTaskUuid=t=>{this._taskClient.setCurrentRootTaskUuid(t)};createTask=async(t,n,r,s)=>this._taskClient.createTask(t,n,r,s);updateTask=async(t,n,r)=>this._taskClient.updateTask(t,n,r);saveChat=async(t,n,r)=>this._asyncMsgSender.send({type:I.saveChat,data:{conversationId:t,chatHistory:n,title:r}},5e3);async*sendInstructionMessage(t,n){const r={instruction:t.request_message??"",selectedCodeDetails:n,requestId:t.request_id},s={type:I.chatInstructionMessage,data:r},a=this._asyncMsgSender.stream(s,3e4,6e4);yield*async function*(i){let d;try{for await(const c of i)d=c.data.requestId,yield{request_id:d,response_text:c.data.text,seen_state:st.unseen,status:Ne.sent};yield{request_id:d,seen_state:st.unseen,status:Ne.success}}catch(c){console.error("Error in chat instruction model reply stream:",c),yield{request_id:d,seen_state:st.unseen,status:Ne.failed}}}(a)}async openGuidelines(t){this._host.postMessage({type:I.openGuidelines,data:t})}updateUserGuidelines=t=>{this._host.postMessage({type:I.updateUserGuidelines,data:t})};updateWorkspaceGuidelines=t=>{this._host.postMessage({type:I.updateWorkspaceGuidelines,data:t})};openSettingsPage=t=>{this._host.postMessage({type:I.openSettingsPage,data:t})};async*getExistingChatStream(t,n,r){const s=r?.enablePreferenceCollection,a=s?1e9:6e4,i=s?1e9:3e5,d={type:I.chatGetStreamRequest,data:{requestId:t,lastChunkId:n}},c=this._asyncMsgSender.stream(d,a,i);yield*Ws(c,this.reportError,this.config.retryChatStreamTimeouts,this.track)}async*startChatStream(t,n){const r=n?.enablePreferenceCollection,s=r?1e9:1e5,a=r?1e9:3e5,i={type:I.chatUserMessage,data:t},d=this._asyncMsgSender.stream(i,s,a);yield*Ws(d,this.reportError,this.config.retryChatStreamTimeouts,this.track)}_activeRetryStreams=new Map;cancelChatStream=async t=>{this._activeRetryStreams.get(t)?.cancel(),await this._asyncMsgSender.send({type:I.chatUserCancel,data:{requestId:t}},1e4)};sendUserRating=async(t,n,r,s="")=>{const a={requestId:t,rating:r,note:s,mode:n},i={type:I.chatRating,data:a};return(await this._asyncMsgSender.send(i,3e4)).data};triggerUsedChatMetric=()=>{this._host.postMessage({type:I.usedChat})};createProject=t=>{this._host.postMessage({type:I.mainPanelCreateProject,data:{name:t}})};openProjectFolder=()=>{this._host.postMessage({type:I.mainPanelPerformAction,data:"open-folder"})};closeProjectFolder=()=>{this._host.postMessage({type:I.mainPanelPerformAction,data:"close-folder"})};cloneRepository=()=>{this._host.postMessage({type:I.mainPanelPerformAction,data:"clone-repository"})};grantSyncPermission=()=>{this._host.postMessage({type:I.mainPanelPerformAction,data:"grant-sync-permission"})};startRemoteMCPAuth=t=>{this._host.postMessage({type:I.startRemoteMCPAuth,data:{name:t}})};callTool=async(t,n,r,s,a,i)=>{const d={type:I.callTool,data:{chatRequestId:t,toolUseId:n,name:r,input:s,chatHistory:a,conversationId:i}};return(await this._asyncMsgSender.send(d,0)).data};cancelToolRun=async(t,n)=>{const r={type:I.cancelToolRun,data:{requestId:t,toolUseId:n}};await this._asyncMsgSender.send(r,0)};checkSafe=async t=>{const n={type:_r.checkToolCallSafeRequest,data:t};return(await this._asyncMsgSender.sendToSidecar(n,0)).data};async checkToolExists(t){return(await this._asyncMsgSender.send({type:I.checkToolExists,toolName:t},0)).exists}async getChatInputCompletion(t,n,r){const s=await this._asyncMsgSender.send({type:I.getChatInputCompletion,data:{prefix:t,suffix:n,recentPrompts:r}});return{completion:s.data.completion,requestId:s.data.requestId}}reportChatInputCompletionResolution(t,n,r,s){this._asyncMsgSender.send({type:I.reportChatInputCompletionResolution,data:{requestId:t,emitTime:n,resolveTime:r,accepted:s}})}closeAllToolProcesses=async()=>{await this._asyncMsgSender.sendToSidecar({type:_r.closeAllToolProcesses},0)};getToolIdentifier=async t=>{const n={type:_r.getToolIdentifierRequest,data:{toolName:t}};return(await this._asyncMsgSender.sendToSidecar(n,0)).data};getChatMode=async()=>{const t={type:ce.getChatModeRequest};return(await this._asyncMsgSender.sendToSidecar(t,3e4)).data.chatMode};setChatMode=t=>{this._asyncMsgSender.send({type:I.chatModeChanged,data:{mode:t}})};getAgentEditList=async(t,n)=>{const r={type:ce.getEditListRequest,data:{fromTimestamp:t,toTimestamp:n}};return(await this._asyncMsgSender.sendToSidecar(r,3e4)).data};hasChangesSince=async t=>{const n={type:ce.getEditListRequest,data:{fromTimestamp:t,toTimestamp:Number.MAX_SAFE_INTEGER}};return(await this._asyncMsgSender.sendToSidecar(n,3e4)).data.edits.filter(s=>s.changesSummary?.totalAddedLines||s.changesSummary?.totalRemovedLines).length>0};getToolCallCheckpoint=async t=>{const n={type:I.getToolCallCheckpoint,data:{requestId:t}};return(await this._asyncMsgSender.send(n,3e4)).data.checkpointNumber};setCurrentConversation=t=>{this._asyncMsgSender.sendToSidecar({type:ce.setCurrentConversation,data:{conversationId:t}},5e3)};migrateConversationId=async(t,n)=>{await this._asyncMsgSender.sendToSidecar({type:ce.migrateConversationId,data:{oldConversationId:t,newConversationId:n}},3e4)};showAgentReview=(t,n,r,s=!0,a)=>{this._asyncMsgSender.sendToSidecar({type:ce.chatReviewAgentFile,data:{qualifiedPathName:t,fromTimestamp:n,toTimestamp:r,retainFocus:s,useNativeDiffIfAvailable:a}})};acceptAllAgentEdits=async()=>(await this._asyncMsgSender.sendToSidecar({type:ce.chatAgentEditAcceptAll}),!0);revertToTimestamp=async(t,n)=>(await this._asyncMsgSender.sendToSidecar({type:ce.revertToTimestamp,data:{timestamp:t,qualifiedPathNames:n}}),!0);getAgentOnboardingPrompt=async()=>(await this._asyncMsgSender.send({type:I.chatGetAgentOnboardingPromptRequest,data:{}},3e4)).data.prompt;async saveImage(t,n){const r=wi(await ps(t)),s=n??`${await ki(await fs(r))}.${t.name.split(".").at(-1)}`;return(await this._asyncMsgSender.send({type:I.chatSaveImageRequest,data:{filename:s,data:r}},1e4)).data}async saveAttachment(t,n){const r=wi(await ps(t)),s=n??`${await ki(await fs(r))}.${t.name.split(".").at(-1)}`;return(await this._asyncMsgSender.send({type:I.chatSaveAttachmentRequest,data:{filename:s,data:r}},1e4)).data}async loadImage(t){const n=await this._asyncMsgSender.send({type:I.chatLoadImageRequest,data:t},1e4),r=n.data?await fs(n.data):void 0;if(!r)return;let s="application/octet-stream";const a=t.split(".").at(-1);a==="png"?s="image/png":a!=="jpg"&&a!=="jpeg"||(s="image/jpeg");const i=new File([new Uint8Array(r)],t,{type:s});return await ps(i)}async deleteImage(t){await this._asyncMsgSender.send({type:I.chatDeleteImageRequest,data:t},1e4)}getAgentEditChangesByRequestId=async t=>{const n={type:ce.getEditChangesByRequestIdRequest,data:{requestId:t}};return(await this._asyncMsgSender.sendToSidecar(n,3e4)).data};getAgentEditContentsByRequestId=async t=>{const n={type:ce.getAgentEditContentsByRequestId,data:{requestId:t}};return(await this._asyncMsgSender.sendToSidecar(n,3e4)).data};triggerInitialOrientation=()=>{this._host.postMessage({type:I.triggerInitialOrientation})};getWorkspaceInfo=async()=>{try{return(await this._asyncMsgSender.send({type:I.getWorkspaceInfoRequest},5e3)).data}catch(t){return console.error("Error getting workspace info:",t),{}}};toggleCollapseUnchangedRegions=()=>{this._host.postMessage({type:I.toggleCollapseUnchangedRegions})};checkAgentAutoModeApproval=async()=>(await this._asyncMsgSender.send({type:I.checkAgentAutoModeApproval},5e3)).data;setAgentAutoModeApproved=async t=>{await this._asyncMsgSender.send({type:I.setAgentAutoModeApproved,data:t},5e3)};checkHasEverUsedAgent=async()=>(await this._asyncMsgSender.sendToSidecar({type:ce.checkHasEverUsedAgent},5e3)).data;setHasEverUsedAgent=async t=>{await this._asyncMsgSender.sendToSidecar({type:ce.setHasEverUsedAgent,data:t},5e3)};checkHasEverUsedRemoteAgent=async()=>(await this._asyncMsgSender.sendToSidecar({type:ce.checkHasEverUsedRemoteAgent},5e3)).data;setHasEverUsedRemoteAgent=async t=>{await this._asyncMsgSender.sendToSidecar({type:ce.setHasEverUsedRemoteAgent,data:t},5e3)};getChatRequestIdeState=async()=>{const t={type:I.getChatRequestIdeStateRequest};return(await this._asyncMsgSender.send(t,3e4)).data};reportError=t=>{this._host.postMessage({type:I.reportError,data:t})};async*startChatStreamWithRetry(t,n,r){const s=new th(t,n,(a,i)=>this.startChatStream(a,i),r?.maxRetries??5,4e3,r?.enablePreferenceCollection);this._activeRetryStreams.set(t,s);try{yield*s.getStream()}finally{this._activeRetryStreams.delete(t)}}async getSubscriptionInfo(){return await this._asyncMsgSender.send({type:I.getSubscriptionInfo},5e3)}async getCreditInfo(){return(await this._asyncMsgSender.sendToSidecar({type:Qc.getCreditInfoRequest},5e3)).data}async loadExchanges(t,n){if(n.length===0)return[];const r={type:br.loadExchangesByUuidsRequest,data:{conversationId:t,uuids:n}};return(await this._asyncMsgSender.sendToSidecar(r,3e4)).data.exchanges}async saveExchanges(t,n){if(n.length===0)return;const r={type:br.saveExchangesRequest,data:{conversationId:t,exchanges:n}};await this._asyncMsgSender.sendToSidecar(r,3e4)}async deleteConversationExchanges(t){const n={type:br.deleteConversationExchangesRequest,data:{conversationId:t}};await this._asyncMsgSender.sendToSidecar(n,3e4)}async loadConversationHistory(t){const n={type:Sr.loadConversationHistoryRequest,data:{conversationId:t}};return(await this._asyncMsgSender.sendToSidecar(n,3e4))?.data?.chatHistory||[]}async saveConversationHistory(t,n){const r={type:Sr.saveConversationHistoryRequest,data:{conversationId:t,chatHistory:n}};await this._asyncMsgSender.sendToSidecar(r,3e4)}async deleteConversationHistory(t){const n={type:Sr.deleteConversationHistoryRequest,data:{conversationId:t}};await this._asyncMsgSender.sendToSidecar(n,3e4)}async loadConversationToolUseStates(t){const n={type:Cr.loadConversationToolUseStatesRequest,data:{conversationId:t}};return(await this._asyncMsgSender.sendToSidecar(n,3e4)).data.toolUseStates}async saveToolUseStates(t,n){if(Object.keys(n).length===0)return;const r={type:Cr.saveToolUseStatesRequest,data:{conversationId:t,toolUseStates:n}};await this._asyncMsgSender.sendToSidecar(r,3e4)}async deleteConversationToolUseStates(t){const n={type:Cr.deleteConversationToolUseStatesRequest,data:{conversationId:t}};await this._asyncMsgSender.sendToSidecar(n,3e4)}sendMemoryCreated=async t=>{await this._asyncMsgSender.sendToSidecar(t,5e3)};sendGitMessage=async t=>await this._asyncMsgSender.sendToSidecar(t,3e4);mcpGetAuthRequiredServers=async()=>(await this._asyncMsgSender.sendToSidecar({type:xr.GET_AUTH_REQUIRED_SERVERS_REQUEST,data:{}},5e3)).data.authRequiredServers;mcpGetAuthSecret=async t=>(await this._asyncMsgSender.sendToSidecar({type:xr.GET_AUTH_SECRET_REQUEST,data:{id:t}},5e3)).data.authSecret;mcpSetAuthSecret=async(t,n)=>{const r={type:xr.SET_AUTH_SECRET_REQUEST,data:{id:t,secret:n}};await this._asyncMsgSender.sendToSidecar(r,5e3)}}async function*Ws(e,t=()=>{},n,r){let s;try{for await(const a of e){if(s=a.data.requestId,a.data.error)return console.error("Error in chat model reply stream:",a.data.error.displayErrorMessage),r?.(Xd.MESSAGE_SEND_ERROR_DISPLAYED,{errorMessagePreview:a.data.error.displayErrorMessage.substring(0,100),requestId:s}),yield{request_id:s,seen_state:st.unseen,status:Ne.failed,display_error_message:a.data.error.displayErrorMessage,isRetriable:a.data.error.isRetriable,shouldBackoff:a.data.error.shouldBackoff};const i={request_id:s,response_text:a.data.text,workspace_file_chunks:a.data.workspaceFileChunks,structured_output_nodes:Kf(a.data.nodes),seen_state:st.unseen,status:Ne.sent,lastChunkId:a.data.chunkId};a.data.stop_reason!=null&&(i.stop_reason=a.data.stop_reason),yield i}yield{request_id:s,seen_state:st.unseen,status:Ne.success}}catch(a){let i,d;if(t({originalRequestId:s||"",sanitizedMessage:a instanceof Error?a.message:String(a),stackTrace:a instanceof Error&&a.stack||"",diagnostics:[{key:"error_class",value:"Extension-WebView Error"}]}),a instanceof Id&&n)switch(a.name){case"MessageTimeout":i=!0,d=!1;break;case"StreamTimeout":case"InvalidResponse":i=!1}console.error("Unexpected error in chat model reply stream:",a),yield{request_id:s,seen_state:st.unseen,status:Ne.failed,isRetriable:i,shouldBackoff:d}}}async function Gn(e,t){try{return await e}catch(n){return console.warn(`Error while resolving promise: ${n}`),t}}function Kf(e){if(!e)return e;let t=!1;return e.filter(n=>n.type!==Yd.TOOL_USE||!t&&(t=!0,!0))}const Yf=Qa(D(e=>e.conversations.collection).select),Qf=D(e=>e.conversations.currentConversationId),_u=D(e=>{const t=e.conversations.currentConversationId;return t?Yf.select(e,t).extraData?.isAgentConversation===!0:!1}),Jf=O("chatLayout/setDisplayedAnnouncements"),Xf=O("chatLayout/addDisplayedAnnouncement"),eg=O("chatLayout/clearDisplayedAnnouncements"),tg=Ve({displayedAnnouncements:[]}).with(Jf,(e,t)=>({...e,displayedAnnouncements:t.payload??[]})).with(Xf,(e,t)=>({...e,displayedAnnouncements:[...e.displayedAnnouncements,t.payload]})).with(eg,e=>({...e,displayedAnnouncements:[]}));function de(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yc=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ks=()=>Math.random().toString(36).substring(7).split("").join("."),zr={INIT:`@@redux/INIT${Ks()}`,REPLACE:`@@redux/REPLACE${Ks()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ks()}`};function bu(e,t,n){if(typeof e!="function")throw new Error(de(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(de(0));if(typeof t=="function"&&n===void 0&&(n=t,t=void 0),n!==void 0){if(typeof n!="function")throw new Error(de(1));return n(bu)(e,t)}let r=e,s=t,a=new Map,i=a,d=0,c=!1;function l(){i===a&&(i=new Map,a.forEach((p,f)=>{i.set(f,p)}))}function u(){if(c)throw new Error(de(3));return s}function o(p){if(typeof p!="function")throw new Error(de(4));if(c)throw new Error(de(5));let f=!0;l();const m=d++;return i.set(m,p),function(){if(f){if(c)throw new Error(de(6));f=!1,l(),i.delete(m),a=null}}}function h(p){if(!function(f){if(typeof f!="object"||f===null)return!1;let m=f;for(;Object.getPrototypeOf(m)!==null;)m=Object.getPrototypeOf(m);return Object.getPrototypeOf(f)===m||Object.getPrototypeOf(f)===null}(p))throw new Error(de(7));if(p.type===void 0)throw new Error(de(8));if(typeof p.type!="string")throw new Error(de(17));if(c)throw new Error(de(9));try{c=!0,s=r(s,p)}finally{c=!1}return(a=i).forEach(f=>{f()}),p}return h({type:zr.INIT}),{dispatch:h,subscribe:o,getState:u,replaceReducer:function(p){if(typeof p!="function")throw new Error(de(10));r=p,h({type:zr.REPLACE})},[yc]:function(){const p=o;return{subscribe(f){if(typeof f!="object"||f===null)throw new Error(de(11));function m(){const v=f;v.next&&v.next(u())}return m(),{unsubscribe:p(m)}},[yc](){return this}}}}}function ng(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const i=t[a];typeof e[i]=="function"&&(n[i]=e[i])}const r=Object.keys(n);let s;try{(function(a){Object.keys(a).forEach(i=>{const d=a[i];if(d(void 0,{type:zr.INIT})===void 0)throw new Error(de(12));if(d(void 0,{type:zr.PROBE_UNKNOWN_ACTION()})===void 0)throw new Error(de(13))})})(n)}catch(a){s=a}return function(a={},i){if(s)throw s;let d=!1;const c={};for(let l=0;l<r.length;l++){const u=r[l],o=n[u],h=a[u],p=o(h,i);if(p===void 0)throw i&&i.type,new Error(de(14));c[u]=p,d=d||p!==h}return d=d||r.length!==Object.keys(a).length,d?c:a}}const Su=O("updateActions"),ku=O("clearActions"),rg=Ve({currentIndex:0,list:[]}).with(Su,(e,t)=>({list:t.payload,currentIndex:0})).with(ku,()=>({list:[],currentIndex:0})),wu=25e4,Oy=2e4,Cu={areFlagsReady:!1,enableEditableHistory:!1,enablePreferenceCollection:!1,enableRetrievalDataCollection:!1,enableDebugFeatures:!1,enableConversationDebugUtils:!1,enableRichTextHistory:!1,enableAgentSwarmMode:!1,modelDisplayNameToId:{},fullFeatured:!0,enableExternalSourcesInChat:!1,smallSyncThreshold:15,bigSyncThreshold:1e3,enableSmartPaste:!1,enableDirectApply:!1,summaryTitles:!1,suggestedEditsAvailable:!1,enableShareService:!1,maxTrackableFileCount:wu,enableDesignSystemRichTextEditor:!1,enableSources:!1,enableChatMermaidDiagrams:!1,enableOnboardingV2:!1,smartPastePrecomputeMode:jc.visibleHover,useNewThreadsMenu:!1,enableChatMermaidDiagramsMinVersion:!1,enablePromptEnhancer:!1,idleNewSessionNotificationTimeoutMs:0,idleNewSessionMessageTimeoutMs:0,enableChatMultimodal:!1,enableAgentMode:!1,enableAgentAutoMode:!1,enableRichCheckpointInfo:!1,agentMemoriesFilePathName:void 0,enableEnhancedDehydrationMode:!1,conversationHistorySizeThresholdBytes:44040192,userTier:"unknown",eloModelConfiguration:{highPriorityModels:[],regularBattleModels:[],highPriorityThreshold:.5},truncateChatHistory:!1,enableBackgroundAgents:!1,enableNewThreadsList:!1,customPersonalityPrompts:{},enablePersonalities:!1,enableRules:!1,memoryClassificationOnFirstToken:!1,enableGenerateCommitMessage:!1,modelRegistry:{},modelInfoRegistry:{},agentChatModel:"",enableModelRegistry:!1,enableTaskList:!1,clientAnnouncement:"",useHistorySummary:!1,historySummaryParams:"",enableExchangeStorage:!1,enableToolUseStateStorage:!1,retryChatStreamTimeouts:!1,enableCommitIndexing:!1,enableMemoryRetrieval:!1,enableAgentTabs:!1,isVscodeVersionOutdated:!1,vscodeMinVersion:"",enableGroupedTools:!1,remoteAgentsResumeHintAvailableTtlDays:0,enableAgentGitTracker:!1,enableBulkDeleteThreads:!1,enableIntersectionObserverManager:!1,memoriesParams:{},showThinkingSummary:!1,enableChatInputInlineCompletion:!1,enableCreditsInSettings:!1,enableCreditBannerInSettings:!1},Vr=O("updateFlags"),ar=ts("extensionClientMessage","fetchFeatureFlags"),vc=(e,t)=>{const n=(s=>{if(s)return Object.keys(Cu).reduce((a,i)=>{const d=s[i];return d!==void 0?{...a,[i]:d}:a},{})})(t);if(!n)return e;if(n.idleNewSessionMessageTimeoutMs&&(n.idleNewSessionMessageTimeoutMs=n.idleNewSessionMessageTimeoutMs??n.enableDebugFeatures?e.idleNewSessionMessageTimeoutMs??3e5:e.idleNewSessionMessageTimeoutMs),n.modelInfoRegistry){const s={};for(const[a,i]of Object.entries(n.modelInfoRegistry))if(typeof i=="string")try{s[a]=JSON.parse(i)}catch(d){console.error(`Failed to parse modelInfoRegistry entry for key "${a}"`,d)}else typeof i=="object"&&i!==null&&(s[a]=i);n.modelInfoRegistry=s}return r={...e,...n},{...r,enableSources:r.enableDebugFeatures||r.enableSources,enableChatMermaidDiagrams:r.enableDebugFeatures||r.enableChatMermaidDiagrams,enableSmartPaste:r.enableDebugFeatures||r.enableSmartPaste,enableDirectApply:r.enableDebugFeatures||r.enableDirectApply,enableConversationDebugUtils:r.enableDebugFeatures||r.enableConversationDebugUtils,enableRichTextHistory:r.enableDebugFeatures||r.enableRichTextHistory,enablePersonalities:r.enableDebugFeatures||r.enablePersonalities,enableEditableHistory:r.fullFeatured&&(r.enableDebugFeatures||r.enableEditableHistory),enableToolUseStateStorage:r.enableToolUseStateStorage||r.enableEnhancedDehydrationMode,enableExchangeStorage:r.enableExchangeStorage||r.enableEnhancedDehydrationMode,idleNewSessionNotificationTimeoutMs:r.idleNewSessionNotificationTimeoutMs??0,idleNewSessionMessageTimeoutMs:r.idleNewSessionMessageTimeoutMs??0};var r},sg=Ve(Cu).with(Vr,(e,t)=>vc(e,t.payload)).with(ar.success,(e,t)=>vc(e,t.payload.response)),xu=O("removeNotification"),Eu=O("showBannerNotification"),Ys=O("showExtensionNotification"),ag=Ve(ut("notificationId")).with(Eu,(e,t)=>kt(e,t.payload)).with(xu,(e,t)=>sr(e,t.payload)),Tu=O("setActiveCommandId"),ig=O("removeActiveCommandId"),og=Ve({activeCommandId:void 0}).with(Tu,(e,t)=>({...e,activeCommandId:t.payload})).with(ig,e=>({...e,activeCommandId:void 0})),cg=O("showModal"),lg=O("closeModal"),ug=O("removeModal"),dg=O("toggleModal"),hg=O("closeCurrentModal"),pg=Ve({currentModal:void 0,collection:ut("modalId")}).with(cg,(e,t)=>{const n=t.payload;return{currentModal:n,collection:kt(e.collection,{modalId:n,show:!0})}}).with(lg,(e,t)=>{const n=t.payload;return{currentModal:e.currentModal===n?void 0:e.currentModal,collection:Zt(e.collection,{modalId:n,show:!1})}}).with(ug,(e,t)=>{const n=t.payload;return{currentModal:e.currentModal===n?void 0:e.currentModal,collection:sr(e.collection,n)}}).with(dg,(e,t)=>{const n=t.payload,r=le(e.collection,n)||{modalId:n,show:!1},s={...r,show:!r.show};return{currentModal:s.show?s.modalId:void 0,collection:Zt(e.collection,s)}}).with(hg,e=>{const t=e.currentModal;return t?{currentModal:e.currentModal===t?void 0:e.currentModal,collection:Zt(e.collection,{modalId:t,show:!1})}:e}),Au=O("setVisibleApp"),fg=Ve({visibleApp:Pd.loading}).with(Au,(e,t)=>({...e,visibleApp:t.payload}));var as=(e=>(e.memoryCreated="memory-created",e.memoryCreatedResponse="memory-created-response",e.memoryProcessed="memory-processed",e.getMemoriesByState="get-memories-by-state",e.getMemoriesByStateResponse="get-memories-by-state-response",e.updateMemoryState="update-memory-state",e.updateMemoryStateResponse="update-memory-state-response",e.flushPendingMemories="flush-pending-memories",e.flushPendingMemoriesResponse="flush-pending-memories-response",e))(as||{});const Ta=O("refreshMemories"),Qn=Xe("fetchMemories",e=>({type:as.getMemoriesByState,data:{state:e}})),Mu=Xe("updateMemory",(e,t,n)=>({type:as.updateMemoryState,data:{memoryId:e,newState:t,editedContent:n}})),Aa=Xe("flushPendingMemories",()=>({type:as.flushPendingMemories,data:{}})),gg=Ve({isRefreshing:!1,isLoading:!1,memories:ut("id")}).with(Ta,e=>({...e,isRefreshing:!0})).with(Qn,e=>({...e,isLoading:!0})).with(Qn.success,(e,t)=>{const n=t.payload.response.data.memories.reduce((r,s)=>kt(r,s),jl(e.memories));return{...e,isLoading:!1,isRefreshing:!1,memories:n}}).with(Qn.failure,e=>({...e,isLoading:!1,isRefreshing:!1})).with(Mu.success,(e,t)=>{const{request:n}=t.payload,r=t.payload.response.data,s=le(e.memories,r.memoryId);if(!s)return e;const a=Zt(e.memories,{...s,content:n.data.editedContent||"",state:r.newState});return{...e,memories:a}}),Iu=18e4,mg={currentPollingInterval:Iu,subscriptionInfo:null,dismissedAt:void 0},yg=O("subscriptionDismiss"),Er=O("setSubscriptionDismiss"),vg=O("pullDismissInfoFromLS"),Ru=O("setSubscriptionInto"),Ma=ns("fetchSubscriptionInfo",()=>({type:I.getSubscriptionInfo})),Ia=O("resetPollInterval"),Ra=O("increasePollInterval"),_g=Ve(mg).with(Er,(e,t)=>({...e,dismissedAt:t.payload})).with(Ru,(e,t)=>({...e,subscriptionInfo:t.payload})).with(Ia,e=>({...e,currentPollingInterval:Iu})).with(Ra,e=>{const t=Math.min(2*e.currentPollingInterval,9e5);return{...e,currentPollingInterval:t}}),Qs={featureFlags:sg,mainPanelActions:rg,mainPanel:fg,notifications:ag,slashCommands:og,modals:pg,memory:gg,conversations:tf,subscription:_g,rules:lf,context:Mf,chatLayout:tg};var et=function(e){return"@@redux-saga/"+e},Pu=et("CANCEL_PROMISE"),Ou=et("CHANNEL_END"),Nu=et("IO"),_c=et("MATCH"),Lu=et("MULTICAST"),Du=et("SAGA_ACTION"),Fu=et("SELF_CANCELLATION"),bg=et("TASK"),kn=et("TASK_CANCEL"),$u=et("TERMINATE"),Sg=et("LOCATION");function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zr.apply(null,arguments)}var Uu=function(e){return e==null},Tr=function(e){return e!=null},Me=function(e){return typeof e=="function"},ei=function(e){return typeof e=="string"},Nt=Array.isArray,Ar=function(e){return e&&Me(e.then)},Pa=function(e){return e&&Me(e.next)&&Me(e.throw)},bc=function e(t){return t&&(ei(t)||qu(t)||Me(t)||Nt(t)&&t.every(e))},ti=function(e){return e&&Me(e.take)&&Me(e.close)},ju=function(e){return Me(e)&&e.hasOwnProperty("toString")},qu=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},kg=function(e){return ti(e)&&e[Lu]};function wg(e,t){var n;t===void 0&&(t=!0);var r=new Promise(function(s){n=setTimeout(s,Math.min(2147483647,e),t)});return r[Pu]=function(){clearTimeout(n)},r}var Cg=function(e){return function(){return e}}(!0),Ce=function(){},Bu=function(e){return e},ni=function(e,t){Zr(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(function(n){e[n]=t[n]})};function Wr(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var xg=function(e){throw e},Eg=function(e){return{value:e,done:!0}};function Oa(e,t,n){t===void 0&&(t=xg),n===void 0&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:Eg,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function Tg(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var Hu=function(e){return Array.apply(null,new Array(e))},Ag=function(e){return function(t){return e(Object.defineProperty(t,Du,{value:!0}))}},Gu=function(e){return e===$u},zu=function(e){return e===kn},Vu=function(e){return Gu(e)||zu(e)};function Sc(e,t){var n,r=Object.keys(e),s=r.length,a=0,i=Nt(e)?Hu(s):{},d={};return r.forEach(function(c){var l=function(u,o){n||(o||Vu(u)?(t.cancel(),t(u,o)):(i[c]=u,++a===s&&(n=!0,t(i))))};l.cancel=Ce,d[c]=l}),t.cancel=function(){n||(n=!0,r.forEach(function(c){return d[c].cancel()}))},d}function Na(e){return{name:e.name||"anonymous",location:Zu(e)}}function Zu(e){return e[Sg]}function Mg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}var Ig=function(e){return function(t,n){t===void 0&&(t=10);var r=new Array(t),s=0,a=0,i=0,d=function(u){r[a]=u,a=(a+1)%t,s++},c=function(){if(s!=0){var u=r[i];return r[i]=null,s--,i=(i+1)%t,u}},l=function(){for(var u=[];s;)u.push(c());return u};return{isEmpty:function(){return s==0},put:function(u){var o;if(s<t)d(u);else switch(n){case 1:throw new Error("Channel's Buffer overflow!");case 3:r[a]=u,i=a=(a+1)%t;break;case 4:o=2*t,r=l(),s=r.length,a=r.length,i=0,r.length=o,t=o,d(u)}},take:c,flush:l}}(e,4)},Mr="TAKE",Wu="PUT",Ku="ALL",Yu="CALL",Qu="FORK",Ju="CANCEL",Xu="SELECT",wt=function(e,t){var n;return(n={})[Nu]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function ri(e,t){return e===void 0&&(e="*"),bc(e)?(Tr(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),wt(Mr,{pattern:e})):kg(e)&&Tr(t)&&bc(t)?wt(Mr,{channel:e,pattern:t}):ti(e)?(Tr(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),wt(Mr,{channel:e})):void 0}function ed(e,t){var n,r=null;return Me(e)?n=e:(Nt(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&ei(n)&&Me(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function si(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return wt(Yu,ed(e,n))}function En(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return wt(Qu,ed(e,n))}var Rg=si.bind(null,wg),td=[],is=0;function Pg(e){try{ai(),e()}finally{sd()}}function nd(e){td.push(e),is||(ai(),ad())}function rd(e){try{return ai(),e()}finally{ad()}}function ai(){is++}function sd(){is--}function ad(){var e;for(sd();!is&&(e=td.shift())!==void 0;)Pg(e)}var Og=function(e){return function(t){return e.some(function(n){return La(n)(t)})}},Ng=function(e){return function(t){return e(t)}},kc=function(e){return function(t){return t.type===String(e)}},Lg=function(e){return function(t){return t.type===e}},id=function(){return Cg};function La(e){var t=e==="*"?id:ei(e)?kc:Nt(e)?Og:ju(e)?kc:Me(e)?Ng:qu(e)?Lg:null;if(t===null)throw new Error("invalid pattern: "+e);return t(e)}var Jn={type:Ou},Da=function(e){return e&&e.type===Ou};function od(){var e,t,n,r,s,a,i=(t=!1,r=n=[],s=function(){r===n&&(r=n.slice())},a=function(){t=!0;var c=n=r;r=[],c.forEach(function(l){l(Jn)})},(e={})[Lu]=!0,e.put=function(c){if(!t)if(Da(c))a();else for(var l=n=r,u=0,o=l.length;u<o;u++){var h=l[u];h[_c](c)&&(h.cancel(),h(c))}},e.take=function(c,l){var u,o;l===void 0&&(l=id),t?c(Jn):(c[_c]=l,s(),r.push(c),c.cancel=(u=function(){s(),Wr(r,c)},o=!1,function(){o||(o=!0,u())}))},e.close=a,e),d=i.put;return i.put=function(c){c[Du]?d(c):nd(function(){d(c)})},i}var qt=0,vt=1,Ir=2,cd=3;function Fa(e,t){var n=e[Pu];Me(n)&&(t.cancel=n),e.then(t,function(r){t(r,!0)})}var _e,Vn=0,ld=function(){return++Vn};function Js(e){e.isRunning()&&e.cancel()}var Dg=((_e={})[Mr]=function(e,t,n){var r=t.channel,s=r===void 0?e.channel:r,a=t.pattern,i=t.maybe,d=function(c){c instanceof Error?n(c,!0):!Da(c)||i?n(c):n($u)};try{s.take(d,Tr(a)?La(a):null)}catch(c){return void n(c,!0)}n.cancel=d.cancel},_e[Wu]=function(e,t,n){var r=t.channel,s=t.action,a=t.resolve;nd(function(){var i;try{i=(r?r.put:e.dispatch)(s)}catch(d){return void n(d,!0)}a&&Ar(i)?Fa(i,n):n(i)})},_e[Ku]=function(e,t,n,r){var s=r.digestEffect,a=Vn,i=Object.keys(t);if(i.length!==0){var d=Sc(t,n);i.forEach(function(c){s(t[c],a,d[c],c)})}else n(Nt(t)?[]:{})},_e.RACE=function(e,t,n,r){var s=r.digestEffect,a=Vn,i=Object.keys(t),d=Nt(t)?Hu(i.length):{},c={},l=!1;i.forEach(function(u){var o=function(h,p){l||(p||Vu(h)?(n.cancel(),n(h,p)):(n.cancel(),l=!0,d[u]=h,n(d)))};o.cancel=Ce,c[u]=o}),n.cancel=function(){l||(l=!0,i.forEach(function(u){return c[u].cancel()}))},i.forEach(function(u){l||s(t[u],a,c[u],u)})},_e[Yu]=function(e,t,n,r){var s=t.context,a=t.fn,i=t.args,d=r.task;try{var c=a.apply(s,i);if(Ar(c))return void Fa(c,n);if(Pa(c))return void Kr(e,c,d.context,Vn,Na(a),!1,n);n(c)}catch(l){n(l,!0)}},_e.CPS=function(e,t,n){var r=t.context,s=t.fn,a=t.args;try{var i=function(d,c){Uu(d)?n(c):n(d,!0)};s.apply(r,a.concat(i)),i.cancel&&(n.cancel=i.cancel)}catch(d){n(d,!0)}},_e[Qu]=function(e,t,n,r){var s=t.context,a=t.fn,i=t.args,d=t.detached,c=r.task,l=function(o){var h=o.context,p=o.fn,f=o.args;try{var m=p.apply(h,f);if(Pa(m))return m;var v=!1;return Oa(function(y){return v?{value:y,done:!0}:(v=!0,{value:m,done:!Ar(m)})})}catch(y){return Oa(function(){throw y})}}({context:s,fn:a,args:i}),u=function(o,h){return o.isSagaIterator?{name:o.meta.name}:Na(h)}(l,a);rd(function(){var o=Kr(e,l,c.context,Vn,u,d,void 0);d?n(o):o.isRunning()?(c.queue.addTask(o),n(o)):o.isAborted()?c.queue.abort(o.error()):n(o)})},_e.JOIN=function(e,t,n,r){var s=r.task,a=function(d,c){if(d.isRunning()){var l={task:s,cb:c};c.cancel=function(){d.isRunning()&&Wr(d.joiners,l)},d.joiners.push(l)}else d.isAborted()?c(d.error(),!0):c(d.result())};if(Nt(t)){if(t.length===0)return void n([]);var i=Sc(t,n);t.forEach(function(d,c){a(d,i[c])})}else a(t,n)},_e[Ju]=function(e,t,n,r){var s=r.task;t===Fu?Js(s):Nt(t)?t.forEach(Js):Js(t),n()},_e[Xu]=function(e,t,n){var r=t.selector,s=t.args;try{n(r.apply(void 0,[e.getState()].concat(s)))}catch(a){n(a,!0)}},_e.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,s=function(c){c===void 0&&(c=Ig());var l=!1,u=[];return{take:function(o){l&&c.isEmpty()?o(Jn):c.isEmpty()?(u.push(o),o.cancel=function(){Wr(u,o)}):o(c.take())},put:function(o){if(!l){if(u.length===0)return c.put(o);u.shift()(o)}},flush:function(o){l&&c.isEmpty()?o(Jn):o(c.flush())},close:function(){if(!l){l=!0;var o=u;u=[];for(var h=0,p=o.length;h<p;h++)(0,o[h])(Jn)}}}}(t.buffer),a=La(r),i=function c(l){Da(l)||e.channel.take(c,a),s.put(l)},d=s.close;s.close=function(){i.cancel(),d()},e.channel.take(i,a),n(s)},_e.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},_e.FLUSH=function(e,t,n){t.flush(n)},_e.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},_e.SET_CONTEXT=function(e,t,n,r){var s=r.task;ni(s.context,t),n()},_e);function ud(e,t){return e+"?"+t}function wc(e){var t=e.name,n=e.location;return n?t+"  "+ud(n.fileName,n.lineNumber):t}var ii=null,Xn=[],Fg=function(e){e.crashedEffect=ii,Xn.push(e)},dd=function(){ii=null,Xn.length=0},$g=function(e){ii=e},Ug=function(){var e,t,n,r,s,a,i,d=Xn[0],c=Xn.slice(1),l=d.crashedEffect?(e=d.crashedEffect,(t=Zu(e))?t.code+"  "+ud(t.fileName,t.lineNumber):""):null;return["The above error occurred in task "+wc(d.meta)+(l?` 
 when executing effect `+l:"")].concat(c.map(function(u){return"    created by "+wc(u.meta)}),[(n=Xn,r=function(u){return u.cancelledTasks},s=n,i=(a=[]).concat.apply(a,s.map(r)),i.length?["Tasks cancelled due to error:"].concat(i).join(`
`):"")]).join(`
`)};function jg(e,t,n,r,s,a,i){var d;i===void 0&&(i=Ce);var c,l,u=qt,o=null,h=[],p=Object.create(n),f=function(y,b,k){var w,g=[],S=!1;function _(N){b(),M(),k(N,!0)}function E(N){g.push(N),N.cont=function(L,j){S||(Wr(g,N),N.cont=Ce,j?_(L):(N===y&&(w=L),g.length||(S=!0,k(w))))}}function M(){S||(S=!0,g.forEach(function(N){N.cont=Ce,N.cancel()}),g=[])}return E(y),{addTask:E,cancelAll:M,abort:_,getTasks:function(){return g}}}(t,function(){h.push.apply(h,f.getTasks().map(function(y){return y.meta.name}))},m);function m(y,b){if(b){if(u=Ir,Fg({meta:s,cancelledTasks:h}),v.isRoot){var k=Ug();dd(),e.onError(y,{sagaStack:k})}l=y,o&&o.reject(y)}else y===kn?u=vt:u!==vt&&(u=cd),c=y,o&&o.resolve(y);v.cont(y,b),v.joiners.forEach(function(w){w.cb(y,b)}),v.joiners=null}var v=((d={})[bg]=!0,d.id=r,d.meta=s,d.isRoot=a,d.context=p,d.joiners=[],d.queue=f,d.cancel=function(){u===qt&&(u=vt,f.cancelAll(),m(kn,!1))},d.cont=i,d.end=m,d.setContext=function(y){ni(p,y)},d.toPromise=function(){return o||((y={}).promise=new Promise(function(b,k){y.resolve=b,y.reject=k}),o=y,u===Ir?o.reject(l):u!==qt&&o.resolve(c)),o.promise;var y},d.isRunning=function(){return u===qt},d.isCancelled=function(){return u===vt||u===qt&&t.status===vt},d.isAborted=function(){return u===Ir},d.result=function(){return c},d.error=function(){return l},d);return v}function Kr(e,t,n,r,s,a,i){var d=e.finalizeRunEffect(function(p,f,m){Ar(p)?Fa(p,m):Pa(p)?Kr(e,p,l.context,f,s,!1,m):p&&p[Nu]?(0,Dg[p.type])(e,p.payload,m,u):m(p)});o.cancel=Ce;var c={meta:s,cancel:function(){c.status===qt&&(c.status=vt,o(kn))},status:qt},l=jg(e,c,n,r,s,a,i),u={task:l,digestEffect:h};return i&&(i.cancel=l.cancel),o(),l;function o(p,f){try{var m;f?(m=t.throw(p),dd()):zu(p)?(c.status=vt,o.cancel(),m=Me(t.return)?t.return(kn):{done:!0,value:kn}):m=Gu(p)?Me(t.return)?t.return():{done:!0}:t.next(p),m.done?(c.status!==vt&&(c.status=cd),c.cont(m.value)):h(m.value,r,o)}catch(v){if(c.status===vt)throw v;c.status=Ir,c.cont(v,!0)}}function h(p,f,m,v){v===void 0&&(v="");var y,b=ld();function k(w,g){y||(y=!0,m.cancel=Ce,e.sagaMonitor&&(g?e.sagaMonitor.effectRejected(b,w):e.sagaMonitor.effectResolved(b,w)),g&&$g(p),m(w,g))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:b,parentEffectId:f,label:v,effect:p}),k.cancel=Ce,m.cancel=function(){y||(y=!0,k.cancel(),k.cancel=Ce,e.sagaMonitor&&e.sagaMonitor.effectCancelled(b))},d(p,b,k)}}function qg(e,t){for(var n=e.channel,r=n===void 0?od():n,s=e.dispatch,a=e.getState,i=e.context,d=i===void 0?{}:i,c=e.sagaMonitor,l=e.effectMiddlewares,u=e.onError,o=u===void 0?Tg:u,h=arguments.length,p=new Array(h>2?h-2:0),f=2;f<h;f++)p[f-2]=arguments[f];var m,v=t.apply(void 0,p),y=ld();if(c&&(c.rootSagaStarted=c.rootSagaStarted||Ce,c.effectTriggered=c.effectTriggered||Ce,c.effectResolved=c.effectResolved||Ce,c.effectRejected=c.effectRejected||Ce,c.effectCancelled=c.effectCancelled||Ce,c.actionDispatched=c.actionDispatched||Ce,c.rootSagaStarted({effectId:y,saga:t,args:p})),l){var b=Mg.apply(void 0,l);m=function(w){return function(g,S,_){return b(function(E){return w(E,S,_)})(g)}}}else m=Bu;var k={channel:r,dispatch:Ag(s),getState:a,sagaMonitor:c,onError:o,finalizeRunEffect:m};return rd(function(){var w=Kr(k,v,d,y,Na(t),!0,void 0);return c&&c.effectResolved(y,w),w})}var Cc,xc={exports:{}},Bg=(Cc||(Cc=1,function(e){function t(C,T){C.super_=T,C.prototype=Object.create(T.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}})}function n(C,T){Object.defineProperty(this,"kind",{value:C,enumerable:!0}),T&&T.length&&Object.defineProperty(this,"path",{value:T,enumerable:!0})}function r(C,T,x){r.super_.call(this,"E",C),Object.defineProperty(this,"lhs",{value:T,enumerable:!0}),Object.defineProperty(this,"rhs",{value:x,enumerable:!0})}function s(C,T){s.super_.call(this,"N",C),Object.defineProperty(this,"rhs",{value:T,enumerable:!0})}function a(C,T){a.super_.call(this,"D",C),Object.defineProperty(this,"lhs",{value:T,enumerable:!0})}function i(C,T,x){i.super_.call(this,"A",C),Object.defineProperty(this,"index",{value:T,enumerable:!0}),Object.defineProperty(this,"item",{value:x,enumerable:!0})}function d(C,T,x){var R=C.slice(T+1||C.length);return C.length=T<0?C.length+T:T,C.push.apply(C,R),C}function c(C){var T=C===void 0?"undefined":q(C);return T!=="object"?T:C===Math?"math":C===null?"null":Array.isArray(C)?"array":Object.prototype.toString.call(C)==="[object Date]"?"date":typeof C.toString=="function"&&/^\/.*\//.test(C.toString())?"regexp":"object"}function l(C,T,x,R,V,J,K){K=K||[];var X=(V=V||[]).slice(0);if(J!==void 0){if(R){if(typeof R=="function"&&R(X,J))return;if((R===void 0?"undefined":q(R))==="object"){if(R.prefilter&&R.prefilter(X,J))return;if(R.normalize){var Ue=R.normalize(X,J,C,T);Ue&&(C=Ue[0],T=Ue[1])}}}X.push(J)}c(C)==="regexp"&&c(T)==="regexp"&&(C=C.toString(),T=T.toString());var Ze=C===void 0?"undefined":q(C),Ie=T===void 0?"undefined":q(T),ke=Ze!=="undefined"||K&&K[K.length-1].lhs&&K[K.length-1].lhs.hasOwnProperty(J),We=Ie!=="undefined"||K&&K[K.length-1].rhs&&K[K.length-1].rhs.hasOwnProperty(J);if(!ke&&We)x(new s(X,T));else if(!We&&ke)x(new a(X,C));else if(c(C)!==c(T))x(new r(X,C,T));else if(c(C)==="date"&&C-T!=0)x(new r(X,C,T));else if(Ze==="object"&&C!==null&&T!==null)if(K.filter(function(ae){return ae.lhs===C}).length)C!==T&&x(new r(X,C,T));else{if(K.push({lhs:C,rhs:T}),Array.isArray(C)){var re;for(C.length,re=0;re<C.length;re++)re>=T.length?x(new i(X,re,new a(void 0,C[re]))):l(C[re],T[re],x,R,X,re,K);for(;re<T.length;)x(new i(X,re,new s(void 0,T[re++])))}else{var $t=Object.keys(C),ft=Object.keys(T);$t.forEach(function(ae,en){var Tn=ft.indexOf(ae);Tn>=0?(l(C[ae],T[ae],x,R,X,ae,K),ft=d(ft,Tn)):l(C[ae],void 0,x,R,X,ae,K)}),ft.forEach(function(ae){l(void 0,T[ae],x,R,X,ae,K)})}K.length=K.length-1}else C!==T&&(Ze==="number"&&isNaN(C)&&isNaN(T)||x(new r(X,C,T)))}function u(C,T,x,R){return R=R||[],l(C,T,function(V){V&&R.push(V)},x),R.length?R:void 0}function o(C,T,x){if(x.path&&x.path.length){var R,V=C[T],J=x.path.length-1;for(R=0;R<J;R++)V=V[x.path[R]];switch(x.kind){case"A":o(V[x.path[R]],x.index,x.item);break;case"D":delete V[x.path[R]];break;case"E":case"N":V[x.path[R]]=x.rhs}}else switch(x.kind){case"A":o(C[T],x.index,x.item);break;case"D":C=d(C,T);break;case"E":case"N":C[T]=x.rhs}return C}function h(C,T,x){if(C&&T&&x&&x.kind){for(var R=C,V=-1,J=x.path?x.path.length-1:0;++V<J;)R[x.path[V]]===void 0&&(R[x.path[V]]=typeof x.path[V]=="number"?[]:{}),R=R[x.path[V]];switch(x.kind){case"A":o(x.path?R[x.path[V]]:R,x.index,x.item);break;case"D":delete R[x.path[V]];break;case"E":case"N":R[x.path[V]]=x.rhs}}}function p(C,T,x){if(x.path&&x.path.length){var R,V=C[T],J=x.path.length-1;for(R=0;R<J;R++)V=V[x.path[R]];switch(x.kind){case"A":p(V[x.path[R]],x.index,x.item);break;case"D":case"E":V[x.path[R]]=x.lhs;break;case"N":delete V[x.path[R]]}}else switch(x.kind){case"A":p(C[T],x.index,x.item);break;case"D":case"E":C[T]=x.lhs;break;case"N":C=d(C,T)}return C}function f(C,T,x){if(C&&T&&x&&x.kind){var R,V,J=C;for(V=x.path.length-1,R=0;R<V;R++)J[x.path[R]]===void 0&&(J[x.path[R]]={}),J=J[x.path[R]];switch(x.kind){case"A":p(J[x.path[R]],x.index,x.item);break;case"D":case"E":J[x.path[R]]=x.lhs;break;case"N":delete J[x.path[R]]}}}function m(C,T,x){C&&T&&l(C,T,function(R){x&&!x(C,T,R)||h(C,T,R)})}function v(C){return"color: "+ne[C].color+"; font-weight: bold"}function y(C){var T=C.kind,x=C.path,R=C.lhs,V=C.rhs,J=C.index,K=C.item;switch(T){case"E":return[x.join("."),R,"→",V];case"N":return[x.join("."),V];case"D":return[x.join(".")];case"A":return[x.join(".")+"["+J+"]",K];default:return[]}}function b(C,T,x,R){var V=u(C,T);try{R?x.groupCollapsed("diff"):x.group("diff")}catch{x.log("diff")}V?V.forEach(function(J){var K=J.kind,X=y(J);x.log.apply(x,["%c "+ne[K].text,v(K)].concat(B(X)))}):x.log("—— no diff ——");try{x.groupEnd()}catch{x.log("—— diff end —— ")}}function k(C,T,x,R){switch(C===void 0?"undefined":q(C)){case"object":return typeof C[R]=="function"?C[R].apply(C,B(x)):C[R];case"function":return C(T);default:return C}}function w(C){var T=C.timestamp,x=C.duration;return function(R,V,J){var K=["action"];return K.push("%c"+String(R.type)),T&&K.push("%c@ "+V),x&&K.push("%c(in "+J.toFixed(2)+" ms)"),K.join(" ")}}function g(C,T){var x=T.logger,R=T.actionTransformer,V=T.titleFormatter,J=V===void 0?w(T):V,K=T.collapsed,X=T.colors,Ue=T.level,Ze=T.diff,Ie=T.titleFormatter===void 0;C.forEach(function(ke,We){var re=ke.started,$t=ke.startedTime,ft=ke.action,ae=ke.prevState,en=ke.error,Tn=ke.took,Ut=ke.nextState,cs=C[We+1];cs&&(Ut=cs.prevState,Tn=cs.started-re);var tt=R(ft),hi=typeof K=="function"?K(function(){return Ut},ft,ke):K,kd=L($t),wd=X.title?"color: "+X.title(tt)+";":"",An=["color: gray; font-weight: lighter;"];An.push(wd),T.timestamp&&An.push("color: gray; font-weight: lighter;"),T.duration&&An.push("color: gray; font-weight: lighter;");var Mn=J(tt,kd,Tn);try{hi?X.title&&Ie?x.groupCollapsed.apply(x,["%c "+Mn].concat(An)):x.groupCollapsed(Mn):X.title&&Ie?x.group.apply(x,["%c "+Mn].concat(An)):x.group(Mn)}catch{x.log(Mn)}var ls=k(Ue,tt,[ae],"prevState"),us=k(Ue,tt,[tt],"action"),ds=k(Ue,tt,[en,ae],"error"),hs=k(Ue,tt,[Ut],"nextState");if(ls)if(X.prevState){var Cd="color: "+X.prevState(ae)+"; font-weight: bold";x[ls]("%c prev state",Cd,ae)}else x[ls]("prev state",ae);if(us)if(X.action){var xd="color: "+X.action(tt)+"; font-weight: bold";x[us]("%c action    ",xd,tt)}else x[us]("action    ",tt);if(en&&ds)if(X.error){var Ed="color: "+X.error(en,ae)+"; font-weight: bold;";x[ds]("%c error     ",Ed,en)}else x[ds]("error     ",en);if(hs)if(X.nextState){var Td="color: "+X.nextState(Ut)+"; font-weight: bold";x[hs]("%c next state",Td,Ut)}else x[hs]("next state",Ut);Ze&&b(ae,Ut,x,hi);try{x.groupEnd()}catch{x.log("—— log end ——")}})}function S(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=Object.assign({},ve,C),x=T.logger,R=T.stateTransformer,V=T.errorTransformer,J=T.predicate,K=T.logErrors,X=T.diffPredicate;if(x===void 0)return function(){return function(Ze){return function(Ie){return Ze(Ie)}}};if(C.getState&&C.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(Ze){return function(Ie){return Ze(Ie)}}};var Ue=[];return function(Ze){var Ie=Ze.getState;return function(ke){return function(We){if(typeof J=="function"&&!J(Ie,We))return ke(We);var re={};Ue.push(re),re.started=j.now(),re.startedTime=new Date,re.prevState=R(Ie()),re.action=We;var $t=void 0;if(K)try{$t=ke(We)}catch(ae){re.error=V(ae)}else $t=ke(We);re.took=j.now()-re.started,re.nextState=R(Ie());var ft=T.diff&&typeof X=="function"?X(Ie,We):T.diff;if(g(Ue,Object.assign({},T,{diff:ft})),Ue.length=0,re.error)throw re.error;return $t}}}}var _,E,M=function(C,T){return new Array(T+1).join(C)},N=function(C,T){return M("0",T-C.toString().length)+C},L=function(C){return N(C.getHours(),2)+":"+N(C.getMinutes(),2)+":"+N(C.getSeconds(),2)+"."+N(C.getMilliseconds(),3)},j=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},B=function(C){if(Array.isArray(C)){for(var T=0,x=Array(C.length);T<C.length;T++)x[T]=C[T];return x}return Array.from(C)},W=[];_=(ir===void 0?"undefined":q(ir))==="object"&&ir?ir:typeof window<"u"?window:{},(E=_.DeepDiff)&&W.push(function(){E!==void 0&&_.DeepDiff===u&&(_.DeepDiff=E,E=void 0)}),t(r,n),t(s,n),t(a,n),t(i,n),Object.defineProperties(u,{diff:{value:u,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:m,enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:f,enumerable:!0},isConflict:{value:function(){return E!==void 0},enumerable:!0},noConflict:{value:function(){return W&&(W.forEach(function(C){C()}),W=null),u},enumerable:!0}});var ne={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},ve={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(C){return C},actionTransformer:function(C){return C},errorTransformer:function(C){return C},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},$e=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=C.dispatch,x=C.getState;return typeof T=="function"||typeof x=="function"?S()({dispatch:T,getState:x}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};e.defaults=ve,e.createLogger=S,e.logger=$e,e.default=$e,Object.defineProperty(e,"__esModule",{value:!0})}(xc.exports)),xc.exports);const Xs=O("postHostMessage"),os=O("onWindowMessage"),hd=(e,t,n="")=>{const r=[];if(e===t)return r;if(e==null||t==null||typeof e!="object"||typeof t!="object")return r.push({path:n,prevValue:e,nextValue:t}),r;if(Array.isArray(e)||Array.isArray(t))return r.push({path:n,prevValue:e,nextValue:t}),r;const s=new Set([...Object.keys(e),...Object.keys(t)]);for(const a of s){const i=n?`${n}.${a}`:a,d=e[a],c=t[a];if(d!==c){const l=hd(d,c,i);r.push(...l)}}return r},Hg=()=>e=>t=>n=>{const r=e.getState(),s=performance.now(),a=t(n),i=e.getState(),d=performance.now()-s,c=(l=>l&&l.type===os.type&&l.payload.data?`window message: ${l.payload.data.type}`:typeof l.payload=="string"?`${l.type}: ${l.payload}`:l.type)(n);if(r===i)console.info(`%c${c} %c(no state change) %c(in ${d.toFixed(2)}ms)`,"color: #9E9E9E; font-weight: bold","color: #FF9800; font-weight: normal","color: #9E9E9E; font-weight: normal");else{const l=((u,o)=>{const h=[];for(const p in u)u[p]!==o[p]&&h.push(p);return h})(r,i);l.length>0?(console.groupCollapsed(`%c${c} %c[${l.join(", ")}] %c(in ${d.toFixed(2)}ms)`,"color: inherit; font-weight: bold","color: #03A9F4; font-weight: normal","color: #9E9E9E; font-weight: normal"),l.forEach(u=>{const o=u,h=hd(r[o],i[o],u);console.group(`%c${u} (${h.length} change${h.length!==1?"s":""})`,"color: #03A9F4; font-weight: bold"),h.forEach(p=>{console.group(`%c${p.path}`,"color: #2196F3"),console.info("%cprev:","color: #9E9E9E; font-weight: bold",p.prevValue),console.info("%cnext:","color: #4CAF50; font-weight: bold",p.nextValue),console.groupEnd()}),console.groupEnd()}),console.groupEnd()):console.info(`%c${c} %c(state ref changed, no slices) %c(in ${d.toFixed(2)}ms)`,"color: inherit; font-weight: bold","color: #FFC107; font-weight: normal","color: #9E9E9E; font-weight: normal")}return a},pd=function(e){var t,n={},r=n.context,s=r===void 0?{}:r,a=n.channel,i=a===void 0?od():a,d=n.sagaMonitor,c=function(u,o){if(u==null)return{};var h={};for(var p in u)if({}.hasOwnProperty.call(u,p)){if(o.indexOf(p)!==-1)continue;h[p]=u[p]}return h}(n,["context","channel","sagaMonitor"]);function l(u){var o=u.getState,h=u.dispatch;return t=qg.bind(null,Zr({},c,{context:s,channel:i,dispatch:h,getState:o,sagaMonitor:d})),function(p){return function(f){d&&d.actionDispatched&&d.actionDispatched(f);var m=p(f);return i.put(f),m}}}return l.run=function(){return t.apply(void 0,arguments)},l.setContext=function(u){ni(s,u)},l}(),Gg=[pd],Rr=[];localStorage.getItem("enableStateReferenceChecks")&&Rr.push(e=>t=>n=>{const r=e.getState(),s=t(n),a=e.getState();if(r===a)return s;const i=[],d=(c,l,u)=>{if(c!==l){if(Kd(c,l))i.push(u);else if(c&&l&&typeof c=="object"&&typeof l=="object"&&!Array.isArray(c)&&!Array.isArray(l)){const o=new Set([...Object.keys(c),...Object.keys(l)]);for(const h of o)d(c[h],l[h],u?`${u}.${h}`:h)}}};return d(r,a,""),i.length>0&&console.warn(`[Redux] Unnecessary reference changes detected after action: ${n.type}`,{action:n,paths:i}),s}),localStorage.getItem("enableReduxDebug")&&(Rr.push(Hg()),Rr.push(Bg.createLogger({level:"info",collapsed:!0,titleFormatter:e=>e&&e.type===os.type&&e.payload.data?`window message: ${e.payload.data.type}`:typeof e.payload=="string"?`${e.type}: ${e.payload}`:e.type})));const zg=[...Gg,...Rr];var Ec=function(e){return{done:!0,value:e}},ea={};function oi(e){return ti(e)?"channel":ju(e)?String(e):Me(e)?e.name:String(e)}function ci(e,t,n){var r,s,a,i=t;function d(c,l){if(i===ea)return Ec(c);if(l&&!s)throw i=ea,l;r&&r(c);var u=l?e[s](l):e[i]();return i=u.nextState,a=u.effect,r=u.stateUpdater,s=u.errorState,i===ea?Ec(c):a}return Oa(d,function(c){return d(null,c)},n)}function Vg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var a,i={done:!1,value:ri(e)},d=function(c){return a=c};return ci({q1:function(){return{nextState:"q2",effect:i,stateUpdater:d}},q2:function(){return{nextState:"q1",effect:(c=a,{done:!1,value:En.apply(void 0,[t].concat(r,[c]))})};var c}},"q1","takeEvery("+oi(e)+", "+t.name+")")}function Zg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var a,i,d={done:!1,value:ri(e)},c=function(o){return{done:!1,value:En.apply(void 0,[t].concat(r,[o]))}},l=function(o){return a=o},u=function(o){return i=o};return ci({q1:function(){return{nextState:"q2",effect:d,stateUpdater:u}},q2:function(){return a?{nextState:"q3",effect:(o=a,{done:!1,value:(h=o,h===void 0&&(h=Fu),wt(Ju,h))})}:{nextState:"q1",effect:c(i),stateUpdater:l};var o,h},q3:function(){return{nextState:"q1",effect:c(i),stateUpdater:l}}},"q1","takeLatest("+oi(e)+", "+t.name+")")}function Wg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var a,i={done:!1,value:ri(e)},d=function(c){return a=c};return ci({q1:function(){return{nextState:"q2",effect:i,stateUpdater:d}},q2:function(){return{nextState:"q1",effect:(c=a,{done:!1,value:si.apply(void 0,[t].concat(r,[c]))})};var c}},"q1","takeLeading("+oi(e)+", "+t.name+")")}function*be(...e){return yield function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];return En.apply(void 0,[Vg,t,n].concat(s))}(...e)}function*Pe(...e){return yield function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];return En.apply(void 0,[Zg,t,n].concat(s))}(...e)}function*ta(...e){return yield function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];return En.apply(void 0,[Wg,t,n].concat(s))}(...e)}function*U(...e){return yield function(t,n){return Uu(n)&&(n=t,t=void 0),wt(Wu,{channel:t,action:n})}(...e)}function*_t(...e){return yield si(...e)}function*fd(...e){return yield En(...e)}function*oe(...e){return yield function(t){t===void 0&&(t=Bu);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return wt(Xu,{selector:t,args:r})}(...e)}function*Bt(...e){return yield Rg(...e)}function*Kg(...e){return yield function(t){var n=wt(Ku,t);return n.combinator=!0,n}(...e)}const gd=O("startSaga"),md=O("stopSaga"),fn=D((e,t)=>li.select(e,t)===!0),Ny=D((e,t)=>li.select(e,t)),Ly=D((e,t)=>li.select(e,t)),li=D((e,t)=>e.featureFlags[t]),Dy=D(e=>e.featureFlags.modelDisplayNameToId),Fy=D(e=>pt(e.featureFlags.modelInfoRegistry)),$y=D(e=>pt(e.featureFlags.modelRegistry)),Uy=D(e=>e.featureFlags.clientAnnouncement||""),jy=D(e=>pt(e.featureFlags.vscodeMinVersion));D(e=>pt(e.featureFlags.agentChatModel));const qy=D(e=>pt(e.featureFlags.remoteAgentsResumeHintAvailableTtlDays)),Yg=D(e=>pt(e.featureFlags.memoriesParams)),By=D(e=>pt(e.featureFlags.historySummaryParams)),Hy=D(e=>pt(e.featureFlags.customPersonalityPrompts)),Gy=D(e=>pt(e.featureFlags.summaryTitles)),zy=D(e=>pt(e.featureFlags.smartPastePrecomputeMode));let na;const yd=function*(){if(!na){const e=yield*oe(r=>fn.select(r,"areFlagsReady")),t=yield*oe(r=>({enableRules:fn.select(r,"enableRules"),enablePersonalities:fn.select(r,"enablePersonalities"),enableExternalSourcesInChat:fn.select(r,"enableExternalSourcesInChat"),retryChatStreamTimeouts:!1})),n=new Wf(Wn,new Qd(Wn),t);if(!e)return n;na=n}return na},vd=e=>({areFlagsReady:!0,enableEditableHistory:e.enableEditableHistory??!1,enablePreferenceCollection:e.enablePreferenceCollection??!1,enableRetrievalDataCollection:e.enableRetrievalDataCollection??!1,enableDebugFeatures:e.enableDebugFeatures??!1,enableRichTextHistory:e.useRichTextHistory??!0,enableAgentSwarmMode:e.enableAgentSwarmMode??!1,modelDisplayNameToId:e.modelDisplayNameToId??{},fullFeatured:e.fullFeatured??!0,smallSyncThreshold:e.smallSyncThreshold??15,bigSyncThreshold:e.bigSyncThreshold??1e3,enableExternalSourcesInChat:e.enableExternalSourcesInChat??!1,enableSmartPaste:e.enableSmartPaste??!1,enableDirectApply:e.enableDirectApply??!1,summaryTitles:e.summaryTitles??!0,suggestedEditsAvailable:e.suggestedEditsAvailable??!1,enableShareService:e.enableShareService??!1,maxTrackableFileCount:e.maxTrackableFileCount??wu,enableDesignSystemRichTextEditor:e.enableDesignSystemRichTextEditor??!1,enableSources:e.enableSources??!1,enableChatMermaidDiagrams:e.enableChatMermaidDiagrams??!1,smartPastePrecomputeMode:e.smartPastePrecomputeMode??jc.visibleHover,useNewThreadsMenu:e.useNewThreadsMenu??!1,enableChatMermaidDiagramsMinVersion:e.enableChatMermaidDiagramsMinVersion??!1,idleNewSessionMessageTimeoutMs:e.idleNewSessionMessageTimeoutMs??0,idleNewSessionNotificationTimeoutMs:e.idleNewSessionNotificationTimeoutMs??0,enableChatMultimodal:e.enableChatMultimodal??!1,enableAgentMode:e.enableAgentMode??!1,agentMemoriesFilePathName:e.agentMemoriesFilePathName,enableRichCheckpointInfo:e.enableRichCheckpointInfo??!1,userTier:e.userTier??"unknown",truncateChatHistory:e.truncateChatHistory??!1,enableBackgroundAgents:e.enableBackgroundAgents??!1,enableNewThreadsList:e.enableNewThreadsList??!1,customPersonalityPrompts:e.customPersonalityPrompts??{},enablePersonalities:e.enablePersonalities??!1,enableRules:e.enableRules??!1,memoryClassificationOnFirstToken:e.memoryClassificationOnFirstToken??!1,enableGenerateCommitMessage:e.enableGenerateCommitMessage??!1,enablePromptEnhancer:e.enablePromptEnhancer??!1,modelRegistry:e.modelRegistry??{},agentChatModel:e.agentChatModel??"",enableModelRegistry:e.enableModelRegistry??!1,enableTaskList:e.enableTaskList??!1,enableAgentAutoMode:e.enableAgentAutoMode??!1,enableExchangeStorage:e.enableExchangeStorage??!1,enableToolUseStateStorage:e.enableToolUseStateStorage??!1,enableEnhancedDehydrationMode:e.enableEnhancedDehydrationMode??!1,clientAnnouncement:e.clientAnnouncement??"",useHistorySummary:e.useHistorySummary??!1,historySummaryParams:e.historySummaryParams??"",conversationHistorySizeThresholdBytes:e.conversationHistorySizeThresholdBytes??0,retryChatStreamTimeouts:e.retryChatStreamTimeouts??!1,enableCommitIndexing:e.enableCommitIndexing??!1,enableMemoryRetrieval:e.enableMemoryRetrieval??!1,isVscodeVersionOutdated:e.isVscodeVersionOutdated??!1,vscodeMinVersion:e.vscodeMinVersion??"",enableAgentTabs:e.enableAgentTabs??!1,enableAgentGitTracker:e.enableAgentGitTracker??!1,enableBulkDeleteThreads:e.enableBulkDeleteThreads??!1,enableIntersectionObserverManager:e.enableIntersectionObserverManager??!1,remoteAgentsResumeHintAvailableTtlDays:e.remoteAgentsResumeHintAvailableTtlDays??0,memoriesParams:e.memoriesParams??{},modelInfoRegistry:e.modelInfoRegistry??{},showThinkingSummary:e.showThinkingSummary??!1,enableChatInputInlineCompletion:e.enableChatInputInlineCompletion??!1,enableCreditsInSettings:e.enableCreditsInSettings??!1,enableCreditBannerInSettings:e.enableCreditBannerInSettings??!1,enableOnboardingV2:e.enableOnboardingV2??!1});function*_d(){if((yield*oe(n=>n.mainPanel.visibleApp))!=="chat")return{};const e=yield*yd(),t=yield*_t(e.getChatInitData);return vd(t)}function*Qg(){const e=yield*_d();yield*U(ar.success(e))}const Jg=["enablePreferenceCollection","enableRetrievalDataCollection","enableDebugFeatures","enableRichTextHistory","customPersonalityPrompts","enableExternalSourcesInChat","enableSmartPaste","enableDirectApply","suggestedEditsAvailable","enableShareService","enableDesignSystemRichTextEditor","enableSources","useNewThreadsMenu","enableEditableHistory","enableChatMermaidDiagramsMinVersion","enableChatMultimodal","enableAgentMode","enableRichCheckpointInfo","enablePersonalities","enableBackgroundAgents","enableGenerateCommitMessage","enableTaskList","useHistorySummary","showThinkingSummary","isVscodeVersionOutdated","enableExchangeStorage","enableToolUseStateStorage","enableEnhancedDehydrationMode","agentMemoriesFilePathName","conversationHistorySizeThresholdBytes","enableAgentSwarmMode","modelDisplayNameToId","userTier","summaryTitles","fullFeatured","truncateChatHistory"];function*Xg(){$c();const e=sa(Uc),{legacyFeatureFlags:t,grpcFlagsResponse:n}=yield*Kg({legacyFeatureFlags:_t(_d),grpcFlagsResponse:_t(e.featureFlags,{},{timeoutMs:15e3})});if(!n.featureFlags)throw new Error("No feature flags returned from service");{const s=n.featureFlags,a=c=>typeof s[c]=="string"?JSON.parse(s[c]):s[c],i={...(r=s,Object.fromEntries(Object.entries(r).map(([c,l])=>[c,typeof l=="bigint"?Number(l):l]))),modelInfoRegistry:a("modelInfoRegistry"),modelRegistry:a("modelRegistry"),memoriesParams:a("memoriesParams")},d=Jg.reduce((c,l)=>t[l]===void 0?c:{...c,[l]:t[l]},i);yield*U(ar.success(vd(d)))}var r}const Tc=e=>{if(e.data){const t=e.data;if("success"in t){if(t.success)return;throw new Error("Event Failed",{cause:e.data})}}},Ac={[Aa.type]:3e4,[Kl.type]:1e5,[Wl.type]:1e5},bd=D(e=>e.memory.memories),em=Qa(bd.select),Vy=Xl(bd.select),Zy=D(e=>e.memory.isLoading),Mc=Xe("reportAgentSessionEvent",e=>({type:ce.reportAgentSessionEvent,data:e})),tm=ns("reportUserRating",e=>({type:I.chatRating,data:e})),nm=D(e=>e.subscription.currentPollingInterval),Wy=D(e=>e.subscription.subscriptionInfo),rm=D(e=>{const{dismissedAt:t}=e.subscription;if(!t)return!1;const n=new Date(t),r=new Date;return n.toDateString()===r.toDateString()}),ra="subscription-warning-dismissed";var sm=(e=>(e[e.unknown=0]="unknown",e[e.allFeatures=1]="allFeatures",e[e.chat=2]="chat",e[e.agent=3]="agent",e[e.remoteAgent=4]="remoteAgent",e[e.cliAgent=5]="cliAgent",e))(sm||{}),am=(e=>(e[e.unknown=0]="unknown",e[e.enabled=1]="enabled",e[e.disabled=2]="disabled",e))(am||{}),Zn=(e=>(e.enterprise="enterprise",e.active="active_subscription",e.inactive="inactive_subscription",e.unknown="unknown",e))(Zn||{});function Ic(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function im(e){let t,n,r=Zn.unknown;if(e.data.enterprise)r=Zn.enterprise;else if(e.data.activeSubscription){if(r=Zn.active,e.data.activeSubscription.endDate){const s=new Date(e.data.activeSubscription.endDate);s.getFullYear()>2e3&&(t=Math.max(0,function(a,i){const d=Si(a),c=Si(i),l=Ic(d,c),u=Math.abs(Vd(d,c));d.setDate(d.getDate()-l*u);const o=l*(u-+(Ic(d,c)===-l));return o===0?0:o}(s,new Date)))}n=e.data.activeSubscription.usageBalanceDepleted}else e.data.inactiveSubscription&&(r=Zn.inactive);return{type:r,daysRemaining:t,usageBalanceDepleted:n,featureGatingInfo:e.data.featureGatingInfo}}function*om(e){for(;;)yield*Bt(e),yield*U(Ma())}const Rc=O("openFile"),cm=async e=>{const t={type:ht.getWorkspaceRoot};return(await e.sendToSidecar(t)).data.workspaceRoot||""};function*Pc(){const e=yield*oe(_u.select),t=yield*oe(r=>r.context.enableAgentMemoriesFlag),n=yield*oe(r=>r.context.activeItems);e?(t||(yield*U(uu())),n.agentMemories&&n.userGuidelines||(yield*U(Ja(["agentMemories","userGuidelines"])))):t&&(yield*U(du()))}const lm={updateFlags:function*(){yield*ta(ar,function*(){let e,t=5,n=!1;for(;t>0;){t-=1;try{return void(n?yield*Qg():yield*Xg())}catch(r){n=!0,console.error(r),e=r}yield*Bt(500)}yield*U(Vr({areFlagsReady:!0})),console.error("Multiple attempts to fetch feature flags were failed, last error: ",e)})},messagesHandler:function*(){yield*be(os,function*(e){const t=e.payload.data,{type:n}=t;if(n!==I.runSlashCommand){if(n===I.mainPanelDisplayApp)return yield*U(ku()),void(yield*U(Au(t.data)));if(n!==I.mainPanelActions)if(n!==I.awaitingSyncingPermissionInitialize)if(n!==I.chatMemoryHasUpdates)if(n!==I.showBannerNotification)if(n!==I.dismissBannerNotification)n!==I.sourceFoldersUpdated?n!==I.sourceFoldersSyncStatus?n!==I.fileRangesSelected?n!==I.currentlyOpenFiles?n!==I.syncEnabledState?n!==I.updateGuidelinesState?n!==I.getRulesListResponse||(yield*U(Zl(t.data))):yield*U(gc(t.data)):yield*U(pu(t.data)):yield*U(lu(t.data)):yield*U(cu(t.data)):yield*U(hu(t.data)):yield*U(xa(t.data.sourceFolders));else{const{notificationId:r}=t.data;yield*U(xu(r))}else{const{notificationId:r,message:s,level:a,actionItems:i}=t.data;yield*U(Eu({notificationId:r,message:s,level:a,actionItems:i}))}else yield*U(Ta());else yield*U(Vr(t.data));else yield*U(Su(t.data))}else yield*U(Tu(t.data))})},messagesSender:function*(){const e=new fi(Wn.postMessage),t=(r=>(s,a)=>r.sendToSidecar(s,a))(e),n=(r=>(s,a)=>r.send(s,a))(e);yield*be(r=>r.asyncActionType===Hl,function*(r){const s=Ac[r.type]||5e3,{payload:a,success:i,failure:d}=r;try{const c=yield*_t(t,a,s);Tc(c),yield*U(i(c))}catch(c){yield*U(d(c))}}),yield*be(r=>r.asyncActionType===Gl,function*(r){const s=Ac[r.type]||500,{payload:a,success:i,failure:d}=r;try{const c=yield*_t(n,a,s);Tc(c),yield*U(i(c))}catch(c){yield*U(d(c))}}),yield*be(Xs,r=>{Wn.postMessage(r.payload)})},refreshMemory:function*(){yield*U(Qn("pending")),yield*ta([Ta,Aa.success,Aa.failure],function*(){yield*U(Qn("pending")),yield*Bt(1e4)})},reportUserEvents:function*(){yield*ta(Mu.success,function*(e){const t=e.payload.response.data,{memoryId:n}=t,{memory:r,conversationId:s,enableDebugFeatures:a,memoriesParams:i}=yield*oe(u=>({memory:em.select(u,n),conversationId:Qf.select(u),enableDebugFeatures:fn.select(u,"enableDebugFeatures"),memoriesParams:Yg.select(u)})),d=(c=r?.state,c==="rejected"?{action:kr.discardMemory,memoryState:"user_rejected"}:c==="accepted"?{action:kr.saveMemory,memoryState:"user_accepted"}:c==="pending"?{action:kr.editMemory,memoryState:"user_edited"}:void 0);var c;if(!d)return;const l={memoryId:r?.id,triggeredBy:fl.user,memoryVersion:r?.version,...d};r?.state!=="rejected"&&r?.state!=="accepted"||(yield*U(tm(((u,o,h)=>{const p=u.state==="rejected"?wr.negative:wr.positive,f=`
${p===wr.positive?"User manually saved memory":"User manually discarded memory"}

Memory version: ${o?.memory_retrieval_version}`,m=`${f}

Created memory: ${u.content}`,v=h?m:f;return{requestId:u.requestId||"",mode:Jd.memories,rating:p,note:v}})(r,i,a)))),s&&(yield*U(Mc({eventName:da.memoryUsage,conversationId:s,eventData:{memoryUsageData:l}})))}),yield*be(bn.success,function*(){yield*U(Mc({eventName:da.rulesImported,conversationId:"",eventData:{rulesImportedData:{type:ul.manuallyCreated,numFiles:1,source:""}}}))})},subscriptionSyncLocalStorage:function*(){yield*Pe(vg,function*(){if(!(yield*oe(rm.select)))try{const e=localStorage.getItem(ra);if(e){const t=new Date(e),n=new Date;t.toDateString()!==n.toDateString()?(localStorage.removeItem(ra),yield*U(Er(void 0))):yield*U(Er(t.toISOString()))}}catch(e){console.error("Failed to read from localStorage:",e)}}),yield*Pe(yg,function*(){try{const e=new Date().toISOString();yield*U(Er(e)),localStorage.setItem(ra,e)}catch(e){console.error("Failed to write to localStorage:",e)}})},subscriptionPolling:function*(){let e,t=null;const n=function*(){const r=yield*oe(s=>nm.select(s));t&&e!==r&&(t.cancel(),t=null),t||(e=r,t=yield*fd(om,r))};yield*Pe(Ma.success,function*(r){const s=im(r.payload.response);yield*U(Ru(s)),yield*U(Ia())}),yield*Pe(Ma.failure,function*(){yield*U(Ra())}),yield*Pe(Ia,n),yield*Pe(Ra,n)},rulesRefetch:function*(){const e=yield*oe(pc.select);yield*U(Yn(e)),yield*Pe([of,Vl,bn.success,cf.success,dc.success,Vs.success,Sn.success],function*(){yield*Bt(250);const t=yield*oe(pc.select);yield*U(Yn(t))})},rulesEditing:function*(){function e(t,n,r){let s;return t===0?s=r?`No new rules imported from ${r}`:"No new rules imported":(s=`Successfully imported ${t} rule${t!==1?"s":""}`,n&&n>0&&(s+=` and skipped ${n} duplicate${n!==1?"s":""}`)),{message:s,type:t>0?"info":"warning"}}yield*be(Wl.success,function*(t){const n=t.payload.request._metadata.path;t.payload.response.data.ok&&(yield*U(dc(n,!0)))}),yield*be(bn.success,function*(t){const{createdRule:n}=t.payload.response.data;n&&(yield*U(Rc({pathName:n.path})))}),yield*Pe(Sn.success,function*(){yield*Bt(500),yield*U(zl("autoImport",""))}),yield*Pe(Kl.success,function*(t){const{data:n}=t.payload.response;n.selectedPaths&&n.selectedPaths.length>0&&(yield*U(Vs(n.selectedPaths)))}),yield*Pe(Vs.success,function*(t){const{importedRulesCount:n}=t.payload.response.data;yield*U(Ys(e(n)))}),yield*Pe(Sn.success,function*(t){const{importedRulesCount:n,duplicatesCount:r,source:s}=t.payload.response.data;yield*U(Ys(e(n,r,s)))})},extensionNotifications:function*(){yield*be(Ys,function*(e){yield*U(Xs({type:I.showNotification,data:e.payload}))})},files:function*(){const e=new fi(Wn.postMessage);yield*be(Rc,function*(t){const n=t.payload;yield*U(Xs({type:I.openFile,data:{...n,repoRoot:n.repoRoot!==void 0?n.repoRoot:yield*_t(cm,e)}}))})},context:function*(){yield*_t(Pc),yield*Pe(Bl,Pc),yield*be(Tf,function*(e){const t=e.payload;(yield*oe(n=>If.select(n,t)))?yield*U(iu(t)):yield*U(au(t))}),yield*be(Af,function*(){const e=yield*oe(t=>t.context.pinnedItems);yield*U(ou(Object.keys(e)))}),yield*be(xf,function*(){const e=yield*oe(t=>t.context.collection.ids);yield*U(Ja(e))}),yield*be(Ef,function*(){const e=yield*oe(t=>t.context.collection.ids);yield*U(su(e))}),yield*be(gc,function*(e){const{workspaceGuidelines:t,userGuidelines:n,rulesAndGuidelines:r}=e.payload;yield*U(gu(t));const s=yield*oe(Ea.select);if(n||r||s.length>0){const i=n||{overLimit:!1,contents:"",lengthLimit:r?.lengthLimit??2e3};yield*U(fu(i,r))}const a=(yield*oe(Xa.select)).map(({sourceFolder:i})=>i);yield*U(xa(a))})},updateMentionablesContext:function*(){const e=new Map;yield*Pe(ru,function*(t){yield Bt(300);const n=yield*oe(_u.select),r=t.payload,s=yield*oe(i=>i.context.mentionsResults[r]),a=e.get(r);if(s&&a&&+new Date<a+3e4)yield*U(t.success({query:r,mentionablesCollection:s}));else{e.set(r,+new Date);try{const i=yield*yd(),d=yield*_t(i.getSuggestions,r,n);yield*U(t.success({query:r,mentionables:cp({query:r,mentionables:d})}))}catch(i){t.failure(i)}}})}};function*um(){const e=new Map;yield*be(gd,function*(t){const n=t.payload,r=e.get(n);if(r){const i={...r,counter:r.counter+1};return void e.set(n,i)}const s=(i=>{const d=lm[i];return function*(...c){let l=0,u=+new Date;for(;l<10;)try{yield*_t(d,...c);break}catch(o){if(l=Math.max(0,l-Math.floor((+new Date-u)/6e4))+1,u=+new Date,console.error(`Saga "${i}" crashed ${l===1?"first time":l+" times"}. Restarting... (${10-l} of 10 attempts left )
`,o),l>=10){console.error(`Saga "${i}" terminated`);break}yield*Bt(1500)}}})(n),a={task:yield*fd(s),name:n,counter:1};e.set(n,a)}),yield*be(md,function(t){const n=t.payload,r=e.get(n);if(!r)return;const s={...r,counter:r.counter-1};s.counter<=0&&s.task.cancel(),s.task.isCancelled()?e.delete(n):e.set(n,s)})}const dm=e=>{const t=function(a,i,d){return bu(a,i,d)}(ng(Qs),(a=>Object.keys(Qs).reduce((i,d)=>({...i,[d]:{...Qs[d].initialState,...a?a[d]:{}}}),{}))(e),function(...a){return i=>(d,c)=>{const l=i(d,c);let u=()=>{throw new Error(de(15))};const o={getState:l.getState,dispatch:(p,...f)=>u(p,...f)},h=a.map(p=>p(o));return u=function(...p){return p.length===0?f=>f:p.length===1?p[0]:p.reduce((f,m)=>(...v)=>f(m(...v)))}(...h)(l.dispatch),{...l,dispatch:u}}}(...zg)),n=[],r=(a,...i)=>{const d=((c,...l)=>pd.run(c,...l))(a,...i);return n.push(d),d};r(um);const s={store:t,storeState:Ql(t),dispose:()=>{(()=>{for(const a of n)a.cancel()})(),(a=>{typeof window<"u"&&window.augment?.reduxContext&&(window.augment.reduxContext===a&&(window.augment.reduxContext=void 0),Array.isArray(window.augment.reduxContext)&&(window.augment.reduxContext=window.augment.reduxContext.filter(i=>i!==a)))})(s)},runSaga:r};return s};var hm=Od('<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z" fill="currentColor"></path></svg>');class Fe{constructor(t=void 0){this._parentContext=t}static CONTEXT_KEY="augment-dropdown-menu-focus";static ITEM_CLASS="js-dropdown-menu__focusable-item";_lastFocusAnchorElement;_focusedIndexStore=qc(void 0);focusedIndex=this._focusedIndexStore;_rootElement;get rootElement(){return this._rootElement}_triggerElement;get triggerElement(){return this._triggerElement}get parentContext(){return this._parentContext}_getItems=()=>{const t=this._rootElement?.querySelectorAll(`.${Fe.ITEM_CLASS}`),n=t?.[0];return n instanceof HTMLElement&&this._recomputeFocusAnchor(n),Array.from(t??[])};_recomputeFocusAnchor=t=>{const n=this._parentContext?._getItems(),r=n?.indexOf(t);if(r===void 0||n===void 0)return;const s=Math.max(r-1,0);this._lastFocusAnchorElement=n[s]};registerRoot=t=>{this._rootElement=t,t.addEventListener("keydown",this._onKeyDown);const n=()=>{this.getCurrentFocusedIdx()},r=s=>{t.contains(s.relatedTarget)||this._focusedIndexStore.set(void 0)};return t.addEventListener("focusin",n),t.addEventListener("focusout",r),this._getItems(),{destroy:()=>{this._removeFromTrapStack(),this._rootElement=void 0,t.removeEventListener("keydown",this._onKeyDown),t.removeEventListener("focusin",n),t.removeEventListener("focusout",r),this._focusedIndexStore.set(void 0)}}};registerTrigger=t=>(this._triggerElement=t.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')??t,{destroy:()=>{this._triggerElement=void 0}});_onKeyDown=t=>{switch(t.key){case"ArrowUp":t.preventDefault(),this.focusPrev();break;case"ArrowDown":t.preventDefault(),this.focusNext();break;case"ArrowLeft":this._requestClose();break;case"ArrowRight":this.clickFocusedItem();break;case"Tab":{const n=this.getCurrentFocusedIdx();if(n===void 0||this.parentContext)break;(!t.shiftKey&&n===this._getItems().length-1||t.shiftKey&&n===0)&&(t.preventDefault(),this._triggerElement?.focus());break}}};_requestClose=()=>{this._rootElement?.dispatchEvent(new qd)};getCurrentFocusedIdx=()=>{const t=this._getItems().findIndex(r=>r===document.activeElement),n=t===-1?void 0:t;return this._focusedIndexStore.set(n),n};setFocusedIdx=t=>{const n=this._getItems();if(n.length===0)return void this._focusedIndexStore.set(void 0);const r=yr(t,n.length);this._focusedIndexStore.set(r)};focusIdx=t=>{const n=this._getItems();if(n.length===0)return void this._focusedIndexStore.set(void 0);const r=yr(t,n.length);n[r]?.focus(),this._focusedIndexStore.set(r)};popNestedFocus=()=>{if(this._parentContext){this._focusedIndexStore.set(void 0);const t=this._lastFocusAnchorElement,n=t?this._parentContext._getItems().indexOf(t):void 0;return n===void 0?(this._parentContext.focusIdx(0),!0):(this._parentContext.focusIdx(n),!0)}return!1};focusNext=()=>{const t=this._getItems();if(t.length===0)return;const n=yr(t.findIndex(r=>r===document.activeElement)+1,t.length);t[n].focus(),this._focusedIndexStore.set(n)};focusPrev=()=>{const t=this._getItems();if(t.length===0)return;const n=yr(t.findIndex(r=>r===document.activeElement)-1,t.length);t[n]?.focus(),this._focusedIndexStore.set(n)};clickFocusedItem=async()=>{const t=document.activeElement;t&&(t.click(),await aa())};_addToTrapStack=()=>{this._rootElement&&bi.add(this._rootElement)};_removeFromTrapStack=()=>{this._rootElement&&bi.remove(this._rootElement)};handleOpenChange=t=>{t?this._addToTrapStack():this._removeFromTrapStack()}}function yr(e,t){return(e%t+t)%t}const gn="augment-dropdown-menu-content";var pm=ue("<div><!></div>"),fm=ue('<div class="l-dropdown-menu-augment__container svelte-gnptny"><!></div>');function Oc(e,t){fe(t,!1);const n=()=>Be(p,"$sizeState",r),[r,s]=nt(),a=ot();let i=Y(t,"size",8,2),d=Y(t,"onEscapeKeyDown",8,()=>{}),c=Y(t,"onClickOutside",8,()=>{}),l=Y(t,"onRequestClose",8,()=>{}),u=Y(t,"side",8,"top"),o=Y(t,"align",8,"center");const h={size:qc(i())},p=h.size;Yr(gn,h);const f=pe(Fe.CONTEXT_KEY),m=pe(Kn.CONTEXT_KEY);rt(()=>Lt(i()),()=>{p.set(i())}),rt(()=>{},()=>{Nd(it(a,m.state),"$openState",r)}),yn(),qe(),Ye("keydown",Bc,function(v){if(Be(se(a),"$openState",r).open&&v.key==="Tab"&&!v.shiftKey){if(f.getCurrentFocusedIdx()!==void 0)return;v.preventDefault(),f?.focusIdx(0)}}),Bd(e,{get onEscapeKeyDown(){return d()},onClickOutside:function(v){return m.forceControlSetOpen(!1),c()?.(v)},get onRequestClose(){return l()},get side(){return u()},get align(){return o()},$$events:{keydown(v){mt.call(this,t,v)}},children:(v,y)=>{var b=fm(),k=He(b);Hd(k,{get size(){return n()},insetContent:!0,includeBackground:!1,children:(w,g)=>{var S=pm(),_=He(S);we(_,t,"default",{},null),ia(S,E=>f.registerRoot?.(E)),zt(()=>vn(S,1,`l-dropdown-menu-augment__contents l-dropdown-menu-augment__contents--size-${n()}`,"svelte-gnptny")),te(w,S)},$$slots:{default:!0}}),te(v,b)},$$slots:{default:!0}}),ge(),s()}var gm=ue('<div class="c-dropdown-menu-augment__item-icon svelte-gvv4g6"><!></div>'),mm=ue('<div class="c-dropdown-menu-augment__item-icon svelte-gvv4g6"><!></div>'),ym=ue("<!> <!> <!>",1);function $a(e,t){const n=Hc(t),r=Se(t,["children","$$slots","$$events","$$legacy"]),s=Se(r,["highlight","disabled","color","onSelect"]);fe(t,!1);const a=()=>Be(y,"$sizeState",i),[i,d]=nt(),c=ot(),l=ot(),u=ot();let o=Y(t,"highlight",24,()=>{}),h=Y(t,"disabled",24,()=>{}),p=Y(t,"color",24,()=>{}),f=Y(t,"onSelect",8,()=>{});const m=pe(gn),v=pe(Fe.CONTEXT_KEY),y=m.size;function b(k){if(h())return;const w=v.rootElement?.querySelectorAll(`.${Fe.ITEM_CLASS}`);if(!w)return;const g=Array.from(w).findIndex(S=>S===k);g!==-1&&v.setFocusedIdx(g)}rt(()=>(se(c),se(l),Lt(s)),()=>{it(c,s.class),it(l,zc(s,["class"]))}),rt(()=>(Lt(h()),Lt(o()),se(c)),()=>{it(u,[h()?"":Fe.ITEM_CLASS,"c-dropdown-menu-augment__item",o()?"c-dropdown-menu-augment__item--highlighted":"",se(c)].join(" "))}),yn(),qe();{let k=zn(()=>p()??"neutral"),w=zn(()=>!p()),g=zn(()=>gi("dropdown-menu-item","highlighted",o())),S=zn(()=>gi("dropdown-menu-item","disabled",h()));Ud(e,Ht({get class(){return se(u)},get size(){return a()},variant:"ghost",get color(){return se(k)},get highContrast(){return se(w)},alignment:"left",get disabled(){return h()}},()=>se(g),()=>se(S),()=>se(l),{$$events:{click:_=>{_.currentTarget instanceof HTMLElement&&b(_.currentTarget),f()(_)},mouseover:_=>{_.currentTarget instanceof HTMLElement&&b(_.currentTarget)},mousedown:_=>{_.preventDefault(),_.stopPropagation()}},children:(_,E)=>{var M=ym(),N=xe(M),L=W=>{var ne=gm(),ve=He(ne);we(ve,t,"iconLeft",{},null),te(W,ne)};_n(N,W=>{Vt(()=>n.iconLeft)&&W(L)});var j=he(N,2);Gc(j,{get size(){return a()},children:(W,ne)=>{var ve=Qe(),$e=xe(ve);we($e,t,"default",{},null),te(W,ve)},$$slots:{default:!0}});var q=he(j,2),B=W=>{var ne=mm(),ve=He(ne);we(ve,t,"iconRight",{},null),te(W,ne)};_n(q,W=>{Vt(()=>n.iconRight)&&W(B)}),te(_,M)},$$slots:{default:!0}}))}ge(),d()}function Nc(e,t){const n=Se(t,["children","$$slots","$$events","$$legacy"]),r=Se(n,[]);$a(e,Ht({class:"c-dropdown-menu-augment__breadcrumb-chevron"},()=>r,{children:(s,a)=>{var i=Qe(),d=xe(i);we(d,t,"default",{},null),te(s,i)},$$slots:{default:!0,iconRight:(s,a)=>{jd(s,{slot:"iconRight",name:"chevron-right"})}}}))}function vm(e,t){fe(t,!0);const[n,r]=nt(),s=Y(t,"size",3,1),a=Y(t,"animated",3,!0),i=Y(t,"class",3,""),d=pe(Kn.CONTEXT_KEY),c=d?.state,l=mi(()=>Be(c,"$tooltipState",n)?.open??!1),u=mi(()=>se(l)?"up":"down");zd(e,{get direction(){return se(u)},get size(){return s()},get animated(){return a()},get class(){return i()}}),ge(),r()}var _m=ue("<div><!></div>");const Sd=Symbol("command-scope-node");function bm(){return pe(Sd)}function Ky(e){const t=[];let n=e;for(;n;)t.push(n.value),n=n.parent??void 0;return t.reverse()}function Sm(e,t){fe(t,!0);const n=bm()??null,r=function(i,d){const c={value:i,parent:d,children:new Set};return d&&d.children.add(c),c}(t.scope,n);(function(i){Yr(Sd,i)})(r),Vc(()=>{r.value=t.scope}),Zc(()=>{(function(i){i.parent&&i.parent.children.delete(i),i.parent=null})(r)});var s=Qe(),a=xe(s);Ua(a,()=>t.children??ja),te(e,s),ge()}function Lc(e,t){const n=Se(t,["children","$$slots","$$events","$$legacy"]),r=Se(n,["requestOpen","requestClose","focusIdx","setFocusedIdx","getCurrentFocusedIdx","focusedIndex","defaultOpen","open","onOpenChange","delayDurationMs","nested","onHoverStart","onHoverEnd","triggerOn"]);fe(t,!1);let s=Y(t,"defaultOpen",24,()=>{}),a=Y(t,"open",24,()=>{}),i=Y(t,"onOpenChange",24,()=>{}),d=Y(t,"delayDurationMs",24,()=>{}),c=Y(t,"nested",24,()=>{}),l=Y(t,"onHoverStart",8,()=>{}),u=Y(t,"onHoverEnd",8,()=>{}),o=Y(t,"triggerOn",24,()=>[vr.Click]),h=ot();const p=()=>se(h)?.requestOpen(),f=()=>se(h)?.requestClose(),m=S=>k.focusIdx(S),v=S=>k.setFocusedIdx(S),y=()=>k.getCurrentFocusedIdx(),b=pe(Fe.CONTEXT_KEY),k=new Fe(b);Yr(Fe.CONTEXT_KEY,k);const w=k.focusedIndex;var g={requestOpen:p,requestClose:f,focusIdx:m,setFocusedIdx:v,getCurrentFocusedIdx:y,focusedIndex:w};return qe(),Wc(Gd(e,Ht({get defaultOpen(){return s()},get open(){return a()},onOpenChange:function(S){k.handleOpenChange(S),i()?.(S)},get delayDurationMs(){return d()},get onHoverStart(){return l()},get onHoverEnd(){return u()},get triggerOn(){return o()},get nested(){return c()}},()=>r,{children:(S,_)=>{Sm(S,{scope:"dropdown-menu",children:(E,M)=>{var N=Qe(),L=xe(N);we(L,t,"default",{},null),te(E,N)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})),S=>it(h,S),()=>se(h)),nn(t,"requestOpen",p),nn(t,"requestClose",f),nn(t,"focusIdx",m),nn(t,"setFocusedIdx",v),nn(t,"getCurrentFocusedIdx",y),nn(t,"focusedIndex",w),ge(g)}var km=ue("<div></div>");function wm(e,t){let n=Y(t,"size",3,1),r=Y(t,"orientation",3,"horizontal"),s=Y(t,"useCurrentColor",3,!1),a=Y(t,"class",3,"");var i=km();let d;zt(c=>d=vn(i,1,`c-separator c-separator--size-${n()===.5?"0_5":n()} c-separator--orientation-${r()} ${a()}`,"svelte-1vf170r",d,c),[()=>({"c-separator--current-color":s()})]),te(e,i)}var Cm=ue("<div><!></div>"),xm=ue('<label class="c-text-field-label svelte-ezkyvh"><!></label>'),Em=ue('<div class="c-text-field__slot c-base-text-input__slot"><!></div>'),Tm=ue('<div class="c-text-field__slot c-base-text-input__slot"><!></div>'),Am=ue("<!> <input/> <!>",1),Mm=ue("<div><!> <!></div>");function Im(e,t){const n=Hc(t),r=Se(t,["children","$$slots","$$events","$$legacy"]),s=Se(r,["variant","size","color","textInput","value","id","outline"]);fe(t,!1);const a=ot(),i=ot(),d=ot(),c=Ld();let l=Y(t,"variant",8,"surface"),u=Y(t,"size",8,2),o=Y(t,"color",24,()=>{}),h=Y(t,"textInput",28,()=>{}),p=Y(t,"value",12,""),f=Y(t,"id",24,()=>{}),m=Y(t,"outline",8,!0);const v=`text-field-${Math.random().toString(36).substring(2,11)}`;function y(S){c("change",S)}rt(()=>Lt(f()),()=>{it(a,f()||v)}),rt(()=>(se(i),se(d),Lt(s)),()=>{it(i,s.class),it(d,zc(s,["class"]))}),yn(),qe();var b=Mm();vn(b,1,"c-text-field svelte-ezkyvh",null,{},{"c-text-field--has-left-icon":n.iconLeft!==void 0,"c-text-field--has-right-icon":n.iconRight!==void 0});var k=He(b),w=S=>{var _=xm(),E=He(_);we(E,t,"label",{},null),zt(()=>Kc(_,"for",se(a))),te(S,_)};_n(k,S=>{Vt(()=>n.label)&&S(w)});var g=he(k,2);Zd(g,{get variant(){return l()},get size(){return u()},get color(){return o()},truncate:!0,get outline(){return m()},children:(S,_)=>{var E=Am(),M=xe(E),N=B=>{var W=Em(),ne=He(W);we(ne,t,"iconLeft",{},null),te(B,W)};_n(M,B=>{Vt(()=>n.iconLeft)&&B(N)});var L=he(M,2);Dd(L,()=>({spellCheck:"false",class:`c-text-field__input c-base-text-input__input ${se(i)}`,id:se(a),...se(d)}),void 0,void 0,"svelte-ezkyvh",!0),Wc(L,B=>h(B),()=>h());var j=he(L,2),q=B=>{var W=Tm(),ne=He(W);we(ne,t,"iconRight",{},null),te(B,W)};_n(j,B=>{Vt(()=>n.iconRight)&&B(q)}),Wd(L,p),Ye("change",L,y),Ye("click",L,function(B){mt.call(this,t,B)}),Ye("keydown",L,function(B){mt.call(this,t,B)}),Ye("input",L,function(B){mt.call(this,t,B)}),Ye("blur",L,function(B){mt.call(this,t,B)}),Ye("dblclick",L,function(B){mt.call(this,t,B)}),Ye("focus",L,function(B){mt.call(this,t,B)}),Ye("mouseup",L,function(B){mt.call(this,t,B)}),Ye("selectionchange",L,function(B){mt.call(this,t,B)}),te(S,E)},$$slots:{default:!0}}),te(e,b),ge()}var Rm=ue("<div><!></div>"),Pm=ue("<div><!></div>");const Yy={BreadcrumbBackItem:function(e,t){const n=Se(t,["children","$$slots","$$events","$$legacy"]),r=Se(n,[]);$a(e,Ht({class:"c-dropdown-menu-augment__breadcrumb-back-chevron"},()=>r,{children:(s,a)=>{var i=Qe(),d=xe(i);we(d,t,"default",{},null),te(s,i)},$$slots:{default:!0,iconLeft:(s,a)=>{(function(i){var d=hm();te(i,d)})(s)}}}))},BreadcrumbItem:Nc,Content:Oc,Item:$a,Label:function(e,t){fe(t,!1);const n=()=>Be(i,"$sizeState",r),[r,s]=nt(),a=ot(),i=pe(gn).size;rt(()=>n(),()=>{it(a,["c-dropdown-menu-augment__label-item",`c-dropdown-menu-augment__label-item--size-${n()}`].join(" "))}),yn(),qe();var d=_m(),c=He(d);Gc(c,{get size(){return n()},weight:"regular",children:(l,u)=>{var o=Qe(),h=xe(o);we(h,t,"default",{},null),te(l,o)},$$slots:{default:!0}}),zt(()=>vn(d,1,yi(se(a)),"svelte-5py8lx")),te(e,d),ge(),s()},Root:Lc,Separator:function(e,t){fe(t,!1);const[n,r]=nt(),s=pe(gn).size;qe();var a=Cm();wm(He(a),{size:4,orientation:"horizontal"}),zt(()=>vn(a,1,`c-dropdown-menu-augment__separator c-dropdown-menu-augment__separator--size-${Be(s,"$sizeState",n)}`,"svelte-5ijgrc")),te(e,a),ge(),r()},Sub:function(e,t){const n=Se(t,["children","$$slots","$$events","$$legacy"]),r=Se(n,[]);fe(t,!1),qe();{let s=zn(()=>(Lt(vr),Vt(()=>[vr.Click,vr.Hover])));Lc(e,Ht({nested:!0,get triggerOn(){return se(s)}},()=>r,{children:(a,i)=>{var d=Qe(),c=xe(d);we(c,t,"default",{},null),te(a,d)},$$slots:{default:!0}}))}ge()},SubContent:function(e,t){const n=Se(t,["children","$$slots","$$events","$$legacy"]),r=Se(n,[]);fe(t,!1);const s=()=>Be(u,"$didOpen",a),[a,i]=nt(),d=pe(gn).size,c=pe(Fe.CONTEXT_KEY),l=pe(Kn.CONTEXT_KEY),u=Fc(l.state,o=>o.open);rt(()=>(s(),aa),()=>{s()&&aa().then(()=>c?.focusIdx(0))}),rt(()=>s(),()=>{!s()&&c?.popNestedFocus()}),yn(),qe(),Oc(e,Ht(()=>r,{side:"right",align:"start",get size(){return Be(d,"$sizeState",a)},children:(o,h)=>{var p=Qe(),f=xe(p);we(f,t,"default",{},null),te(o,p)},$$slots:{default:!0}})),ge(),i()},SubTrigger:function(e,t){fe(t,!1);const[n,r]=nt(),s=pe(Kn.CONTEXT_KEY).state;qe(),vi(e,{children:(a,i)=>{Nc(a,{get highlight(){return Be(s,"$stateStore",n).open},children:(d,c)=>{var l=Qe(),u=xe(l);we(u,t,"default",{},null),te(d,l)},$$slots:{default:!0}})},$$slots:{default:!0}}),ge(),r()},TextFieldItem:function(e,t){const n=Se(t,["children","$$slots","$$events","$$legacy"]),r=Se(n,["value"]);fe(t,!1);const s=()=>Be(l,"$sizeState",a),[a,i]=nt(),d=ot();let c=Y(t,"value",12,"");const l=pe(gn).size;rt(()=>s(),()=>{it(d,["c-dropdown-menu-augment__text-field-item",`c-dropdown-menu-augment__text-field-item--size-${s()}`].join(" "))}),yn(),qe();var u=Rm();Im(He(u),Ht({get class(){return Lt(Fe),Vt(()=>Fe.ITEM_CLASS)},get size(){return s()}},()=>r,{get value(){return c()},set value(o){c(o)},$$legacy:!0})),zt(()=>vn(u,1,yi(se(d)),"svelte-1cchrx5")),te(e,u),ge(),i()},Trigger:function(e,t){fe(t,!1);const n=()=>Be(c,"$openState",r),[r,s]=nt();let a=Y(t,"referenceClientRect",24,()=>{});const i=pe(Fe.CONTEXT_KEY),d=pe(Kn.CONTEXT_KEY),c=d.state;qe(),vi(e,{get referenceClientRect(){return a()},$$events:{keydown:async l=>{switch(l.key){case"ArrowUp":l.preventDefault(),l.stopPropagation(),n().open||await i.clickFocusedItem(),i?.focusIdx(-1);break;case"ArrowDown":l.preventDefault(),l.stopPropagation(),n().open||await i.clickFocusedItem(),i?.focusIdx(0);break;case"Enter":l.preventDefault(),l.stopPropagation(),i?.clickFocusedItem()}}},children:(l,u)=>{var o=Pm(),h=He(o);we(h,t,"default",{},null),ia(o,p=>i.registerTrigger?.(p)),ia(o,p=>d.registerTrigger?.(p)),te(l,o)},$$slots:{default:!0}}),ge(),s()},Chevron:vm};function Qy(e,t){fe(t,!0);const[n,r]=nt(),s=Y(t,"wait",3,!1),a=Y(t,"fetch",3,!1),i=ss(),d=fn("areFlagsReady");Vc(()=>{a()&&i(ar())}),Fd(()=>{t.initialFlags&&i(Vr({areFlagsReady:!0,...t.initialFlags||{}}))});var c=Qe(),l=xe(c),u=o=>{var h=Qe(),p=xe(h);Ua(p,()=>t.children??ja),te(o,h)};_n(l,o=>{s()&&!Be(d,"$areFlagsUpdated",n)||o(u)}),te(e,c),ge(),r()}var Om=ue('<span class="saga-marker svelte-1sskqky"></span>');function je(e,t){fe(t,!0);const n=ss();$d(()=>(n(gd(t.sagaName)),()=>{n(md(t.sagaName))}));var r=Om();zt(()=>Kc(r,"data-saga-name",t.sagaName)),te(e,r),ge()}var Nm=ue("<!> <!>",1),Lm=ue("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function Jy(e,t){fe(t,!0);let n=null;Gr()||(n=dm(t.initialState),Yr(Yl,n)),Zc(()=>{n?.dispose()});var r=Lm(),s=xe(r);(function(v,y){fe(y,!1);const b=ss();qe();var k=Nm();Ye("message",Bc,function(g){g.data.type!==I.asyncWrapper&&b(os(g))});var w=xe(k);je(w,{sagaName:"messagesHandler"}),je(he(w,2),{sagaName:"messagesSender"}),te(v,k),ge()})(s,{});var a=he(s,2);je(a,{sagaName:"refreshMemory"});var i=he(a,2);je(i,{sagaName:"updateFlags"});var d=he(i,2);je(d,{sagaName:"reportUserEvents"});var c=he(d,2);je(c,{sagaName:"subscriptionSyncLocalStorage"});var l=he(c,2);je(l,{sagaName:"subscriptionPolling"});var u=he(l,2);je(u,{sagaName:"rulesRefetch"});var o=he(u,2);je(o,{sagaName:"extensionNotifications"});var h=he(o,2);je(h,{sagaName:"files"});var p=he(h,2);je(p,{sagaName:"context"});var f=he(p,2);je(f,{sagaName:"updateMentionablesContext"});var m=he(f,2);Ua(m,()=>t.children??ja),te(e,r),ge()}export{Sf as $,xh as A,Jp as B,wr as C,Yy as D,Wf as E,Qy as F,Df as G,Ay as H,My as I,If as J,Iy as K,Ip as L,Ah as M,El as N,Va as O,er as P,Ja as Q,la as R,Jy as S,Im as T,su as U,Jm as V,Xd as W,Ry as X,of as Y,my as Z,bf as _,da as a,jh as a$,Af as a0,Tl as a1,py as a2,ny as a3,Ym as a4,D as a5,Yp as a6,Jf as a7,Bl as a8,Qp as a9,ly as aA,ry as aB,sy as aC,iy as aD,ay as aE,oy as aF,ml as aG,wm as aH,by as aI,yy as aJ,vy as aK,Sy as aL,_y as aM,je as aN,rf as aO,Kl as aP,Zs as aQ,Sn as aR,sf as aS,af as aT,zl as aU,bn as aV,Wl as aW,Dh as aX,Fh as aY,Aa as aZ,qh as a_,Xp as aa,Qf as ab,$a as ac,Py as ad,Zf as ae,ky as af,wy as ag,yf as ah,op as ai,ey as aj,xf as ak,Ef as al,cp as am,sp as an,ap as ao,Pr as ap,Al as aq,ty as ar,es as as,ru as at,Np as au,At as av,Tt as aw,uy as ax,cy as ay,ur as az,Nh as b,Er as b$,qy as b0,$h as b1,Uh as b2,vm as b3,pl as b4,Oh as b5,as as b6,Ta as b7,fl as b8,kr as b9,Mu as bA,xy as bB,Ha as bC,Ey as bD,xu as bE,Qa as bF,Xl as bG,sm as bH,am as bI,jy as bJ,Ny as bK,Wy as bL,rm as bM,yg as bN,Zn as bO,ig as bP,bm as bQ,Ky as bR,ug as bS,Fy as bT,$y as bU,By as bV,Hy as bW,Gy as bX,Vl as bY,Ru as bZ,Ma as b_,Mc as ba,hl as bb,Rh as bc,Ih as bd,Oy as be,Dy as bf,iu as bg,Cy as bh,Vf as bi,Ly as bj,Xr as bk,ip as bl,Tf as bm,Ty as bn,nu as bo,Ca as bp,Sm as bq,Hh as br,Bh as bs,De as bt,li as bu,Uy as bv,gy as bw,Xf as bx,Vy as by,Zy as bz,Lh as c,vg as c0,lg as c1,dg as c2,cg as c3,Xs as c4,yh as c5,Ba as c6,vh as c7,_h as c8,rl as c9,Zm as ca,Vm as cb,bh as cc,Ff as cd,zy as ce,Yg as cf,Km as cg,Wm as ch,Gr as d,dm as e,Op as f,ss as g,Rp as h,fn as i,ce as j,kh as k,Xm as l,wh as m,Ch as n,Rc as o,Th as p,ol as q,Eh as r,cf as s,Qm as t,Vr as u,Pp as v,dy as w,Ph as x,hy as y,fy as z};
//# sourceMappingURL=Store-CzuxPCq8.js.map
