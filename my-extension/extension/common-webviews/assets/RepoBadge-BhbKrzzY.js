import{W as u,t as A,u as n,x as S,R as M,aB as z,C as i,Q as I,X as N,J as k,E as b,K as y,a0 as B,n as g,F as C,v as O,B as T,T as F,a5 as J,D as f,y as U,a2 as j,$ as H}from"./TextAugment-CCgoKCVh.js";import{g as K,a as Q}from"./utils-BOGwHecm.js";import{I as W}from"./IconButtonAugment-CsdawHyK.js";import{B as X}from"./CalloutAugment-BUb-HAQ6.js";import{T as q,a as _}from"./CardAugment-Bqwu5ahx.js";try{c=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},($=new c.Error().stack)&&(c._sentryDebugIds=c._sentryDebugIds||{},c._sentryDebugIds[$]="59c766e1-5afd-4cbf-96c6-38048ac45173",c._sentryDebugIdIdentifier="sentry-dbid-59c766e1-5afd-4cbf-96c6-38048ac45173")}catch{}var c,$;class rt{constructor(t,e=void 0,r,s){this._msgBroker=t,this._state=e,this.validateState=r,this._storeId=s,e&&this.setStateInternal(e)}subscribers=new Set;subscribe(t){return this.subscribers.add(t),t(this),()=>{this.subscribers.delete(t)}}notifySubscribers(){this.subscribers.forEach(t=>t(this))}get state(){return this._state}get storeId(){return this._storeId}shouldAcceptMessage(t,e){return t.id===this.storeId&&this.validateState(e)}update(t){const e=t(this._state);e!==void 0&&this.setStateInternal(e)}setState(t){this.setStateInternal(t)}async setStateInternal(t){JSON.stringify(this._state)!==JSON.stringify(t)&&(this._state=t,this._msgBroker.postMessage({type:u.updateSharedWebviewState,data:t,id:this.storeId}))}async fetchStateFromExtension(){const t=await this._msgBroker.send({type:u.getSharedWebviewState,id:this.storeId,data:{}});t.type===u.getSharedWebviewStateResponse&&this.shouldAcceptMessage(t,t.data)&&(this._state=t.data,this.notifySubscribers())}handleMessageFromExtension(t){switch(t.data.type){case u.updateSharedWebviewState:case u.getSharedWebviewStateResponse:return!!this.shouldAcceptMessage(t.data,t.data.data)&&(this._state=t.data.data,this.notifySubscribers(),!0);default:return!1}}}const it="remoteAgentStore",nt="remoteAgentStore";function ot(a){const t=a;return Array.isArray(t?.agentOverviews)&&Array.isArray(t?.activeWebviews)&&(t?.pinnedAgents===void 0||typeof t.pinnedAgents=="object")}var G=S('<div><div class="status-dot svelte-1vu4rzt"></div> <div class="status-label svelte-1vu4rzt"> </div></div>');function dt(a,t){A(t,!0);let e=n(t,"isExpanded",3,!1),r=n(t,"hasUpdates",3,!1),s=I(()=>K(t.status,t.workspaceStatus,r())),o=I(()=>Q(i(s)));var d=G();M(d,(v,p)=>({class:"status-indicator-container",role:"status","aria-label":`Agent status: ${i(s)??""}`,title:`Status: ${i(s)??""}`,...v,[N]:p}),[()=>z(i(o)),()=>({expanded:e(),collapsed:!e()})],void 0,"svelte-1vu4rzt");var l=k(b(d),2),h=b(l);y(()=>B(h,i(s))),g(a,d),C()}var L=S('<div class="c-agent-info-value svelte-1iw3ylk"><!></div>'),P=S('<a class="c-agent-info-item svelte-1iw3ylk"><!> <!></a>');function x(a,t){A(t,!1);let e=n(t,"href",8),r=n(t,"tooltipContent",8),s=n(t,"badgeContent",8);O(),X.Root(a,{color:"neutral",radius:"full",children:(o,d)=>{var l=P(),h=b(l);T(h,t,"icon",{},null);var v=k(h,2);{let p=f(()=>(j(_),U(()=>[_.Hover])));q(v,{get content(){return r()},get triggerOn(){return i(p)},children:(E,V)=>{var m=L(),R=b(m);F(R,{size:1,children:(D,Y)=>{var w=J();y(()=>B(w,s())),g(D,w)},$$slots:{default:!0}}),g(E,m)},$$slots:{default:!0}})}y(()=>H(l,"href",e())),g(o,l)},$$slots:{default:!0}}),C()}function lt(a,t){let e=n(t,"repoUrl",8),r=n(t,"branchName",8);{let s=f(()=>`${e()}/tree/${r()}`),o=f(()=>`Started on branch: ${r()}`);x(a,{get href(){return i(s)},get tooltipContent(){return i(o)},get badgeContent(){return r()},$$slots:{icon:(d,l)=>{W(d,{slot:"icon",name:"git-branch"})}}})}}function ct(a,t){let e=n(t,"repoUrl",8),r=n(t,"repoName",8);{let s=f(()=>`Repository: ${e()}`);x(a,{get href(){return e()},get tooltipContent(){return i(s)},get badgeContent(){return r()},$$slots:{icon:(o,d)=>{W(o,{slot:"icon",name:"github"})}}})}}export{lt as B,ct as R,dt as S,nt as a,rt as b,it as c,ot as v};
//# sourceMappingURL=RepoBadge-BhbKrzzY.js.map
